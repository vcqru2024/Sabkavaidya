{"version":3,"file":"scripts.min.js","mappings":"oBAAIA,EAASC,OAYb,SAASC,IACPF,EAAOG,YAAYC,OAChBC,SAAQ,SAACC,GACRC,MAAMC,KAAKC,SAASC,uBAAuBJ,IACxCD,SAAQ,SAACM,IACHA,EAAQC,UAAUC,SAAS,yBAQ1C,SAA8BF,GAC5B,IAAIG,EAAOH,EAAQI,wBAEnB,OACID,EAAKE,KAAO,GACZF,EAAKG,MAAQ,GACbH,EAAKI,SAAWjB,OAAOkB,aAAeV,SAASW,gBAAgBC,eAC/DP,EAAKQ,QAAUrB,OAAOsB,YAAcd,SAASW,gBAAgBI,aAfEC,CAAoBd,KAmBzF,SAAsBA,EAAce,EAAcC,GAChD,IAAIC,EAAiBC,KAAKC,MACpBC,EAAO,WAET,IAAMC,EAAWC,KAAKC,KAAKL,KAAKC,MAAQF,GAtBwB,IAsBD,GAE/DjB,EAAQwB,UAAYF,KAAKG,MAAMJ,EAAWN,GAEtCM,EAAW,EAAG/B,OAAOoC,sBAAsBN,GAC1C9B,OAAOqC,qBAAqBrC,OAAOoC,sBAAsBN,KAGlE9B,OAAOoC,sBAAsBN,GA9BnBQ,CAAa5B,EAASA,EAAQ6B,aAAa,eAC3C7B,EAAQC,UAAU6B,IAAI,+BAlBhB,QAAlB,EAAAzC,EAAOG,mBAAW,QAAlBH,EAAOG,YAAgB,IACA,QAAvB,KAAAH,EAAOG,aAAYuC,YAAI,UAAJA,KAGnB,SAAyB,G,IAAEpC,EAAK,QAC9BN,EAAOG,YAAYC,OAAOuC,KAAKrC,GAC/BJ,MAJuB,QAAzB,KAAAF,EAAOG,aAAYC,cAAM,UAANA,OAAW,IAO9BH,OAAO2C,iBAAiB,UAAU,WAAM,OAAA1C,Q","sources":["webpack://app-counter2/./src/ts/index.ts"],"sourcesContent":["var winAny = window as any;\nwinAny.appCounter2 ??= {};\nwinAny.appCounter2.init ??= initAppCounter2;\nwinAny.appCounter2.domIds ??= [];\n\nfunction initAppCounter2({ domId } : { domId: string }) {\n  winAny.appCounter2.domIds.push(domId);\n  checkCounters();\n}\n\nwindow.addEventListener('scroll', () => checkCounters());\n\nfunction checkCounters() {\n  winAny.appCounter2.domIds\n    .forEach((domId: string) => {\n      Array.from(document.getElementsByClassName(domId))\n        .forEach((counter: HTMLElement) => {\n          if (!counter.classList.contains('app-counter2-js-seen') && isElementInViewport(counter)) {\n            startCounter(counter, counter.getAttribute('data-count'), 2000);\n            counter.classList.add('app-counter2-js-seen')\n          }\n        });\n  });\n}\n\nfunction isElementInViewport (counter: HTMLElement) {\n  var rect = counter.getBoundingClientRect();\n\n  return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n\nfunction startCounter(counter: any, lastVal: any, duration: any) {\n  let startTime: any = Date.now();\n  const step = () => {\n      //calculate the value to be used in calculating the number to be displayed\n      const progress = Math.min((Date.now() - startTime) / duration, 1);\n      //calculate what to be displayed using the value gotten above\n      counter.innerHTML = Math.floor(progress * lastVal);\n      //checking to make sure the counter does not exceed the last value (lastVal)\n      if (progress < 1) window.requestAnimationFrame(step);\n      else window.cancelAnimationFrame(window.requestAnimationFrame(step));\n  };\n\n  window.requestAnimationFrame(step);\n}"],"names":["winAny","window","checkCounters","appCounter2","domIds","forEach","domId","Array","from","document","getElementsByClassName","counter","classList","contains","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","isElementInViewport","lastVal","duration","startTime","Date","now","step","progress","Math","min","innerHTML","floor","requestAnimationFrame","cancelAnimationFrame","startCounter","getAttribute","add","init","push","addEventListener"],"sourceRoot":""}