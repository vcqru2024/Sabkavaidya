"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_services_content-types_service_ts-projects-9c4dae","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts"],{692:(Er,bt,K)=>{K.d(bt,{O:()=>Ct,X:()=>Ke});var M=K(604),b=K(6028),Oe=K(4896),et=K(1332),ut=K(3392);const Ct="admin/type/",se="admin/type/scopes";let Ke=(()=>{class Pe{constructor(Ce,ke,Ge){this.http=Ce,this.context=ke,this.dnnContext=Ge}apiUrl(Ce){return this.dnnContext.$2sxc.http.apiUrl(Ce)}retrieveContentType(Ce){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:Ce}})}retrieveContentTypes(Ce){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:Ce}})}getScopes(){return this.http.get(this.apiUrl(se),{params:{appId:this.context.appId.toString()}}).pipe((0,M.k)(Ce=>{const ke=Ce.old;return Object.keys(ke).map(x=>({name:ke[x],value:x}))}))}getScopesV2(){return this.http.get(this.apiUrl(se),{params:{appId:this.context.appId.toString()}}).pipe((0,M.k)(Ce=>Ce.scopes))}save(Ce){return this.http.post(this.apiUrl("admin/type/save"),Ce,{params:{appid:this.context.appId.toString()}})}delete(Ce){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:Ce.StaticName}})}import(Ce){const ke=new FormData;for(const Ge of Ce)ke.append("File",Ge);return this.http.post(this.apiUrl("admin/type/import"),ke,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(Ce){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:Ce}})}static#e=this.\u0275fac=function(ke){return new(ke||Pe)(Oe.CoB(et.KK),Oe.CoB(b.e),Oe.CoB(ut.es))};static#t=this.\u0275prov=Oe.wxM({token:Pe,factory:Pe.\u0275fac})}return Pe})()},6232:(Er,bt,K)=>{K.d(bt,{Y:()=>Ct});var M=K(624),b=K(6028),Oe=K(4896),et=K(600),ut=K(5204);let Ct=(()=>{class we{constructor(se,B,J,he,Ee,Ke){this.dialog=se,this.viewContainerRef=B,this.router=J,this.route=he,this.context=Ee,this.changeDetectorRef=Ke;const Pe=this.router.getCurrentNavigation();this.dialogData=Pe?.extras?.state||{}}ngOnInit(){const se=this.route.snapshot.data.dialog;if(null==se)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,M.y)("Open dialog:",se.name,"Context id:",this.context.id,"Context:",this.context),se.getComponent().then(B=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(se,B)}):this.openDialogComponent(se,B)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(se,B){se.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(B,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${se.panelSize}`,se.showScrollbar?"show-scrollbar":"no-scrollbar",...se.panelClass?se.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(J=>{(0,M.y)("Dialog was closed:",se.name,"Data:",J);const he=J;if(null==he?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:J}:{relativeTo:this.route.parent.parent,state:J});else this.router.navigate([he.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(B){return new(B||we)(Oe.GI1(et.qW),Oe.GI1(Oe.y8U),Oe.GI1(ut.E5),Oe.GI1(ut.gV),Oe.GI1(b.e),Oe.GI1(Oe.kD9))};static#t=this.\u0275cmp=Oe.In1({type:we,selectors:[["app-dialog-entry"]],decls:0,vars:0,template:function(B,J){}})}return we})()},4580:(Er,bt,K)=>{K.d(bt,{c:()=>bn});var M=K(4072),b=K(9738),Oe=function(P,C){var f="function"==typeof Symbol&&P[Symbol.iterator];if(!f)return P;var m,R,v=f.call(P),w=[];try{for(;(void 0===C||C-- >0)&&!(m=v.next()).done;)w.push(m.value)}catch(T){R={error:T}}finally{try{m&&!m.done&&(f=v.return)&&f.call(v)}finally{if(R)throw R.error}}return w},et=function(){for(var P=[],C=0;C<arguments.length;C++)P=P.concat(Oe(arguments[C]));return P},ut=function(){function P(C,f,v,m,w,R){this.nextId=0,this.allNodesMap={},this.rootNode=C,this.gridOptionsService=f,this.eventService=v,this.columnModel=m,this.beans=R,this.selectionService=w,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=P.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return P.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},P.prototype.getCopyOfNodesMap=function(){return b._.cloneObject(this.allNodesMap)},P.prototype.getRowNode=function(C){return this.allNodesMap[C]},P.prototype.setRowData=function(C){var f=this;if("string"!=typeof C){var v=this.rootNode,m=this.rootNode.sibling;v.childrenAfterFilter=null,v.childrenAfterGroup=null,v.childrenAfterAggFilter=null,v.childrenAfterSort=null,v.childrenMapped=null,v.updateHasChildren(),this.nextId=0,this.allNodesMap={},C?v.allLeafChildren=C.map(function(w){return f.createNode(w,f.rootNode,P.TOP_LEVEL)}):(v.allLeafChildren=[],v.childrenAfterGroup=[]),m&&(m.childrenAfterFilter=v.childrenAfterFilter,m.childrenAfterGroup=v.childrenAfterGroup,m.childrenAfterAggFilter=v.childrenAfterAggFilter,m.childrenAfterSort=v.childrenAfterSort,m.childrenMapped=v.childrenMapped,m.allLeafChildren=v.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},P.prototype.updateRowData=function(C,f){var v={remove:[],update:[],add:[]},m=[];return this.executeRemove(C,v,m),this.executeUpdate(C,v,m),this.executeAdd(C,v),this.updateSelection(m,"rowDataChanged"),f&&b._.sortRowNodesByOrder(this.rootNode.allLeafChildren,f),v},P.prototype.updateSelection=function(C,f){var v=C.length>0;v&&C.forEach(function(w){w.setSelected(!1,!1,!0,f)}),this.selectionService.updateGroupsFromChildrenSelections(f),v&&this.eventService.dispatchEvent({type:b.YFc.EVENT_SELECTION_CHANGED,source:f})},P.prototype.executeAdd=function(C,f){var m,v=this,w=C.add,R=C.addIndex;if(!b._.missingOrEmpty(w)){var T=w.map(function(ne){return v.createNode(ne,v.rootNode,P.TOP_LEVEL)});if("number"==typeof R&&R>=0){var V=this.rootNode.allLeafChildren,W=V.length,ie=R;if(this.doingTreeData&&R>0&&W>0)for(var Y=0;Y<W;Y++)if((null===(m=V[Y])||void 0===m?void 0:m.rowIndex)==R-1){ie=Y+1;break}var ae=V.slice(0,ie),Se=V.slice(ie,V.length);this.rootNode.allLeafChildren=et(ae,T,Se)}else this.rootNode.allLeafChildren=et(this.rootNode.allLeafChildren,T);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),f.add=T}},P.prototype.executeRemove=function(C,f,v){var m=this,w=C.remove;if(!b._.missingOrEmpty(w)){var R={};w.forEach(function(T){var V=m.lookupRowNode(T);V&&(V.isSelected()&&v.push(V),V.clearRowTopAndRowIndex(),R[V.id]=!0,delete m.allNodesMap[V.id],f.remove.push(V))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(T){return!R[T.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},P.prototype.executeUpdate=function(C,f,v){var m=this,w=C.update;b._.missingOrEmpty(w)||w.forEach(function(R){var T=m.lookupRowNode(R);T&&(T.updateData(R),!T.selectable&&T.isSelected()&&v.push(T),m.setMasterForRow(T,R,P.TOP_LEVEL,!1),f.update.push(T))})},P.prototype.lookupRowNode=function(C){var v,f=this.gridOptionsService.getRowIdFunc();if(f){var m=f({data:C,level:0});if(!(v=this.allNodesMap[m]))return console.error("AG Grid: could not find row id="+m+", data item was not found for this id"),null}else if(!(v=this.rootNode.allLeafChildren.find(function(w){return w.data===C})))return console.error("AG Grid: could not find data item as object was not found",C),console.error("Consider using getRowId to help the Grid find matching row data"),null;return v||null},P.prototype.createNode=function(C,f,v){var m=new b.w$i(this.beans);return m.group=!1,this.setMasterForRow(m,C,v,!0),f&&!this.suppressParentsInRowNodes&&(m.parent=f),m.level=v,m.setDataAndId(C,this.nextId.toString()),this.allNodesMap[m.id]&&console.warn("AG Grid: duplicate node id '"+m.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[m.id]=m,this.nextId++,m},P.prototype.setMasterForRow=function(C,f,v,m){if(this.doingTreeData)C.setMaster(!1),m&&(C.expanded=!1);else if(C.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(f))),m){var w=this.columnModel.getRowGroupColumns();C.expanded=!!C.master&&this.isExpanded(v+(w?w.length:0))}},P.prototype.isExpanded=function(C){var f=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===f||C<f},P.TOP_LEVEL=0,P.ROOT_NODE_ID="ROOT_NODE_ID",P}(),Ct=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),we=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},de=function(P,C){var f="function"==typeof Symbol&&P[Symbol.iterator];if(!f)return P;var m,R,v=f.call(P),w=[];try{for(;(void 0===C||C-- >0)&&!(m=v.next()).done;)w.push(m.value)}catch(T){R={error:T}}finally{try{m&&!m.done&&(f=v.return)&&f.call(v)}finally{if(R)throw R.error}}return w},se=function(){for(var P=[],C=0;C<arguments.length;C++)P=P.concat(de(arguments[C]));return P},B=function(P){return P[P.Normal=0]="Normal",P[P.AfterFilter=1]="AfterFilter",P[P.AfterFilterAndSort=2]="AfterFilterAndSort",P[P.PivotNodes=3]="PivotNodes",P}(B||{}),J=function(P){function C(){var f=null!==P&&P.apply(this,arguments)||this;return f.onRowHeightChanged_debounced=b._.debounce(f.onRowHeightChanged.bind(f),100),f.rowsToDisplay=[],f}return Ct(C,P),C.prototype.init=function(){var f=this.refreshModel.bind(this,{step:b.V2j.EVERYTHING}),v=!this.gridOptionsService.is("suppressAnimationFrame"),m=this.refreshModel.bind(this,{step:b.V2j.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:v});this.addManagedListener(this.eventService,b.YFc.EVENT_NEW_COLUMNS_LOADED,m),this.addManagedListener(this.eventService,b.YFc.EVENT_COLUMN_ROW_GROUP_CHANGED,f),this.addManagedListener(this.eventService,b.YFc.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,b.YFc.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:b.V2j.PIVOT})),this.addManagedListener(this.eventService,b.YFc.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,b.YFc.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,b.YFc.EVENT_COLUMN_PIVOT_MODE_CHANGED,f),this.addManagedListener(this.eventService,b.YFc.EVENT_GRID_STYLES_CHANGED,this.resetRowHeights.bind(this));var w=this.refreshModel.bind(this,{step:b.V2j.MAP,keepRenderedRows:!0,animate:v});this.addManagedPropertyListener("groupRemoveSingleChildren",w),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",w),this.rootNode=new b.w$i(this.beans),this.nodeManager=new ut(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},C.prototype.start=function(){var f=this.gridOptionsService.get("rowData");f&&this.setRowData(f)},C.prototype.ensureRowHeightsValid=function(f,v,m,w){var R,T=!1;do{R=!1;for(var V=this.getRowIndexAtPixel(f),W=this.getRowIndexAtPixel(v),ie=Math.max(V,m),Y=Math.min(W,w),ae=ie;ae<=Y;ae++){var Se=this.getRow(ae);if(Se.rowHeightEstimated){var ne=this.gridOptionsService.getRowHeightForNode(Se);Se.setRowHeight(ne.height),R=!0,T=!0}}R&&this.setRowTopAndRowIndex()}while(R);return T},C.prototype.setRowTopAndRowIndex=function(){for(var f=this.environment.getDefaultRowHeight(),v=0,m=new Set,w=this.gridOptionsService.isDomLayout("normal"),R=0;R<this.rowsToDisplay.length;R++){var T=this.rowsToDisplay[R];if(null!=T.id&&m.add(T.id),null==T.rowHeight){var V=this.gridOptionsService.getRowHeightForNode(T,w,f);T.setRowHeight(V.height,V.estimated)}T.setRowTop(v),T.setRowIndex(R),v+=T.rowHeight}return m},C.prototype.clearRowTopAndRowIndex=function(f,v){var m=f.isActive(),w=function(T){T&&null!=T.id&&!v.has(T.id)&&T.clearRowTopAndRowIndex()},R=function(T){w(T),w(T.detailNode),w(T.sibling),T.hasChildren()&&T.childrenAfterGroup&&(m&&-1!=T.level&&!T.expanded||T.childrenAfterGroup.forEach(R))};R(this.rootNode)},C.prototype.ensureRowsAtPixel=function(f,v,m){var w=this;void 0===m&&(m=0);var R=this.getRowIndexAtPixel(v),T=this.getRow(R),V=!this.gridOptionsService.is("suppressAnimationFrame");return T!==f[0]&&(f.forEach(function(W){b._.removeFromArray(w.rootNode.allLeafChildren,W)}),f.forEach(function(W,ie){b._.insertIntoArray(w.rootNode.allLeafChildren,W,Math.max(R+m,0)+ie)}),this.refreshModel({step:b.V2j.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:V}),!0)},C.prototype.highlightRowAtPixel=function(f,v){var m=null!=v?this.getRowIndexAtPixel(v):null,w=null!=m?this.getRow(m):null;if(w&&f&&w!==f&&null!=v){var R=this.getHighlightPosition(v,w);this.lastHighlightedRow&&this.lastHighlightedRow!==w&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),w.setHighlighted(R),this.lastHighlightedRow=w}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},C.prototype.getHighlightPosition=function(f,v){if(!v){var m=this.getRowIndexAtPixel(f);if(!(v=this.getRow(m||0)))return b.ait.Below}return f-v.rowTop<v.rowHeight/2?b.ait.Above:b.ait.Below},C.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},C.prototype.isLastRowIndexKnown=function(){return!0},C.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},C.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var v=this.rootNode.childrenAfterAggFilter;return v?v.length:0},C.prototype.getTopLevelRowDisplayedIndex=function(f){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return f;var m=this.rootNode.childrenAfterSort[f];if(this.gridOptionsService.is("groupHideOpenParents"))for(;m.expanded&&m.childrenAfterSort&&m.childrenAfterSort.length>0;)m=m.childrenAfterSort[0];return m.rowIndex},C.prototype.getRowBounds=function(f){if(b._.missing(this.rowsToDisplay))return null;var v=this.rowsToDisplay[f];return v?{rowTop:v.rowTop,rowHeight:v.rowHeight}:null},C.prototype.onRowGroupOpened=function(){var f=this.gridOptionsService.isAnimateRows();this.refreshModel({step:b.V2j.MAP,keepRenderedRows:!0,animate:f})},C.prototype.onFilterChanged=function(f){if(!f.afterDataChange){var v=this.gridOptionsService.isAnimateRows(),m=0===f.columns.length||f.columns.some(function(R){return R.isPrimary()});this.refreshModel({step:m?b.V2j.FILTER:b.V2j.FILTER_AGGREGATES,keepRenderedRows:!0,animate:v})}},C.prototype.onSortChanged=function(){var f=this.gridOptionsService.isAnimateRows();this.refreshModel({step:b.V2j.SORT,keepRenderedRows:!0,animate:f,keepEditingRows:!0})},C.prototype.getType=function(){return"clientSide"},C.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:b.V2j.PIVOT}):this.refreshModel({step:b.V2j.AGGREGATE})},C.prototype.createChangePath=function(f){var v=b._.missingOrEmpty(f),m=new b.y6Z(!1,this.rootNode);return(v||this.gridOptionsService.isTreeData())&&m.setInactive(),m},C.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(f){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==f.rowNodeTransactions)return!1;var v=f.rowNodeTransactions.filter(function(w){return null!=w.add&&w.add.length>0||null!=w.remove&&w.remove.length>0});return null==v||0==v.length},C.prototype.buildRefreshModelParams=function(f){var v=b.V2j.EVERYTHING,m={everything:b.V2j.EVERYTHING,group:b.V2j.EVERYTHING,filter:b.V2j.FILTER,map:b.V2j.MAP,aggregate:b.V2j.AGGREGATE,sort:b.V2j.SORT,pivot:b.V2j.PIVOT};if(b._.exists(f)&&(v=m[f]),!b._.missing(v))return{step:v,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+f+", available steps are "+Object.keys(m).join(", "))},C.prototype.refreshModel=function(f){var v="object"==typeof f&&"step"in f?f:this.buildRefreshModelParams(f);if(v&&!this.isSuppressModelUpdateAfterUpdateTransaction(v)){var m=this.createChangePath(v.rowNodeTransactions);switch(v.step){case b.V2j.EVERYTHING:this.doRowGrouping(v.groupState,v.rowNodeTransactions,v.rowNodeOrder,m,!!v.afterColumnsChanged);case b.V2j.FILTER:this.doFilter(m);case b.V2j.PIVOT:this.doPivot(m);case b.V2j.AGGREGATE:this.doAggregate(m);case b.V2j.FILTER_AGGREGATES:this.doFilterAggregates(m);case b.V2j.SORT:this.doSort(v.rowNodeTransactions,m);case b.V2j.MAP:this.doRowsToDisplay()}var w=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(m,w),this.eventService.dispatchEvent({type:b.YFc.EVENT_MODEL_UPDATED,animate:v.animate,keepRenderedRows:v.keepRenderedRows,newData:v.newData,newPage:!1,keepUndoRedoStack:v.keepUndoRedoStack})}},C.prototype.isEmpty=function(){var f=b._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return b._.missing(this.rootNode)||f||!this.columnModel.isReady()},C.prototype.isRowsToRender=function(){return b._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},C.prototype.getNodesInRangeForSelection=function(f,v){var R,m=!v,w=!1,T=[],V=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(W){var ie=m&&!w;if(m||(W===v||W===f)&&(m=!0),!W.group||!V){var ae=m&&!w,Se=W.isParentOfNode(R);(ae||Se)&&T.push(W)}ie&&(W===v||W===f)&&(w=!0,R=W===v?v:f)}),T},C.prototype.setDatasource=function(f){console.error("AG Grid: should never call setDatasource on clientSideRowController")},C.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},C.prototype.getRootNode=function(){return this.rootNode},C.prototype.getRow=function(f){return this.rowsToDisplay[f]},C.prototype.isRowPresent=function(f){return this.rowsToDisplay.indexOf(f)>=0},C.prototype.getRowIndexAtPixel=function(f){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var v=0,m=this.rowsToDisplay.length-1;if(f<=0)return 0;if(b._.last(this.rowsToDisplay).rowTop<=f)return this.rowsToDisplay.length-1;for(var R=-1,T=-1;;){var V=Math.floor((v+m)/2),W=this.rowsToDisplay[V];if(this.isRowInPixel(W,f))return V;if(W.rowTop<f?v=V+1:W.rowTop>f&&(m=V-1),R===v&&T===m)return V;R=v,T=m}},C.prototype.isRowInPixel=function(f,v){return f.rowTop<=v&&f.rowTop+f.rowHeight>v},C.prototype.forEachLeafNode=function(f){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(v,m){return f(v,m)})},C.prototype.forEachNode=function(f,v){void 0===v&&(v=!1),this.recursivelyWalkNodesAndCallback({nodes:se(this.rootNode.childrenAfterGroup||[]),callback:f,recursionType:B.Normal,index:0,includeFooterNodes:v})},C.prototype.forEachNodeAfterFilter=function(f,v){void 0===v&&(v=!1),this.recursivelyWalkNodesAndCallback({nodes:se(this.rootNode.childrenAfterAggFilter||[]),callback:f,recursionType:B.AfterFilter,index:0,includeFooterNodes:v})},C.prototype.forEachNodeAfterFilterAndSort=function(f,v){void 0===v&&(v=!1),this.recursivelyWalkNodesAndCallback({nodes:se(this.rootNode.childrenAfterSort||[]),callback:f,recursionType:B.AfterFilterAndSort,index:0,includeFooterNodes:v})},C.prototype.forEachPivotNode=function(f,v){void 0===v&&(v=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:f,recursionType:B.PivotNodes,index:0,includeFooterNodes:v})},C.prototype.recursivelyWalkNodesAndCallback=function(f){var v,m=f.nodes,w=f.callback,R=f.recursionType,T=f.includeFooterNodes,V=f.index,W=m[0];T&&null!==(v=W?.parent)&&void 0!==v&&v.sibling&&m.push(W.parent.sibling);for(var ie=0;ie<m.length;ie++){var Y=m[ie];if(w(Y,V++),Y.hasChildren()&&!Y.footer){var ae=null;switch(R){case B.Normal:ae=Y.childrenAfterGroup;break;case B.AfterFilter:ae=Y.childrenAfterAggFilter;break;case B.AfterFilterAndSort:ae=Y.childrenAfterSort;break;case B.PivotNodes:ae=Y.leafGroup?null:Y.childrenAfterSort}ae&&(V=this.recursivelyWalkNodesAndCallback({nodes:se(ae),callback:w,recursionType:R,index:V,includeFooterNodes:T}))}}return V},C.prototype.doAggregate=function(f){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:f})},C.prototype.doFilterAggregates=function(f){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:f}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},C.prototype.expandOrCollapseAll=function(f){var v=this.gridOptionsService.isTreeData(),m=this.columnModel.isPivotActive(),w=function(V){V&&V.forEach(function(W){var ie=function(){W.expanded=f,w(W.childrenAfterGroup)};v?b._.exists(W.childrenAfterGroup)&&ie():m?!W.leafGroup&&ie():W.group&&ie()})};this.rootNode&&w(this.rootNode.childrenAfterGroup),this.refreshModel({step:b.V2j.MAP}),this.eventService.dispatchEvent({type:b.YFc.EVENT_EXPAND_COLLAPSE_ALL,source:f?"expandAll":"collapseAll"})},C.prototype.doSort=function(f,v){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:f,changedPath:v})},C.prototype.doRowGrouping=function(f,v,m,w,R){this.groupStage?(v?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:v,rowNodeOrder:m,changedPath:w}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:w,afterColumnsChanged:R}),this.restoreGroupState(f)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",w)&&this.eventService.dispatchEvent({type:b.YFc.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},C.prototype.restoreGroupState=function(f){f&&b._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(v,m){"boolean"==typeof f[m]&&(v.expanded=f[m])})},C.prototype.doFilter=function(f){this.filterStage.execute({rowNode:this.rootNode,changedPath:f})},C.prototype.doPivot=function(f){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:f})},C.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var f={};return b._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(v,m){return f[m]=v.expanded}),f},C.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},C.prototype.getRowNode=function(f){if("string"==typeof f&&0==f.indexOf(b.w$i.ID_PREFIX_ROW_GROUP)){var m=void 0;return this.forEachNode(function(w){w.id===f&&(m=w)}),m}return this.nodeManager.getRowNode(f)},C.prototype.setRowData=function(f){var v=this.getGroupState();this.nodeManager.setRowData(f),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:b.YFc.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:b.V2j.EVERYTHING,groupState:v,newData:!0})},C.prototype.batchUpdateRowData=function(f,v){var m=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var w=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){m.executeBatchUpdateRowData()},w)}this.rowDataTransactionBatch.push({rowDataTransaction:f,callback:v})},C.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},C.prototype.executeBatchUpdateRowData=function(){var f=this;this.valueCache.onDataChanged();var v=[],m=[],w=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(T){var V=f.nodeManager.updateRowData(T.rowDataTransaction,void 0);m.push(V),T.callback&&v.push(T.callback.bind(null,V)),"number"==typeof T.rowDataTransaction.addIndex&&(w=!0)}),this.commonUpdateRowData(m,void 0,w),v.length>0&&window.setTimeout(function(){v.forEach(function(T){return T()})},0),m.length>0&&this.eventService.dispatchEvent({type:b.YFc.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:m}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},C.prototype.updateRowData=function(f,v){this.valueCache.onDataChanged();var m=this.nodeManager.updateRowData(f,v);return this.commonUpdateRowData([m],v,"number"==typeof f.addIndex),m},C.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var v={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var m=0;m<this.rootNode.allLeafChildren.length;m++)v[this.rootNode.allLeafChildren[m].id]=m;return v}},C.prototype.commonUpdateRowData=function(f,v,m){var w=!this.gridOptionsService.is("suppressAnimationFrame");m&&(v=this.createRowNodeOrder()),this.refreshModel({step:b.V2j.EVERYTHING,rowNodeTransactions:f,rowNodeOrder:v,keepRenderedRows:!0,keepEditingRows:!0,animate:w}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:b.YFc.EVENT_ROW_DATA_UPDATED})},C.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},C.prototype.onRowHeightChanged=function(){this.refreshModel({step:b.V2j.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},C.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},C.prototype.resetRowHeights=function(){var f=!1;this.forEachNode(function(v){v.setRowHeight(v.rowHeight,!0);var m=v.detailNode;m&&m.setRowHeight(m.rowHeight,!0),f=!0}),this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),f&&this.onRowHeightChanged()},we([(0,b.Qnc)("columnModel")],C.prototype,"columnModel",void 0),we([(0,b.Qnc)("selectionService")],C.prototype,"selectionService",void 0),we([(0,b.Qnc)("filterManager")],C.prototype,"filterManager",void 0),we([(0,b.Qnc)("valueCache")],C.prototype,"valueCache",void 0),we([(0,b.Qnc)("beans")],C.prototype,"beans",void 0),we([(0,b.Qnc)("filterStage")],C.prototype,"filterStage",void 0),we([(0,b.Qnc)("sortStage")],C.prototype,"sortStage",void 0),we([(0,b.Qnc)("flattenStage")],C.prototype,"flattenStage",void 0),we([(0,b.T7N)("groupStage")],C.prototype,"groupStage",void 0),we([(0,b.T7N)("aggregationStage")],C.prototype,"aggregationStage",void 0),we([(0,b.T7N)("pivotStage")],C.prototype,"pivotStage",void 0),we([(0,b.T7N)("filterAggregatesStage")],C.prototype,"filterAggregatesStage",void 0),we([b.QhY],C.prototype,"init",null),we([(0,b.ekA)("rowModel")],C)}(b._QX),he=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),Ee=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},Ke=function(P){function C(){return null!==P&&P.apply(this,arguments)||this}return he(C,P),C.prototype.execute=function(f){this.filterService.filter(f.changedPath)},Ee([(0,b.Qnc)("filterService")],C.prototype,"filterService",void 0),Ee([(0,b.ekA)("filterStage")],C)}(b._QX),Pe=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),dt=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},Ce=function(P){function C(){return null!==P&&P.apply(this,arguments)||this}return Pe(C,P),C.prototype.execute=function(f){var v=this,m=this.sortController.getSortOptions(),w=b._.exists(m)&&m.length>0,R=w&&b._.exists(f.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),T=m.some(function(V){return!!v.columnModel.getGroupDisplayColumnForGroup(V.column.getId())});this.sortService.sort(m,w,R,f.rowNodeTransactions,f.changedPath,T)},dt([(0,b.Qnc)("sortService")],C.prototype,"sortService",void 0),dt([(0,b.Qnc)("sortController")],C.prototype,"sortController",void 0),dt([(0,b.Qnc)("columnModel")],C.prototype,"columnModel",void 0),dt([(0,b.ekA)("sortStage")],C)}(b._QX),ke=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),Ge=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},x=function(P){function C(){return null!==P&&P.apply(this,arguments)||this}return ke(C,P),C.prototype.execute=function(f){var v=f.rowNode,m=[],w={value:0},R=this.columnModel.isPivotMode(),T=R&&v.leafGroup;return this.recursivelyAddToRowsToDisplay(T?[v]:v.childrenAfterSort,m,w,R,0),!T&&m.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(v.createFooter(),this.addRowNodeToRowsToDisplay(v.sibling,m,w,0)),m},C.prototype.recursivelyAddToRowsToDisplay=function(f,v,m,w,R){if(!b._.missingOrEmpty(f))for(var T=this.gridOptionsService.is("groupHideOpenParents"),V=this.gridOptionsService.is("groupRemoveSingleChildren"),W=!V&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),ie=0;ie<f.length;ie++){var Y=f[ie],ae=Y.hasChildren(),ne=V&&ae&&1===Y.childrenAfterGroup.length,te=W&&ae&&Y.leafGroup&&1===Y.childrenAfterGroup.length;if(!(w&&!ae||T&&Y.expanded&&!Y.master&&(!w||!Y.leafGroup)||ne||te)&&this.addRowNodeToRowsToDisplay(Y,v,m,R),!w||!Y.leafGroup)if(ae){var kt=ne||te;(Y.expanded||kt)&&(this.recursivelyAddToRowsToDisplay(Y.childrenAfterSort,v,m,w,kt?R:R+1),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(Y.sibling,v,m,R))}else if(Y.master&&Y.expanded){var Lt=this.createDetailNode(Y);this.addRowNodeToRowsToDisplay(Lt,v,m,R)}}},C.prototype.addRowNodeToRowsToDisplay=function(f,v,m,w){var R=this.gridOptionsService.isGroupMultiAutoColumn();v.push(f),f.setUiLevel(R?0:w)},C.prototype.createDetailNode=function(f){if(b._.exists(f.detailNode))return f.detailNode;var v=new b.w$i(this.beans);return v.detail=!0,v.selectable=!1,v.parent=f,b._.exists(f.id)&&(v.id="detail_"+f.id),v.data=f.data,v.level=f.level+1,f.detailNode=v,v},Ge([(0,b.Qnc)("columnModel")],C.prototype,"columnModel",void 0),Ge([(0,b.Qnc)("beans")],C.prototype,"beans",void 0),Ge([(0,b.ekA)("flattenStage")],C)}(b._QX),Q=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),Le=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},Li=function(P){function C(){return null!==P&&P.apply(this,arguments)||this}return Q(C,P),C.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},C.prototype.sort=function(f,v,m,w,R,T){var V=this,W=this.gridOptionsService.is("groupMaintainOrder"),ie=this.columnModel.getAllGridColumns().some(function(ne){return ne.isRowGroupActive()}),Y={};m&&w&&(Y=this.calculateDirtyNodes(w));var ae=this.columnModel.isPivotMode();R&&R.forEachChangedNodeDepthFirst(function(ne){V.pullDownGroupDataForHideOpenParents(ne.childrenAfterAggFilter,!0);var te=ae&&ne.leafGroup;if(W&&ie&&!ne.leafGroup&&!T){var At=ne.childrenAfterAggFilter.slice(0);if(ne.childrenAfterSort){var jt={};ne.childrenAfterSort.forEach(function(Ft,Lt){jt[Ft.id]=Lt}),At.sort(function(Ft,Lt){var gi,Qe;return(null!==(gi=jt[Ft.id])&&void 0!==gi?gi:0)-(null!==(Qe=jt[Lt.id])&&void 0!==Qe?Qe:0)})}ne.childrenAfterSort=At}else ne.childrenAfterSort=!v||te?ne.childrenAfterAggFilter.slice(0):m?V.doDeltaSort(ne,Y,R,f):V.rowNodeSorter.doFullSort(ne.childrenAfterAggFilter,f);ne.sibling&&(ne.sibling.childrenAfterSort=ne.childrenAfterSort),V.updateChildIndexes(ne),V.postSortFunc&&V.postSortFunc({nodes:ne.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(R)},C.prototype.getPostSortFunc=function(){var f=this.gridOptionsService.getCallback("postSortRows");if(f)return f;var v=this.gridOptionsService.get("postSort");return v?function(m){return v(m.nodes)}:void 0},C.prototype.calculateDirtyNodes=function(f){var v={},m=function(w){w&&w.forEach(function(R){return v[R.id]=!0})};return f&&f.forEach(function(w){m(w.add),m(w.update),m(w.remove)}),v},C.prototype.doDeltaSort=function(f,v,m,w){var R=this,T=f.childrenAfterAggFilter,V=f.childrenAfterSort;if(!V)return this.rowNodeSorter.doFullSort(T,w);var W={},ie=[];T.forEach(function(ne){v[ne.id]||!m.canSkip(ne)?ie.push(ne):W[ne.id]=!0});var Y=V.filter(function(ne){return W[ne.id]}),ae=function(ne,te){return{currentPos:te,rowNode:ne}},Se=ie.map(ae).sort(function(ne,te){return R.rowNodeSorter.compareRowNodes(w,ne,te)});return this.mergeSortedArrays(w,Se,Y.map(ae)).map(function(ne){return ne.rowNode})},C.prototype.mergeSortedArrays=function(f,v,m){for(var w=[],R=0,T=0;R<v.length&&T<m.length;){var V=this.rowNodeSorter.compareRowNodes(f,v[R],m[T]);w.push(V<0?v[R++]:m[T++])}for(;R<v.length;)w.push(v[R++]);for(;T<m.length;)w.push(m[T++]);return w},C.prototype.updateChildIndexes=function(f){if(!b._.missing(f.childrenAfterSort))for(var v=f.childrenAfterSort,m=0;m<v.length;m++){var w=v[m],T=m===f.childrenAfterSort.length-1;w.setFirstChild(0===m),w.setLastChild(T),w.setChildIndex(m)}},C.prototype.updateGroupDataForHideOpenParents=function(f){var v=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData())return b._.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var w=function(R){v.pullDownGroupDataForHideOpenParents(R.childrenAfterSort,!1),R.childrenAfterSort.forEach(function(T){T.hasChildren()&&w(T)})};f&&f.executeFromRootNode(function(R){return w(R)})}},C.prototype.pullDownGroupDataForHideOpenParents=function(f,v){var m=this;!this.gridOptionsService.is("groupHideOpenParents")||b._.missing(f)||f.forEach(function(w){m.columnModel.getGroupDisplayColumns().forEach(function(T){var V=T.getColDef().showRowGroup;if("string"==typeof V){var ie=m.columnModel.getPrimaryColumn(V);if(ie!==w.rowGroupColumn)if(v)w.setGroupValue(T.getId(),void 0);else{var ae=w.getFirstChildOfFirstChild(ie);ae&&w.setGroupValue(T.getId(),ae.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Le([(0,b.Qnc)("columnModel")],C.prototype,"columnModel",void 0),Le([(0,b.Qnc)("rowNodeSorter")],C.prototype,"rowNodeSorter",void 0),Le([b.QhY],C.prototype,"init",null),Le([(0,b.ekA)("sortService")],C)}(b._QX),Ye=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),tt=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},On=function(P){function C(){return null!==P&&P.apply(this,arguments)||this}return Ye(C,P),C.prototype.filter=function(f){var v=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(v,f)},C.prototype.filterNodes=function(f,v){var m=this,w=function(W,ie){W.childrenAfterFilter=W.hasChildren()&&f&&!ie?W.childrenAfterGroup.filter(function(Y){var ae=Y.childrenAfterFilter&&Y.childrenAfterFilter.length>0,Se=Y.data&&m.filterManager.doesRowPassFilter({rowNode:Y});return ae||Se}):W.childrenAfterGroup,W.sibling&&(W.sibling.childrenAfterFilter=W.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var R=function(W,ie){if(W.childrenAfterGroup)for(var Y=0;Y<W.childrenAfterGroup.length;Y++){var ae=W.childrenAfterGroup[Y],Se=ie||m.filterManager.doesRowPassFilter({rowNode:ae});ae.childrenAfterGroup?R(W.childrenAfterGroup[Y],Se):w(ae,Se)}w(W,ie)};v.executeFromRootNode(function(W){return R(W,!1)})}else v.forEachChangedNodeDepthFirst(function(W){return w(W,!1)},!0)},C.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},tt([(0,b.Qnc)("filterManager")],C.prototype,"filterManager",void 0),tt([(0,b.ekA)("filterService")],C)}(b._QX),Tn=function(){var P=function(C,f){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w])})(C,f)};return function(C,f){function v(){this.constructor=C}P(C,f),C.prototype=null===f?Object.create(f):(v.prototype=f.prototype,new v)}}(),fi=function(P,C,f,v){var R,m=arguments.length,w=m<3?C:null===v?v=Object.getOwnPropertyDescriptor(C,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(P,C,f,v);else for(var T=P.length-1;T>=0;T--)(R=P[T])&&(w=(m<3?R(w):m>3?R(C,f,w):R(C,f))||w);return m>3&&w&&Object.defineProperty(C,f,w),w},$t=function(P){function C(){return null!==P&&P.apply(this,arguments)||this}return Tn(C,P),C.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},C.prototype.isActive=function(){var f=this.gridOptionsService.exists("getRowId"),v=this.gridOptionsService.is("immutableData");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&(f||v)},C.prototype.setRowData=function(f){var v=this.createTransactionForRowData(f);if(v){var m=function(P,C){var f="function"==typeof Symbol&&P[Symbol.iterator];if(!f)return P;var m,R,v=f.call(P),w=[];try{for(;(void 0===C||C-- >0)&&!(m=v.next()).done;)w.push(m.value)}catch(T){R={error:T}}finally{try{m&&!m.done&&(f=v.return)&&f.call(v)}finally{if(R)throw R.error}}return w}(v,2),T=this.clientSideRowModel.updateRowData(m[0],m[1]);T&&this.rowRenderer.refreshFullWidthRows(T.update)}},C.prototype.createTransactionForRowData=function(f){if(b._.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var v=this.gridOptionsService.getRowIdFunc();if(null!=v){var m={remove:[],update:[],add:[]},w=this.clientSideRowModel.getCopyOfNodesMap(),T=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return b._.exists(f)&&f.forEach(function(V,W){var ie=v({data:V,level:0}),Y=w[ie];T&&(T[ie]=W),Y?(Y.data!==V&&m.update.push(V),w[ie]=void 0):m.add.push(V)}),b._.iterateObject(w,function(V,W){W&&m.remove.push(W.data)}),[m,T]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},fi([(0,b.Qnc)("rowModel")],C.prototype,"rowModel",void 0),fi([(0,b.Qnc)("rowRenderer")],C.prototype,"rowRenderer",void 0),fi([b.QhY],C.prototype,"postConstruct",null),fi([(0,b.ekA)("immutableService")],C)}(b._QX),me={version:"29.2.0",moduleName:b.ekS.ClientSideRowModelModule,rowModel:"clientSide",beans:[J,Ke,Ce,x,Li,On,$t]},vi=K(4896);let bn=(()=>{class P{constructor(){b.Y5$.isRegistered(b.ekS.ClientSideRowModelModule)||b.Y5$.register(me)}static#e=this.\u0275fac=function(v){return new(v||P)};static#t=this.\u0275mod=vi.a4G({type:P});static#i=this.\u0275inj=vi.s3X({imports:[M.Oc,M.Oc]})}return P})()},4072:(Er,bt,K)=>{K.d(bt,{Oc:()=>we,U5:()=>Ct});var M=K(4896),b=K(9738);let Oe=(()=>{class de extends b.SmM{constructor(B){super(),this._ngZone=B}setEmitterUsedCallback(B){this.isEmitterUsed=B}setTimeout(B,J){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{B()},J)}):window.setTimeout(()=>{B()},J)}setInterval(B,J){return new b.VVN(he=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{he(window.setInterval(()=>{B()},J))}):he(window.setInterval(()=>{B()},J))})}addEventListener(B,J,he,Ee){this.isOutsideAngular(J)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{B.addEventListener(J,he,Ee)}):B.addEventListener(J,he,Ee)}dispatchEvent(B,J,he=!1){this.isOutsideAngular(B)?this._ngZone?this._ngZone.runOutsideAngular(J):J():(this.isEmitterUsed(B)||he)&&(!M.WW2.isInAngularZone()&&this._ngZone?this._ngZone.run(J):J())}isFrameworkComponent(B){if(!B)return!1;const J=B.prototype;return J&&"agInit"in J}}return de.\u0275fac=function(B){return new(B||de)(M.CoB(M.WW2))},de.\u0275prov=M.wxM({token:de,factory:de.\u0275fac}),de})(),et=(()=>{class de extends b.u6x{setViewContainerRef(B){this.viewContainerRef=B}setComponentFactoryResolver(B){this.componentFactoryResolver=B}createWrapper(B){let J=this,Ee=new class he extends ut{init(Pe){super.init(Pe),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return J.createComponent(B)}hasMethod(Pe){return null!=Ee.getFrameworkComponentInstance()[Pe]}callMethod(Pe,dt){const Ce=this.getFrameworkComponentInstance();return Ee.getFrameworkComponentInstance()[Pe].apply(Ce,dt)}addMethod(Pe,dt){Ee[Pe]=dt}};return Ee}createComponent(B){let J=this.componentFactoryResolver.resolveComponentFactory(B);return this.viewContainerRef.createComponent(J)}}return de.\u0275fac=(()=>{let se;return function(J){return(se||(se=M.otF(de)))(J||de)}})(),de.\u0275prov=M.wxM({token:de,factory:de.\u0275fac}),de})();class ut{init(se){this._params=se,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let Ct=(()=>{class de{constructor(B,J,he,Ee,Ke){this.viewContainerRef=J,this.angularFrameworkOverrides=he,this.frameworkComponentWrapper=Ee,this.componentFactoryResolver=Ke,this._initialised=!1,this._destroyed=!1,this._fullyReady=b.VVN.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.groupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new M._w7,this.toolPanelSizeChanged=new M._w7,this.pasteStart=new M._w7,this.pasteEnd=new M._w7,this.columnVisible=new M._w7,this.columnPinned=new M._w7,this.columnResized=new M._w7,this.columnMoved=new M._w7,this.columnValueChanged=new M._w7,this.columnPivotModeChanged=new M._w7,this.columnPivotChanged=new M._w7,this.columnGroupOpened=new M._w7,this.newColumnsLoaded=new M._w7,this.gridColumnsChanged=new M._w7,this.displayedColumnsChanged=new M._w7,this.virtualColumnsChanged=new M._w7,this.columnEverythingChanged=new M._w7,this.componentStateChanged=new M._w7,this.cellValueChanged=new M._w7,this.cellEditRequest=new M._w7,this.rowValueChanged=new M._w7,this.cellEditingStarted=new M._w7,this.cellEditingStopped=new M._w7,this.rowEditingStarted=new M._w7,this.rowEditingStopped=new M._w7,this.undoStarted=new M._w7,this.undoEnded=new M._w7,this.redoStarted=new M._w7,this.redoEnded=new M._w7,this.filterOpened=new M._w7,this.filterChanged=new M._w7,this.filterModified=new M._w7,this.chartCreated=new M._w7,this.chartRangeSelectionChanged=new M._w7,this.chartOptionsChanged=new M._w7,this.chartDestroyed=new M._w7,this.cellKeyDown=new M._w7,this.cellKeyPress=new M._w7,this.gridReady=new M._w7,this.firstDataRendered=new M._w7,this.gridSizeChanged=new M._w7,this.modelUpdated=new M._w7,this.virtualRowRemoved=new M._w7,this.viewportChanged=new M._w7,this.bodyScroll=new M._w7,this.bodyScrollEnd=new M._w7,this.dragStarted=new M._w7,this.dragStopped=new M._w7,this.paginationChanged=new M._w7,this.rowDragEnter=new M._w7,this.rowDragMove=new M._w7,this.rowDragLeave=new M._w7,this.rowDragEnd=new M._w7,this.columnRowGroupChanged=new M._w7,this.rowGroupOpened=new M._w7,this.expandOrCollapseAll=new M._w7,this.pinnedRowDataChanged=new M._w7,this.rowDataChanged=new M._w7,this.rowDataUpdated=new M._w7,this.asyncTransactionsFlushed=new M._w7,this.cellClicked=new M._w7,this.cellDoubleClicked=new M._w7,this.cellFocused=new M._w7,this.cellMouseOver=new M._w7,this.cellMouseOut=new M._w7,this.cellMouseDown=new M._w7,this.rowClicked=new M._w7,this.rowDoubleClicked=new M._w7,this.rowSelected=new M._w7,this.selectionChanged=new M._w7,this.cellContextMenu=new M._w7,this.rangeSelectionChanged=new M._w7,this.sortChanged=new M._w7,this.columnRowGroupChangeRequest=new M._w7,this.columnPivotChangeRequest=new M._w7,this.columnValueChangeRequest=new M._w7,this.columnAggFuncChangeRequest=new M._w7,this._nativeElement=B.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=b.kDh.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new b.yeN(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,B=>B)}ngOnChanges(B){this._initialised&&b.kDh.processOnChange(B,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(B){const J=this[B],he=!!J&&J.observers&&J.observers.length>0,Ee=`on${B.charAt(0).toUpperCase()}${B.substring(1)}`;return he||!!this.gridOptions&&!!this.gridOptions[Ee]}globalEventListener(B,J){if(this._destroyed)return;const he=this[B];he&&this.isEmitterUsed(B)&&("gridReady"===B?this._fullyReady.then(Ee=>{he.emit(J)}):he.emit(J))}}return de.\u0275fac=function(B){return new(B||de)(M.GI1(M.GMv),M.GI1(M.y8U),M.GI1(Oe),M.GI1(et),M.GI1(M.ce5))},de.\u0275cmp=M.In1({type:de,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",groupRowsSticky:"groupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[M.M5G([Oe,et]),M.SYr],decls:0,vars:0,template:function(B,J){},encapsulation:2}),de})(),we=(()=>{class de{}return de.\u0275fac=function(B){return new(B||de)},de.\u0275mod=M.a4G({type:de}),de.\u0275inj=M.s3X({}),de})()},9738:(Er,bt,K)=>{K.d(bt,{VVN:()=>nt,Qnc:()=>h,u6x:()=>Xy,ekA:()=>U,_QX:()=>I,y6Z:()=>ds,V2j:()=>jo,kDh:()=>Mi,YFc:()=>g,yeN:()=>Qy,ekS:()=>k,Y5$:()=>q,T7N:()=>ve,QhY:()=>G,ait:()=>Ti,w$i:()=>ue,SmM:()=>xl,_:()=>Nt});var M={};K.r(M),K.d(M,{attrToBoolean:()=>tt,attrToNumber:()=>Ye,attrToString:()=>On,defaultComparator:()=>Dn,exists:()=>x,jsonEquals:()=>fi,makeNull:()=>Ge,missing:()=>Q,missingOrEmpty:()=>Le,referenceCompare:()=>Tn,toStringOrNull:()=>Li,values:()=>$t});var b={};K.r(b),K.d(b,{cloneObject:()=>vi,copyPropertiesIfPresent:()=>v,copyPropertyIfPresent:()=>m,deepCloneDefinition:()=>P,deepCloneObject:()=>bn,get:()=>W,getAllKeysInObjects:()=>w,getAllValuesInObject:()=>R,getProperty:()=>C,getValueUsingField:()=>Y,isNonNullObject:()=>Se,iterateObject:()=>me,mergeDeep:()=>T,missingOrEmptyObject:()=>V,removeAllReferences:()=>ae,set:()=>ie,setProperty:()=>f});var Oe={};K.r(Oe),K.d(Oe,{callIfPresent:()=>Ps,compose:()=>Yl,debounce:()=>Qe,doOnce:()=>te,executeAfter:()=>gi,executeInAWhile:()=>jt,executeNextVMTurn:()=>Lt,getFunctionName:()=>Wt,isFunction:()=>At,noop:()=>Ql,throttle:()=>An,waitUntil:()=>Ds});var et={};K.r(et),K.d(et,{areEqual:()=>zt,existsAndNotEmpty:()=>iu,firstExistingValue:()=>xs,flatten:()=>Is,forEachReverse:()=>au,includes:()=>ct,insertArrayIntoArray:()=>ou,insertIntoArray:()=>xi,last:()=>fe,moveInArray:()=>xn,pushAll:()=>Mn,removeAllFromArray:()=>Ln,removeFromArray:()=>We,removeRepeatsFromArray:()=>nu,shallowCompare:()=>ru,sortNumerically:()=>Ms,toStrings:()=>su});var ut={};K.r(ut),K.d(ut,{addSafePassiveEventListener:()=>Vs,createEventPath:()=>Gs,getCtrlForEvent:()=>Or,getEventPath:()=>Hs,isElementInEventPath:()=>Tr,isEventSupported:()=>Nn,isStopPropagationForAgGrid:()=>St,stopPropagationForAgGrid:()=>yi});var Ct={};K.r(Ct),K.d(Ct,{fuzzyCheckStrings:()=>js,fuzzySuggestions:()=>Vn});var we={};K.r(we),K.d(we,{camelCaseToHumanText:()=>zs,capitalise:()=>Us,escapeString:()=>Et,utf8_encode:()=>Ru});var de={};K.r(de),K.d(de,{convertToMap:()=>xt,keys:()=>Tu,mapById:()=>Ou});var se={};K.r(se),K.d(se,{getAriaDescribedBy:()=>Wu,getAriaLevel:()=>qs,getAriaPosInSet:()=>Xs,getAriaSortState:()=>Qs,removeAriaExpanded:()=>ta,removeAriaSort:()=>aa,setAriaChecked:()=>la,setAriaColCount:()=>na,setAriaColIndex:()=>qn,setAriaColSpan:()=>oa,setAriaDescribedBy:()=>Js,setAriaDescription:()=>Zs,setAriaDisabled:()=>zn,setAriaExpanded:()=>mt,setAriaHidden:()=>br,setAriaLabel:()=>ii,setAriaLabelledBy:()=>Un,setAriaLevel:()=>ea,setAriaLive:()=>$s,setAriaMultiSelectable:()=>ia,setAriaPosInSet:()=>Yn,setAriaRole:()=>Ie,setAriaRowCount:()=>ra,setAriaRowIndex:()=>Qn,setAriaSelected:()=>Ci,setAriaSetSize:()=>Kn,setAriaSort:()=>sa});var B={};K.r(B),K.d(B,{browserSupportsPreventScroll:()=>Fr,getBodyHeight:()=>ca,getBodyWidth:()=>da,getMaxDivHeight:()=>ua,getSafariVersion:()=>ro,getScrollbarWidth:()=>pa,getTabIndex:()=>Lr,isBrowserChrome:()=>Ni,isBrowserFirefox:()=>no,isBrowserSafari:()=>Rt,isIOSUserAgent:()=>Kt,isInvisibleScrollbar:()=>Gi,isMacOsUserAgent:()=>oo});var J={};K.r(J),K.d(J,{cleanNumber:()=>ju,createArrayOfNumbers:()=>fa,decToHex:()=>ku,formatNumberCommas:()=>so,formatNumberTwoDecimalPlacesAndCommas:()=>Uu,oneOrGreater:()=>Yu,padStartWidthZeros:()=>mi,sum:()=>zu,zeroOrGreater:()=>Ku});var he={};K.r(he),K.d(he,{dateToFormattedString:()=>xr,parseDateTimeFromString:()=>Yt,serialiseDate:()=>Hi});var Ee={};K.r(Ee),K.d(Ee,{FOCUSABLE_EXCLUDE:()=>uo,FOCUSABLE_SELECTOR:()=>va,addOrRemoveAttribute:()=>Ui,addStylesToElement:()=>yo,appendHtml:()=>Ju,clearElement:()=>rt,copyNodeList:()=>ma,ensureDomOrder:()=>vo,formatSize:()=>mo,getAbsoluteHeight:()=>po,getAbsoluteWidth:()=>Nr,getElementAttribute:()=>$u,getElementSize:()=>ni,getInnerHeight:()=>Vi,getInnerWidth:()=>Ir,getScrollLeft:()=>Wi,insertWithDomOrder:()=>ya,isElementChildOfClass:()=>ri,isFocusableFormField:()=>co,isHorizontalScrollShowing:()=>Co,isNodeOrElement:()=>ki,isRtlNegativeScroll:()=>Bi,isVerticalScrollShowing:()=>Ca,isVisible:()=>Si,iterateNamedNodeMap:()=>wa,loadTemplate:()=>He,nodeListForEach:()=>wo,offsetHeight:()=>ho,offsetWidth:()=>fo,prependDC:()=>ed,radioCssClass:()=>Xu,removeElement:()=>Zu,removeFromParent:()=>It,setDisabled:()=>wi,setDisplayed:()=>le,setDomChildOrder:()=>go,setElementHeight:()=>td,setElementWidth:()=>ji,setFixedHeight:()=>oi,setFixedWidth:()=>ht,setScrollLeft:()=>Gr,setVisible:()=>ga});var Ke={};K.r(Ke),K.d(Ke,{createIcon:()=>ft,createIconNoSpan:()=>be,iconNameClassMap:()=>Sa});var Pe={};K.r(Pe),K.d(Pe,{isDeleteKey:()=>Oa,isEventFromPrintableCharacter:()=>_a,isUserSuppressingHeaderKeyboardEvent:()=>Ea,isUserSuppressingKeyboardEvent:()=>Hr,normaliseQwertyAzerty:()=>Ra});var dt={};K.r(dt),K.d(dt,{areEventsNear:()=>So});var Ce={};K.r(Ce),K.d(Ce,{sortRowNodesByOrder:()=>ld,traverseNodesWithKey:()=>ud});var ke={};function Ge(o){return null==o||""===o?null:o}function x(o,t){return void 0===t&&(t=!1),null!=o&&(""!==o||t)}function Q(o){return!x(o)}function Le(o){return null==o||0===o.length}function Li(o){return null!=o&&"function"==typeof o.toString?o.toString():null}function Ye(o){if(void 0!==o){if(null===o||""===o)return null;if("number"==typeof o)return isNaN(o)?void 0:o;var t=parseInt(o,10);return isNaN(t)?void 0:t}}function tt(o){if(void 0!==o)return null!==o&&""!==o&&("boolean"==typeof o?o:/true/i.test(o))}function On(o){if(null!=o&&""!==o)return o}function Tn(o,t){return null==o&&null==t||!(null==o&&null!=t||null!=o&&null==t)&&o===t}function fi(o,t){return(o?JSON.stringify(o):null)===(t?JSON.stringify(t):null)}function Dn(o,t,e){void 0===e&&(e=!1);var i=null==o,r=null==t;if(o&&o.toNumber&&(o=o.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function n(s,a){return s>a?1:s<a?-1:0}if("string"!=typeof o||!e)return n(o,t);try{return o.localeCompare(t)}catch{return n(o,t)}}function $t(o){if(o instanceof Set||o instanceof Map){var t=[];return o.forEach(function(e){return t.push(e)}),t}return Object.values(o)}K.r(ke),K.d(ke,{convertToSet:()=>_o});var Pn=function(){function o(){this.existingKeys={}}return o.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},o.prototype.getUniqueKey=function(t,e){t=Li(t);for(var i=0;;){var r=void 0;if(t?(r=t,0!==i&&(r+="_"+i)):e?(r=e,0!==i&&(r+="_"+i)):r=""+i,!this.existingKeys[r])return this.existingKeys[r]=!0,r;i++}},o}();function me(o,t){null!=o&&(Array.isArray(o)?o.forEach(function(e,i){return t(""+i,e)}):Object.keys(o).forEach(function(e){return t(e,o[e])}))}function vi(o){for(var t={},e=Object.keys(o),i=0;i<e.length;i++){var r=e[i];t[r]=o[r]}return t}function bn(o){return JSON.parse(JSON.stringify(o))}function P(o,t){if(o){var e=o,i={};return Object.keys(e).forEach(function(r){if(!(t&&t.indexOf(r)>=0)){var n=e[r],s=Se(n)&&n.constructor===Object;i[r]=s?P(n):n}}),i}}function C(o,t){return o[t]}function f(o,t,e){o[t]=e}function v(o,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];e.forEach(function(r){return m(o,t,r)})}function m(o,t,e,i){var r=C(o,e);void 0!==r&&f(t,e,i?i(r):r)}function w(o){var t={};return o.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(i){return t[i]=null})}),Object.keys(t)}function R(o){if(!o)return[];var t=Object;if("function"==typeof t.values)return t.values(o);var e=[];for(var i in o)o.hasOwnProperty(i)&&o.propertyIsEnumerable(i)&&e.push(o[i]);return e}function T(o,t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),x(t)&&me(t,function(r,n){var s=o[r];s!==n&&(i&&null==s&&null!=n&&"object"==typeof n&&n.constructor===Object&&(o[r]=s={}),Se(n)&&Se(s)&&!Array.isArray(s)?T(s,n,e,i):(e||void 0!==n)&&(o[r]=n))})}function V(o){return Q(o)||0===Object.keys(o).length}function W(o,t,e){if(null==o)return e;for(var i=t.split("."),r=o;i.length>1;)if(null==(r=r[i.shift()]))return e;return r[i[0]]??e}function ie(o,t,e){if(null!=o){var i=t.split("."),r=o;i.forEach(function(n,s){r[n]||(r[n]={}),s<i.length-1&&(r=r[n])}),r[i[i.length-1]]=e}}function Y(o,t,e){if(t&&o){if(!e)return o[t];for(var i=t.split("."),r=o,n=0;n<i.length;n++){if(null==r)return;r=r[i[n]]}return r}}function ae(o,t){Object.keys(o).forEach(function(r){"object"==typeof o[r]&&(o[r]=void 0)});var e=Object.getPrototypeOf(o),i={};Object.keys(e).forEach(function(r){"function"==typeof e[r]&&(i[r]={value:function(){console.warn("AG Grid: "+t+" function "+r+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(o,i)}function Se(o){return"object"==typeof o&&null!==o}var ne={};function te(o,t){ne[t]||(o(),ne[t]=!0)}function Wt(o){if(o.name)return o.name;var t=/function\s+([^\(]+)/.exec(o.toString());return t&&2===t.length?t[1].trim():null}function At(o){return!!(o&&o.constructor&&o.call&&o.apply)}function jt(o){gi(o,400)}var kt=[],Ft=!1;function Lt(o){kt.push(o),!Ft&&(Ft=!0,window.setTimeout(function(){var t=kt.slice();kt.length=0,Ft=!1,t.forEach(function(e){return e()})},0))}function gi(o,t){void 0===t&&(t=0),o.length>0&&window.setTimeout(function(){return o.forEach(function(e){return e()})},t)}function Qe(o,t){var e;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var n=this;window.clearTimeout(e),e=window.setTimeout(function(){o.apply(n,i)},t)}}function An(o,t){var e=0;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=(new Date).getTime();s-e<t||(e=s,o.apply(this,i))}}function Ds(o,t,e,i){void 0===e&&(e=100);var r=(new Date).getTime(),n=null,s=!1,a=function(){var l=(new Date).getTime()-r>e;(o()||l)&&(t(),s=!0,null!=n&&(window.clearInterval(n),n=null),l&&i&&console.warn(i))};a(),s||(n=window.setInterval(a,10))}function Yl(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return function(e){return o.reduce(function(i,r){return r(i)},e)}}function Ps(o){o&&o()}var Ql=function(){},ql=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Zl=function(){function o(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return o.prototype.getBeanInstances=function(){return $t(this.beanWrappers).map(function(t){return t.beanInstance})},o.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},o.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),x(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},o.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),me(this.beanWrappers,function(i,r){var n;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=t.getBeansForParameters(n,r.bean.name),a=new(r.bean.bind.apply(r.bean,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(ql(arguments[t]));return o}([null],s)));r.beanInstance=a});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},o.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var i;return i=t.prototype.constructor?Wt(t.prototype.constructor):""+t,void console.error("Context item "+i+" is not a bean")}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},o.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(r,n){var s=r.agClassAttributes;s&&s.forEach(function(a){var l=e.lookupBeanInstance(n,a.beanName,a.optional);i[a.attributeName]=l})})})},o.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(r,n){me(r.autowireMethods,function(s,a){if("agConstructor"!==s){var l=e.getBeansForParameters(a,n);i[s].apply(i,l)}})})})},o.prototype.forEachMetaDataInHierarchy=function(t,e){for(var i=Object.getPrototypeOf(t);null!=i;){var r=i.constructor;r.hasOwnProperty("__agBeanMetaData")&&e(r.__agBeanMetaData,this.getBeanName(r)),i=Object.getPrototypeOf(i)}},o.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},o.prototype.getBeansForParameters=function(t,e){var i=this,r=[];return t&&me(t,function(n,s){var a=i.lookupBeanInstance(e,s);r[Number(n)]=a}),r},o.prototype.lookupBeanInstance=function(t,e,i){if(void 0===i&&(i=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var r=this.beanWrappers[e];return r?r.beanInstance:(i||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},o.prototype.callLifeCycleMethods=function(t,e){var i=this;t.forEach(function(r){return i.callLifeCycleMethodsOnBean(r,e)})},o.prototype.callLifeCycleMethodsOnBean=function(t,e,i){var r={};this.forEachMetaDataInHierarchy(t,function(s){var a=s[e];a&&a.forEach(function(l){l!=i&&(r[l]=!0)})}),Object.keys(r).forEach(function(s){return t[s]()})},o.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},o.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},o.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},o.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(i){e.callLifeCycleMethodsOnBean(i,"preDestroyMethods","destroy"),"function"==typeof i.destroy&&i.destroy()}),[]):[]},o}();function bs(o,t,e){var i=ei(o.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function G(o,t,e){var i=ei(o.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function qe(o,t,e){var i=ei(o.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function U(o){return function(t){ei(t).beanName=o}}function h(o){return function(t,e,i){As(t,o,!1,0,e,null)}}function ve(o){return function(t,e,i){As(t,o,!0,0,e,null)}}function As(o,t,e,i,r,n){if(null!==t)if("number"!=typeof n){var s=ei(o.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Xe(o){return function(t,e,i){var n,r="function"==typeof t?t:t.constructor;if("number"==typeof i){var s=void 0;e?(n=ei(r),s=e):(n=ei(r),s="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[s]||(n.autowireMethods[s]={}),n.autowireMethods[s][i]=o}}}function ei(o){return o.hasOwnProperty("__agBeanMetaData")||(o.__agBeanMetaData={}),o.__agBeanMetaData}var Fs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Rr=function(o,t){return function(e,i){t(e,i,o)}},Ut=function(){function o(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return o.prototype.setBeans=function(t,e,i,r){if(void 0===r&&(r=null),this.frameworkOverrides=i,this.gridOptionsService=e,r){var n=e.useAsyncEvents();this.addGlobalListener(r,n)}},o.prototype.getListeners=function(t,e,i){var r=e?this.allAsyncListeners:this.allSyncListeners,n=r.get(t);return!n&&i&&r.set(t,n=new Set),n},o.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},o.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i,!0).add(e)},o.prototype.removeEventListener=function(t,e,i){void 0===i&&(i=!1);var r=this.getListeners(t,i,!1);r&&(r.delete(e),0===r.size)&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t)},o.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},o.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},o.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var i=this.gridOptionsService,n=i.columnApi,s=i.context;e.api=i.api,e.columnApi=n,e.context=s}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},o.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},o.prototype.dispatchToListeners=function(t,e){var i=this,r=t.type;if(e&&"event"in t){var n=t.event;n instanceof Event&&(t.eventPath=n.composedPath())}var a=this.getListeners(r,e,!1);a&&a.forEach(function(d){e?i.dispatchAsync(function(){return d(t)}):d(t)}),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(u){e?i.dispatchAsync(function(){return i.frameworkOverrides.dispatchEvent(r,function(){return u(r,t)},!0)}):i.frameworkOverrides.dispatchEvent(r,function(){return u(r,t)},!0)})},o.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},o.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},Fs([Rr(0,Xe("loggerFactory")),Rr(1,Xe("gridOptionsService")),Rr(2,Xe("frameworkOverrides")),Rr(3,Xe("globalEventListener"))],o.prototype,"setBeans",null),Fs([U("eventService")],o)}(),k=function(o){return o.CommunityCoreModule="@ag-grid-community/core",o.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",o.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",o.CsvExportModule="@ag-grid-community/csv-export",o.EnterpriseCoreModule="@ag-grid-enterprise/core",o.RowGroupingModule="@ag-grid-enterprise/row-grouping",o.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",o.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",o.MenuModule="@ag-grid-enterprise/menu",o.SetFilterModule="@ag-grid-enterprise/set-filter",o.MultiFilterModule="@ag-grid-enterprise/multi-filter",o.StatusBarModule="@ag-grid-enterprise/status-bar",o.SideBarModule="@ag-grid-enterprise/side-bar",o.RangeSelectionModule="@ag-grid-enterprise/range-selection",o.MasterDetailModule="@ag-grid-enterprise/master-detail",o.RichSelectModule="@ag-grid-enterprise/rich-select",o.GridChartsModule="@ag-grid-enterprise/charts",o.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",o.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",o.ExcelExportModule="@ag-grid-enterprise/excel-export",o.ClipboardModule="@ag-grid-enterprise/clipboard",o.SparklinesModule="@ag-grid-enterprise/sparklines",o.AngularModule="@ag-grid-community/angular",o.ReactModule="@ag-grid-community/react",o.VueModule="@ag-grid-community/vue",o}(k||{}),q=function(){function o(){}return o.register=function(t,e){void 0===e&&(e=!0),o.runVersionChecks(t),o.modulesMap[t.moduleName]=t,o.setModuleBased(e)},o.runVersionChecks=function(t){if(o.currentModuleVersion||(o.currentModuleVersion=t.version),t.version?t.version!==o.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is version "+t.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is incompatible. Please update all modules to the same version."),t.validate){var e=t.validate();e.isValid||console.error("AG Grid: "+e.message)}},o.setModuleBased=function(t){void 0===o.moduleBased?o.moduleBased=t:o.moduleBased!==t&&te(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},o.setIsBundled=function(){o.isBundled=!0},o.registerModules=function(t,e){void 0===e&&(e=!0),o.setModuleBased(e),t&&t.forEach(function(i){return o.register(i,e)})},o.assertRegistered=function(t,e){var i;if(this.isRegistered(t))return!0;var n,r=e+t;if(o.isBundled)n="AG Grid: unable to use "+e+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(o.moduleBased||void 0===o.moduleBased){var s=null===(i=Object.entries(k).find(function(a){var l=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n}(a,2);return l[1]===t}))||void 0===i?void 0:i[0];n="AG Grid: unable to use "+e+" as the "+s+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+s+" } from '"+t+"';\n    \n    ModuleRegistry.registerModules([ "+s+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else n="AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return te(function(){console.warn(n)},r),!1},o.isRegistered=function(t){return!!o.modulesMap[t]},o.getRegisteredModules=function(){return $t(o.modulesMap)},o.isPackageBased=function(){return!o.moduleBased},o.modulesMap={},o}(),Fn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},$l=0;function Ls(){return $l++}var _e=function(){function o(t,e,i,r){this.instanceId=Ls(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Ut,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=r,this.setState(t)}return o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setState=function(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);var e=Ye(t.sortIndex),i=Ye(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==i&&(this.sortIndex=i);var r=tt(t.hide),n=tt(t.initialHide);this.visible=void 0!==r?!r:!n,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var s=Ye(t.flex),a=Ye(t.initialFlex);void 0!==s?this.flex=s:void 0!==a&&(this.flex=a)},o.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},o.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},o.prototype.setParent=function(t){this.parent=t},o.prototype.getParent=function(){return this.parent},o.prototype.setOriginalParent=function(t){this.originalParent=t},o.prototype.getOriginalParent=function(){return this.originalParent},o.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},o.prototype.initDotNotation=function(){var t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=x(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=x(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},o.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},o.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},o.prototype.isEmptyGroup=function(){return!1},o.prototype.isRowGroupDisplayed=function(t){return!(Q(this.colDef)||Q(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},o.prototype.isPrimary=function(){return this.primary},o.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},o.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},o.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},o.prototype.validate=function(){var n,t=this.colDef;function e(a,l,u){te(function(){u?console.warn(a,u):te(function(){return console.warn(a)},l)},l)}(this.gridOptionsService.isRowModelType("clientSide")&&!q.isRegistered(k.RowGroupingModule)&&(n=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(function(a){return x(t[a])})).length>0&&q.assertRegistered(k.RowGroupingModule,n.map(function(a){return"colDef."+a}).join(", ")),("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&q.assertRegistered(k.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData())&&((n=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(function(l){return x(t[l])})).length>0&&e("AG Grid: "+n.join()+" is not possible when doing tree data, your column definition should not have "+n.join(),"TreeDataCannotRowGroup"));x(t.menuTabs)&&q.assertRegistered(k.MenuModule,"menuTabs"),x(t.columnsMenuParams)&&q.assertRegistered(k.MenuModule,"columnsMenuParams"),x(t.columnsMenuParams)&&q.assertRegistered(k.ColumnsToolPanelModule,"columnsMenuParams"),x(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(t.pinnedRowCellRenderer||t.pinnedRowCellRendererParams||t.pinnedRowCellRendererFramework)&&e("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),x(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&e("AG Grid: '"+t.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},o.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},o.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},o.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},o.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},o.prototype.isSuppressFillHandle=function(){return!!tt(this.colDef.suppressFillHandle)},o.prototype.isAutoHeight=function(){return!!tt(this.colDef.autoHeight)},o.prototype.isAutoHeaderHeight=function(){return!!tt(this.colDef.autoHeaderHeight)},o.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},o.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},o.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},o.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},o.prototype.isResizable=function(){return!!tt(this.colDef.resizable)},o.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},o.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},o.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},o.prototype.isMoving=function(){return this.moving},o.prototype.getSort=function(){return this.sort},o.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e)))},o.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},o.prototype.isMenuVisible=function(){return this.menuVisible},o.prototype.isSortAscending=function(){return"asc"===this.sort},o.prototype.isSortDescending=function(){return"desc"===this.sort},o.prototype.isSortNone=function(){return Q(this.sort)},o.prototype.isSorting=function(){return x(this.sort)},o.prototype.getSortIndex=function(){return this.sortIndex},o.prototype.setSortIndex=function(t){this.sortIndex=t},o.prototype.setAggFunc=function(t){this.aggFunc=t},o.prototype.getAggFunc=function(){return this.aggFunc},o.prototype.getLeft=function(){return this.left},o.prototype.getOldLeft=function(){return this.oldLeft},o.prototype.getRight=function(){return this.left+this.actualWidth},o.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},o.prototype.isFilterActive=function(){return this.filterActive},o.prototype.setFilterActive=function(t,e,i){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var r=this.createColumnEvent("filterChanged",e);i&&T(r,i),this.eventService.dispatchEvent(r)},o.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null},o.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},o.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},o.prototype.isFirstRightPinned=function(){return this.firstRightPinned},o.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},o.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},o.prototype.isPinnedLeft=function(){return"left"===this.pinned},o.prototype.isPinnedRight=function(){return"right"===this.pinned},o.prototype.getPinned=function(){return this.pinned},o.prototype.setVisible=function(t,e){void 0===e&&(e="api");var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e)))},o.prototype.isVisible=function(){return this.visible},o.prototype.isSpanHeaderHeight=function(){return!!this.getColDef().spanHeaderHeight},o.prototype.getColDef=function(){return this.colDef},o.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},o.prototype.getColId=function(){return this.colId},o.prototype.getId=function(){return this.getColId()},o.prototype.getUniqueId=function(){return this.getId()},o.prototype.getDefinition=function(){return this.colDef},o.prototype.getActualWidth=function(){return this.actualWidth},o.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},o.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},o.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},o.prototype.getColSpan=function(t){if(Q(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)},o.prototype.getRowSpan=function(t){if(Q(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)},o.prototype.setActualWidth=function(t,e,i){void 0===e&&(e="api"),void 0===i&&(i=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e))},o.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},o.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},o.prototype.getMinWidth=function(){return this.minWidth},o.prototype.getMaxWidth=function(){return this.maxWidth},o.prototype.getFlex=function(){return this.flex||0},o.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},o.prototype.setMinimum=function(t){void 0===t&&(t="api"),x(this.minWidth)&&this.setActualWidth(this.minWidth,t)},o.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e)))},o.prototype.isRowGroupActive=function(){return this.rowGroupActive},o.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e)))},o.prototype.isPivotActive=function(){return this.pivotActive},o.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},o.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},o.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},o.prototype.isValueActive=function(){return this.aggregationActive},o.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},o.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},o.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},o.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},o.EVENT_MOVING_CHANGED="movingChanged",o.EVENT_LEFT_CHANGED="leftChanged",o.EVENT_WIDTH_CHANGED="widthChanged",o.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",o.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",o.EVENT_VISIBLE_CHANGED="visibleChanged",o.EVENT_FILTER_CHANGED="filterChanged",o.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",o.EVENT_SORT_CHANGED="sortChanged",o.EVENT_COL_DEF_CHANGED="colDefChanged",o.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",o.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",o.EVENT_PIVOT_CHANGED="columnPivotChanged",o.EVENT_VALUE_CHANGED="columnValueChanged",Fn([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),Fn([h("columnUtils")],o.prototype,"columnUtils",void 0),Fn([G],o.prototype,"initialise",null),o}(),De=function(){function o(t,e,i,r){this.localEventService=new Ut,this.expandable=!1,this.instanceId=Ls(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=r}return o.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},o.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setOriginalParent=function(t){this.originalParent=t},o.prototype.getOriginalParent=function(){return this.originalParent},o.prototype.getLevel=function(){return this.level},o.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},o.prototype.isPadding=function(){return this.padding},o.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:o.EVENT_EXPANDED_CHANGED})},o.prototype.isExpandable=function(){return this.expandable},o.prototype.isExpanded=function(){return this.expanded},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getId=function(){return this.getGroupId()},o.prototype.setChildren=function(t){this.children=t},o.prototype.getChildren=function(){return this.children},o.prototype.getColGroupDef=function(){return this.colGroupDef},o.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},o.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof _e?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},o.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(i){return i.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(i){return i.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},o.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,i=!1,r=this.findChildrenRemovingPadding(),n=0,s=r.length;n<s;n++){var a=r[n];if(a.isVisible()){var l=a.getColumnGroupShow();"open"===l?(t=!0,i=!0):"closed"===l?(e=!0,i=!0):(t=!0,e=!0)}}var u=t&&e&&i;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:o.EVENT_EXPANDABLE_CHANGED}))}},o.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(i){i.forEach(function(r){r instanceof o&&r.isPadding()?e(r.children):t.push(r)})};return e(this.children),t},o.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},o.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},o.EVENT_EXPANDED_CHANGED="expandedChanged",o.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([qe],o.prototype,"destroy",null),o}(),tu={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function xs(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];for(var e=0;e<o.length;e++){var i=o[e];if(x(i))return i}return null}function iu(o){return null!=o&&o.length>0}function fe(o){if(o&&o.length)return o[o.length-1]}function zt(o,t,e){return null==o&&null==t||null!=o&&null!=t&&o.length===t.length&&o.every(function(i,r){return e?e(i,t[r]):t[r]===i})}function ru(o,t){return zt(o,t)}function Ms(o){return o.sort(function(t,e){return t-e})}function nu(o,t){if(o)for(var e=o.length-2;e>=0;e--)o[e]===t&&o[e+1]===t&&o.splice(e+1,1)}function We(o,t){var e=o.indexOf(t);e>=0&&o.splice(e,1)}function Ln(o,t){t.forEach(function(e){return We(o,e)})}function xi(o,t,e){o.splice(e,0,t)}function ou(o,t,e){if(null!=o&&null!=t)for(var i=t.length-1;i>=0;i--)xi(o,t[i],e)}function xn(o,t,e){Ln(o,t),t.slice().reverse().forEach(function(i){return xi(o,i,e)})}function ct(o,t){return o.indexOf(t)>-1}function Is(o){return[].concat.apply([],o)}function Mn(o,t){null==t||null==o||t.forEach(function(e){return o.push(e)})}function su(o){return o.map(Li)}function au(o,t){if(null!=o)for(var e=o.length-1;e>=0;e--)t(o[e],e)}var Ns="__ag_Grid_Stop_Propagation",lu=["touchstart","touchend","touchmove","touchcancel","scroll"],In={};function yi(o){o[Ns]=!0}function St(o){return!0===o[Ns]}var Nn=function(){var o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"==typeof In[e])return In[e];var i=document.createElement(o[e]||"div");return In[e="on"+e]=e in i}}();function Or(o,t,e){for(var i=t.target;i;){var r=o.getDomData(i,e);if(r)return r;i=i.parentElement}return null}function Tr(o,t){return!(!t||!o)&&Hs(t).indexOf(o)>=0}function Gs(o){for(var t=[],e=o.target;e;)t.push(e),e=e.parentElement;return t}function Hs(o){var t=o;return t.path?t.path:t.composedPath?t.composedPath():Gs(t)}function Vs(o,t,e,i){var r=ct(lu,e);o&&o.addEventListener&&o.addEventListener(t,e,i,r?{passive:!0}:void 0)}var ti=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},I=function(){function o(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return o.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},o.prototype.getContext=function(){return this.context},o.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:o.EVENT_DESTROYED})},o.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Ut),this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},o.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},o.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},o.prototype.addManagedListener=function(t,e,i){var r=this;if(!this.destroyed){t instanceof HTMLElement?Vs(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);var n=function(){return t.removeEventListener(e,i),r.destroyFunctions=r.destroyFunctions.filter(function(s){return s!==n}),null};return this.destroyFunctions.push(n),n}},o.prototype.addManagedPropertyListener=function(t,e){var i=this;if(!this.destroyed){this.gridOptionsService.addEventListener(t,e);var r=function(){return i.gridOptionsService.removeEventListener(t,e),i.destroyFunctions=i.destroyFunctions.filter(function(n){return n!==r}),null};return this.destroyFunctions.push(r),r}},o.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},o.prototype.createManagedBean=function(t,e){var i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i},o.prototype.createBean=function(t,e,i){return(e||this.getContext()).createBean(t,i)},o.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},o.prototype.destroyBeans=function(t,e){var i=this;return t&&t.forEach(function(r){return i.destroyBean(r,e)}),[]},o.EVENT_DESTROYED="destroyed",ti([h("frameworkOverrides")],o.prototype,"frameworkOverrides",void 0),ti([h("context")],o.prototype,"context",void 0),ti([h("eventService")],o.prototype,"eventService",void 0),ti([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),ti([h("localeService")],o.prototype,"localeService",void 0),ti([h("environment")],o.prototype,"environment",void 0),ti([qe],o.prototype,"destroy",null),o}(),uu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},du=function(o,t){return function(e,i){t(e,i,o)}},cu=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return uu(t,o),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,i,r){var n=new Pn,s=this.extractExistingTreeData(r),a=s.existingCols,l=s.existingGroups;n.addExistingKeys(s.existingColKeys);var d=this.recursivelyCreateColumns(e,0,i,a,n,l),c=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+c);var p=this.balanceColumnTree(d,0,c,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,p,function(S,_){S instanceof De&&S.setupExpandable(),S.setOriginalParent(_)}),{columnTree:p,treeDept:c}},t.prototype.extractExistingTreeData=function(e){var i=[],r=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){if(s instanceof De)r.push(s);else{var l=s;n.push(l.getId()),i.push(l)}}),{existingCols:i,existingGroups:r,existingColKeys:n}},t.prototype.createForAutoGroups=function(e,i){var r=this;return e.map(function(n){return r.createAutoGroupTreeItem(i,n)})},t.prototype.createAutoGroupTreeItem=function(e,i){for(var n=i,s=this.findDepth(e)-1;s>=0;s--){var a=new De(null,"FAKE_PATH_"+i.getId()+"}_"+s,!0,s);this.createBean(a),a.setChildren([n]),n.setOriginalParent(a),n=a}return n},t.prototype.findDepth=function(e){for(var i=0,r=e;r&&r[0]&&r[0]instanceof De;)i++,r=r[0].getChildren();return i},t.prototype.balanceColumnTree=function(e,i,r,n){for(var s=[],a=0;a<e.length;a++){var l=e[a];if(l instanceof De){var u=l,d=this.balanceColumnTree(u.getChildren(),i+1,r,n);u.setChildren(d),s.push(u)}else{for(var c=void 0,p=void 0,y=r-1;y>=i;y--){var S=n.getUniqueKey(null,null),_=this.createMergedColGroupDef(null),E=new De(_,S,!0,i);this.createBean(E),p&&p.setChildren([E]),p=E,c||(c=p)}if(c&&p){if(s.push(c),e.some(function(D){return D instanceof De})){p.setChildren([l]);continue}p.setChildren(e);break}s.push(l)}}return s},t.prototype.findMaxDept=function(e,i){for(var r=i,n=0;n<e.length;n++){var s=e[n];if(s instanceof De){var l=this.findMaxDept(s.getChildren(),i+1);r<l&&(r=l)}}return r},t.prototype.recursivelyCreateColumns=function(e,i,r,n,s,a){var l=this;return(e||[]).map(function(u){return l.isColumnGroup(u)?l.createColumnGroup(r,u,i,n,s,a):l.createColumn(r,u,n,s)})},t.prototype.createColumnGroup=function(e,i,r,n,s,a){var c,l=this.createMergedColGroupDef(i),u=s.getUniqueKey(l.groupId||null,null),d=this.findExistingGroup(i,a);d?((c=d).reset(l,r),We(a,d)):(c=new De(l,u,!1,r),this.createBean(c));var p=this.recursivelyCreateColumns(l.children,r+1,e,n,s,a);return c.setChildren(p),c},t.prototype.createMergedColGroupDef=function(e){var i={};return Object.assign(i,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(i,e),i},t.prototype.createColumn=function(e,i,r,n){var s=this.mergeColDefs(i),a=this.findExistingColumn(i,r);if(r&&a&&We(r,a),a)a.setColDef(s,i),this.applyColumnState(a,s);else{var l=n.getUniqueKey(s.colId,s.field);a=new _e(s,i,l,e),this.context.createBean(a)}return a},t.prototype.applyColumnState=function(e,i){var r=Ye(i.flex);if(void 0!==r&&e.setFlex(r),e.getFlex()<=0){var s=Ye(i.width);if(null!=s)e.setActualWidth(s);else{var a=e.getActualWidth();e.setActualWidth(a)}}void 0!==i.sort&&e.setSort("asc"==i.sort||"desc"==i.sort?i.sort:void 0);var l=Ye(i.sortIndex);void 0!==l&&e.setSortIndex(l);var u=tt(i.hide);void 0!==u&&e.setVisible(!u),void 0!==i.pinned&&e.setPinned(i.pinned)},t.prototype.findExistingColumn=function(e,i){return(i||[]).find(function(r){var n=r.getUserProvidedColDef();if(!n)return!1;var a=null!=e.field;return null!=e.colId?r.getId()===e.colId:a?n.field===e.field:n===e})},t.prototype.findExistingGroup=function(e,i){return i.find(function(r){return!(!r.getColGroupDef()||null==e.groupId||r.getId()!==e.groupId)})},t.prototype.mergeColDefs=function(e){var i={},r=this.gridOptionsService.get("defaultColDef");T(i,r,!1,!0);var n=e.type;n||(n=r&&r.type),n&&this.assignColumnTypes(n,i),T(i,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&a&&T(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),i},t.prototype.assignColumnTypes=function(e,i){var r=[];if(e instanceof Array)e.some(function(l){return"string"!=typeof l})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):r=e;else{if("string"!=typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");r=e.split(",")}var s=Object.assign({},tu);me(this.gridOptionsService.get("columnTypes")||{},function(l,u){l in s?console.warn("AG Grid: the column type '"+l+"' is a default column type and cannot be overridden."):s[l]=u}),r.forEach(function(l){var u=s[l.trim()];u?T(i,u,!1,!0):console.warn("AG Grid: colDef.type '"+l+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Gn([h("columnUtils")],t.prototype,"columnUtils",void 0),Gn([du(0,Xe("loggerFactory"))],t.prototype,"setBeans",null),Gn([U("columnFactory")],t)}(I),Bs=function(){function o(){}return o.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,spanHeaderHeight:void 0},o.ALL_PROPERTIES=Object.keys(o.ColDefPropertyMap),o.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],o}(),g=function(){function o(){}return o.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",o.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",o.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",o.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",o.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",o.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",o.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",o.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",o.EVENT_COLUMN_MOVED="columnMoved",o.EVENT_COLUMN_VISIBLE="columnVisible",o.EVENT_COLUMN_PINNED="columnPinned",o.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",o.EVENT_COLUMN_RESIZED="columnResized",o.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",o.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",o.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",o.EVENT_ROW_GROUP_OPENED="rowGroupOpened",o.EVENT_ROW_DATA_CHANGED="rowDataChanged",o.EVENT_ROW_DATA_UPDATED="rowDataUpdated",o.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",o.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",o.EVENT_CHART_CREATED="chartCreated",o.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",o.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",o.EVENT_CHART_DESTROYED="chartDestroyed",o.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",o.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",o.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",o.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",o.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",o.EVENT_MODEL_UPDATED="modelUpdated",o.EVENT_PASTE_START="pasteStart",o.EVENT_PASTE_END="pasteEnd",o.EVENT_FILL_START="fillStart",o.EVENT_FILL_END="fillEnd",o.EVENT_UNDO_STARTED="undoStarted",o.EVENT_UNDO_ENDED="undoEnded",o.EVENT_REDO_STARTED="redoStarted",o.EVENT_REDO_ENDED="redoEnded",o.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",o.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",o.EVENT_CELL_CLICKED="cellClicked",o.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",o.EVENT_CELL_MOUSE_DOWN="cellMouseDown",o.EVENT_CELL_CONTEXT_MENU="cellContextMenu",o.EVENT_CELL_VALUE_CHANGED="cellValueChanged",o.EVENT_CELL_EDIT_REQUEST="cellEditRequest",o.EVENT_ROW_VALUE_CHANGED="rowValueChanged",o.EVENT_CELL_FOCUSED="cellFocused",o.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",o.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",o.EVENT_ROW_SELECTED="rowSelected",o.EVENT_SELECTION_CHANGED="selectionChanged",o.EVENT_CELL_KEY_DOWN="cellKeyDown",o.EVENT_CELL_KEY_PRESS="cellKeyPress",o.EVENT_CELL_MOUSE_OVER="cellMouseOver",o.EVENT_CELL_MOUSE_OUT="cellMouseOut",o.EVENT_FILTER_CHANGED="filterChanged",o.EVENT_FILTER_MODIFIED="filterModified",o.EVENT_FILTER_OPENED="filterOpened",o.EVENT_SORT_CHANGED="sortChanged",o.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",o.EVENT_ROW_CLICKED="rowClicked",o.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",o.EVENT_GRID_READY="gridReady",o.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",o.EVENT_VIEWPORT_CHANGED="viewportChanged",o.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",o.EVENT_FIRST_DATA_RENDERED="firstDataRendered",o.EVENT_DRAG_STARTED="dragStarted",o.EVENT_DRAG_STOPPED="dragStopped",o.EVENT_CHECKBOX_CHANGED="checkboxChanged",o.EVENT_ROW_EDITING_STARTED="rowEditingStarted",o.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",o.EVENT_CELL_EDITING_STARTED="cellEditingStarted",o.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",o.EVENT_BODY_SCROLL="bodyScroll",o.EVENT_BODY_SCROLL_END="bodyScrollEnd",o.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",o.EVENT_PAGINATION_CHANGED="paginationChanged",o.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",o.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",o.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",o.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",o.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",o.EVENT_FLASH_CELLS="flashCells",o.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",o.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",o.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",o.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",o.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",o.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",o.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",o.EVENT_ROW_DRAG_ENTER="rowDragEnter",o.EVENT_ROW_DRAG_MOVE="rowDragMove",o.EVENT_ROW_DRAG_LEAVE="rowDragLeave",o.EVENT_ROW_DRAG_END="rowDragEnd",o.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",o.EVENT_POPUP_TO_FRONT="popupToFront",o.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",o.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",o.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",o.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",o.EVENT_KEYBOARD_FOCUS="keyboardFocus",o.EVENT_MOUSE_FOCUS="mouseFocus",o.EVENT_STORE_UPDATED="storeUpdated",o.EVENT_FILTER_DESTROYED="filterDestroyed",o}(),pu=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Ws=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(pu(arguments[t]));return o},_t=function(){function o(){}return o.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],o.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],o.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],o.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],o.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],o.FUNCTION_PROPERTIES=Ws(o.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],o.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"]),o.ALL_PROPERTIES=Ws(o.ARRAY_PROPERTIES,o.OBJECT_PROPERTIES,o.STRING_PROPERTIES,o.NUMBER_PROPERTIES,o.FUNCTION_PROPERTIES,o.BOOLEAN_PROPERTIES),o.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],o}(),Hn=function(){return Hn=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Hn.apply(this,arguments)},hu=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Mi=function(){function o(){}return o.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},o.getCoercionLookup=function(){var t={};return function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(hu(arguments[t]));return o}(o.ARRAY_PROPERTIES,o.OBJECT_PROPERTIES,o.STRING_PROPERTIES,o.FUNCTION_PROPERTIES,o.EVENT_CALLBACKS).forEach(function(e){return t[e]="none"}),o.BOOLEAN_PROPERTIES.forEach(function(e){return t[e]="boolean"}),o.NUMBER_PROPERTIES.forEach(function(e){return t[e]="number"}),t},o.getValue=function(t,e){var i=o.coercionLookup[t];if(i){var r=e;switch(i){case"number":r=o.toNumber(e);break;case"boolean":r=o.toBoolean(e);break;case"none":"groupAggFiltering"===t&&"function"!=typeof e&&(r=o.toBoolean(e))}return r}},o.getGridOptionKeys=function(t,e){return Object.keys(e?o.coercionLookup:t)},o.copyAttributesToGridOptions=function(t,e,i){void 0===i&&(i=!1),"object"!=typeof t&&(t={});var r=t;return o.getGridOptionKeys(e,i).forEach(function(s){var a=e[s];if(typeof a<"u"){var l=o.getValue(s,a);void 0!==l&&(r[s]=l)}}),t},o.processOnChange=function(t,e){if(t&&0!==Object.keys(t).length){var i=Hn({},t);i.columnTypes&&(e.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(e.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(e.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(e.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach(function(n){var s=n,a=o.getValue(s,i[s].currentValue);e.__setProperty(s,a)});var r={type:g.EVENT_COMPONENT_STATE_CHANGED};me(t,function(n,s){r[n]=s}),e.dispatchEvent(r)}},o.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},o.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},o.EVENTS=$t(g),o.EXCLUDED_INTERNAL_EVENTS=[g.EVENT_SCROLLBAR_WIDTH_CHANGED,g.EVENT_CHECKBOX_CHANGED,g.EVENT_HEIGHT_SCALE_CHANGED,g.EVENT_BODY_HEIGHT_CHANGED,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,g.EVENT_SCROLL_VISIBILITY_CHANGED,g.EVENT_COLUMN_HOVER_CHANGED,g.EVENT_FLASH_CELLS,g.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,g.EVENT_DISPLAYED_ROWS_CHANGED,g.EVENT_LEFT_PINNED_WIDTH_CHANGED,g.EVENT_RIGHT_PINNED_WIDTH_CHANGED,g.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,g.EVENT_POPUP_TO_FRONT,g.EVENT_KEYBOARD_FOCUS,g.EVENT_MOUSE_FOCUS,g.EVENT_STORE_UPDATED,g.EVENT_COLUMN_PANEL_ITEM_DRAG_START,g.EVENT_COLUMN_PANEL_ITEM_DRAG_END,g.EVENT_FILL_START,g.EVENT_FILL_END,g.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,g.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,g.EVENT_FULL_WIDTH_ROW_FOCUSED,g.EVENT_HEADER_HEIGHT_CHANGED,g.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,g.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,g.EVENT_CELL_FOCUS_CLEARED,g.EVENT_GRID_STYLES_CHANGED,g.EVENT_FILTER_DESTROYED],o.PUBLIC_EVENTS=o.EVENTS.filter(function(t){return!ct(o.EXCLUDED_INTERNAL_EVENTS,t)}),o.EVENT_CALLBACKS=o.EVENTS.map(function(t){return o.getCallbackForEvent(t)}),o.STRING_PROPERTIES=_t.STRING_PROPERTIES,o.OBJECT_PROPERTIES=_t.OBJECT_PROPERTIES,o.ARRAY_PROPERTIES=_t.ARRAY_PROPERTIES,o.NUMBER_PROPERTIES=_t.NUMBER_PROPERTIES,o.BOOLEAN_PROPERTIES=_t.BOOLEAN_PROPERTIES,o.FUNCTION_PROPERTIES=_t.FUNCTION_PROPERTIES,o.ALL_PROPERTIES=_t.ALL_PROPERTIES,o.ALL_PROPERTIES_SET=new Set(_t.ALL_PROPERTIES),o.coercionLookup=o.getCoercionLookup(),o}();function js(o,t,e){var i={},r=o.filter(function(n){return!t.some(function(s){return s===n})});return r.length>0&&r.forEach(function(n){return i[n]=Vn(n,e)}),i}function Vn(o,t,e,i){var r=t.map(function(a){return{value:a,relevance:vu(o.toLowerCase(),a.toLocaleLowerCase())}});if(r.sort(function(a,l){return l.relevance-a.relevance}),e&&(r=r.filter(function(a){return 0!==a.relevance})),i&&i>0){var s=r[0].relevance*i;r=r.filter(function(a){return s-a.relevance<0})}return r.map(function(a){return a.value})}function vu(o,t){for(var e=o.replace(/\s/g,""),i=t.replace(/\s/g,""),r=0,n=-1,s=0;s<e.length;s++){var a=i.indexOf(e[s],n+1);-1!==a&&(r+=100-100*(n=a)/1e4*100)}return r}var Dr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ks=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Bn=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(ks(arguments[t]));return o};function xe(o,t,e,i){var r=e?"Please use '"+e+"' instead. ":"";te(function(){return console.warn("AG Grid: since v"+o+", '"+t+"' is deprecated. "+r+(i??""))},"Deprecated_"+t)}var gu=function(){function o(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"}}}return o.prototype.pickOneWarning=function(t,e){console.warn("AG Grid: "+t+" and "+e+" do not work with each other, you need to pick one.")},o.prototype.init=function(){var t=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var e=function(r,n){return"AG Grid: '"+r+"' is not supported on the Server-Side Row Model."+(n?" Please use "+n+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?q.assertRegistered(k.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var i=function(r,n){return t.gridOptionsService.exists(r)&&q.assertRegistered(n,r)};i("sideBar",k.SideBarModule),i("statusBar",k.StatusBarModule),i("enableCharts",k.GridChartsModule),i("getMainMenuItems",k.MenuModule),i("getContextMenuItems",k.MenuModule),i("allowContextMenuWithControlKey",k.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},o.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(e){var i=Object.getOwnPropertyNames(e),r=Bn(Bs.ALL_PROPERTIES,Bs.FRAMEWORK_PROPERTIES);t.checkProperties(i,r,r,"colDef","https://www.ag-grid.com/javascript-data-grid/column-properties/")})},o.prototype.checkColumnDefViolations=function(){var t,e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",r={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(r?.length){var n=function(s){r.forEach(function(a){a in s&&s[a]&&console.warn("AG Grid: Column property "+a+" is not supported with the row model type "+e+".")})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){return n(s)}),null!=this.gridOptions.autoGroupColumnDef&&n(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&n(this.gridOptions.defaultColDef)}},o.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=Bn(_t.ALL_PROPERTIES,_t.FRAMEWORK_PROPERTIES,Mi.EVENT_CALLBACKS),i=Bn(e,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(t,i,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},o.prototype.checkProperties=function(t,e,i,r,n){var s=js(t,e,i);me(s,function(a,l){console.warn("AG Grid: invalid "+r+" property '"+a+"' did you mean any of these: "+l.slice(0,8).join(", "))}),Object.keys(s).length>0&&console.warn("AG Grid: to see all the valid "+r+" properties please check: "+n)},o.prototype.checkForDeprecated=function(){var t=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach(function(i){var r,n=ks(i,2),s=n[0],a=n[1],l=t[s];l&&(xe(a.version,s,a.newProp,a.message),a.copyToNewProp&&a.newProp&&null==t[a.newProp]&&(t[a.newProp]=null!==(r=a.newPropValue)&&void 0!==r?r:l))}),t.groupSuppressAutoColumn){var e=t.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+e+" = 'custom'`"),t[e]="custom"}t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)},o.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},o.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},Dr([h("gridOptions")],o.prototype,"gridOptions",void 0),Dr([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),Dr([G],o.prototype,"init",null),Dr([U("gridOptionsValidator")],o)}();function Wn(o,t){var e=["groupRows","multipleColumns","custom","singleColumn"];return e.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+e.join("', '")+"'"),!1):t===o}var it=function(){function o(t,e,i,r){this.displayedChildren=[],this.localEventService=new Ut,this.groupId=e,this.partId=i,this.providedColumnGroup=t,this.pinned=r}return o.createUniqueId=function(t,e){return t+"_"+e},o.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},o.prototype.getParent=function(){return this.parent},o.prototype.setParent=function(t){this.parent=t},o.prototype.getUniqueId=function(){return o.createUniqueId(this.groupId,this.partId)},o.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},o.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},o.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(r){r instanceof o&&r.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=fe(this.displayedChildren).getLeft();this.setLeft(e)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},o.prototype.getLeft=function(){return this.left},o.prototype.getOldLeft=function(){return this.oldLeft},o.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_LEFT_CHANGED)))},o.prototype.getPinned=function(){return this.pinned},o.prototype.createAgEvent=function(t){return{type:t}},o.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getPartId=function(){return this.partId},o.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(i){t===i&&(e=!0),i instanceof o&&i.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},o.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},o.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},o.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},o.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},o.prototype.getDisplayedChildren=function(){return this.displayedChildren},o.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},o.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},o.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},o.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},o.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},o.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},o.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},o.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},o.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof _e?t.push(e):e instanceof o&&e.addDisplayedLeafColumns(t)})},o.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof _e?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getChildren=function(){return this.children},o.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},o.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},o.prototype.getOriginalColumnGroup=function(){return xe("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},o.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},o.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(r){if(!(r instanceof o)||r.displayedChildren&&r.displayedChildren.length)switch(r.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(r);break;default:t.displayedChildren.push(r)}}),this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED))},o.EVENT_LEFT_CHANGED="leftChanged",o.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),o}(),mu=function(){function o(){this.existingIds={}}return o.prototype.getInstanceIdForKey=function(t){var i,e=this.existingIds[t];return this.existingIds[t]=i="number"!=typeof e?0:e+1,i},o}(),wu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Pr="ag-Grid-AutoColumn",Su=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return wu(t,o),t.prototype.createAutoGroupColumns=function(e,i){var r=this,n=[],s=this.gridOptionsService.isTreeData(),a=this.gridOptionsService.isGroupMultiAutoColumn();return s&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?i.forEach(function(l,u){n.push(r.createOneAutoGroupColumn(e,l,u))}):n.push(this.createOneAutoGroupColumn(e)),n},t.prototype.createOneAutoGroupColumn=function(e,i,r){var s,n=this.generateDefaultColDef(i);s=i?Pr+"-"+i.getId():Pr,T(n,this.gridOptionsService.get("autoGroupColumnDef")),(n=this.columnFactory.mergeColDefs(n)).colId=s,this.gridOptionsService.isTreeData()||Q(n.field)&&Q(n.valueGetter)&&Q(n.filterValueGetter)&&"agGroupColumnFilter"!==n.filter&&(n.filter=!1),r&&r>0&&(n.headerCheckboxSelection=!1);var u=e.find(function(p){return p.getId()==s});if(u)return u.setColDef(n,null),this.columnFactory.applyColumnState(u,n),u;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&(n.sort||n.initialSort)&&!n.field&&T(n,{sort:null,initialSort:null},!0,!0);var c=new _e(n,null,s,!0);return this.context.createBean(c),c},t.prototype.generateDefaultColDef=function(e){var i=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererFramework||i.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),e){var a=e.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:a.headerValueGetter}),(a.cellRenderer||a.cellRendererFramework)&&Object.assign(n,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererFramework:a.cellRendererFramework,innerRendererParams:a.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n},jn([h("columnModel")],t.prototype,"columnModel",void 0),jn([h("columnFactory")],t.prototype,"columnFactory",void 0),jn([U("autoGroupColService")],t)}(I),_u=/[&<>"']/g,Eu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ru(o){var t=String.fromCharCode;function r(c,p){return t(c>>p&63|128)}function n(c){if(c>=0&&c<=31&&10!==c)return"_x"+c.toString(16).toUpperCase().padStart(4,"0")+"_";if(!(4294967168&c))return t(c);var S="";return 4294965248&c?4294901760&c?4292870144&c||(S=t(c>>18&7|240),S+=r(c,12),S+=r(c,6)):(function i(c){if(c>=55296&&c<=57343)throw Error("Lone surrogate U+"+c.toString(16).toUpperCase()+" is not a scalar value")}(c),S=t(c>>12&15|224),S+=r(c,6)):S=t(c>>6&31|192),S+t(63&c|128)}for(var s=function e(c){var p=[];if(!c)return[];for(var _,E,y=c.length,S=0;S<y;)(_=c.charCodeAt(S++))>=55296&&_<=56319&&S<y?56320==(64512&(E=c.charCodeAt(S++)))?p.push(((1023&_)<<10)+(1023&E)+65536):(p.push(_),S--):p.push(_);return p}(o),a=s.length,l=-1,d="";++l<a;)d+=n(s[l]);return d}function Us(o){return o[0].toUpperCase()+o.substr(1).toLowerCase()}function Et(o,t){if(null==o)return null;var e=o.toString().toString();return t?e:e.replace(_u,function(i){return Eu[i]})}function zs(o){return o&&null!=o?o.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" "):null}function xt(o){var t=new Map;return o.forEach(function(e){return t.set(e[0],e[1])}),t}function Ou(o,t){var e=new Map;return o.forEach(function(i){return e.set(t(i),i)}),e}function Tu(o){var t=[];return o.forEach(function(e,i){return t.push(i)}),t}var Xn,Ar,Zn,Jn,$n,eo,to,io,Du=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Me=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Pu=function(o,t){return function(e,i){t(e,i,o)}},Ks=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],i=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Au=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Ii=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Au(arguments[t]));return o},Fu=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.flexColsCalculatedAtLestOnce=!1,e}return Du(t,o),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var i=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(r){return e.onSharedColDefChanged(r.source)}),this.addManagedPropertyListener("columnTypes",function(r){return e.onSharedColDefChanged(r.source)})},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onSharedColDefChanged=function(e){void 0===e&&(e="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,e)},t.prototype.setColumnDefs=function(e,i){void 0===i&&(i="api");var r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,i)},t.prototype.destroyOldColumns=function(e,i){var r={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){r[s.getInstanceId()]=s}),i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(s){r[s.getInstanceId()]=null});var n=Object.values(r).filter(function(s){return null!=s});this.destroyBeans(n)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,i){var r=this;void 0===i&&(i="api");var n=e?this.compareColumnStatesAndDispatchEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,l=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(c){return r.primaryColumnsMap[c.getId()]=c}),this.extractRowGroupColumns(i,s),this.extractPivotColumns(i,s),this.extractValueColumns(i,s),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),n&&n(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:g.EVENT_NEW_COLUMNS_LOADED})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:g.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,i=this.primaryColumns;i&&(this.gridColumns.sort(function(r,n){var s=i.indexOf(r),a=i.indexOf(n),l=s>=0,u=a>=0;return l&&u?s-a:l?1:u?-1:e.gridColumns.indexOf(r)-e.gridColumns.indexOf(n)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var i=e,r=[];null!=i;)r.push(i),i=this.getDisplayedColAfter(i);return r},t.prototype.checkViewportColumns=function(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:g.EVENT_VIRTUAL_COLUMNS_CHANGED})},t.prototype.setViewportPosition=function(e,i){(e!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,i){void 0===i&&(i="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:g.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,i){if(Q(this.secondaryColumns))return null;var r=this.getPrimaryColumn(i),n=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn;zt(a,e)&&l===r&&(n=s)}),n},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var i,r;this.gridOptionsService.is("enableRtl")?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?fe(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?fe(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(n){n.setLastLeftPinned(n===i,e),n.setFirstRightPinned(n===r,e)})},t.prototype.autoSizeColumns=function(e){var i=this,r=e.columns,n=e.skipHeader,s=e.skipHeaderGroups,a=e.stopAtGroup,l=e.source,u=void 0===l?"api":l;this.animationFrameService.flushAllFrames();for(var d=[],c=-1,p=n??this.gridOptionsService.is("skipHeaderOnAutoSize"),y=s??p;0!==c;)c=0,this.actionOnGridColumns(r,function(S){if(d.indexOf(S)>=0)return!1;var _=i.autoWidthCalculator.getPreferredWidthForColumn(S,p);if(_>0){var E=i.normaliseColumnWidth(S,_);S.setActualWidth(E,u),d.push(S),c++}return!0},u);y||this.autoSizeColumnGroupsByColumns(r,a),this.dispatchColumnResizedEvent(d,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,i,r,n){void 0===n&&(n=null),e&&e.length&&this.eventService.dispatchEvent({type:g.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:i,source:r})},t.prototype.dispatchColumnChangedEvent=function(e,i,r){this.eventService.dispatchEvent({type:e,columns:i,column:i&&1==i.length?i[0]:null,source:r})},t.prototype.dispatchColumnMovedEvent=function(e){var i=e.movedColumns;this.eventService.dispatchEvent({type:g.EVENT_COLUMN_MOVED,columns:i,column:i&&1===i.length?i[0]:null,toIndex:e.toIndex,finished:e.finished,source:e.source})},t.prototype.dispatchColumnPinnedEvent=function(e,i){if(e.length){var r=1===e.length?e[0]:null,n=this.getCommonValue(e,function(a){return a.getPinned()});this.eventService.dispatchEvent({type:g.EVENT_COLUMN_PINNED,pinned:n??null,columns:e,column:r,source:i})}},t.prototype.dispatchColumnVisibleEvent=function(e,i){if(e.length){var r=1===e.length?e[0]:null,n=this.getCommonValue(e,function(a){return a.isVisible()});this.eventService.dispatchEvent({type:g.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:r,source:i})}},t.prototype.autoSizeColumn=function(e,i,r){void 0===r&&(r="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,i){var r,n,s,a,d,l=new Set;this.getGridColumns(e).forEach(function(D){for(var L=D.getParent();L&&L!=i;)L.isPadding()||l.add(L),L=L.getParent()});try{for(var p=Ks(l),y=p.next();!y.done;y=p.next()){var S=y.value;try{for(var _=(s=void 0,Ks(this.ctrlsService.getHeaderRowContainerCtrls())),E=_.next();!E.done&&!(d=E.value.getHeaderCtrlForColumn(S));E=_.next());}catch(D){s={error:D}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit()}}catch(D){r={error:D}}finally{try{y&&!y.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}return[]},t.prototype.autoSizeAllColumns=function(e,i){void 0===i&&(i="api");var r=this.getAllDisplayedColumns();this.autoSizeColumns({columns:r,skipHeader:e,source:i})},t.prototype.getColumnsFromTree=function(e){var i=[],r=function(n){for(var s=0;s<n.length;s++){var a=n[s];a instanceof _e?i.push(a):a instanceof De&&r(a.getChildren())}};return r(e),i},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,i,r,n){for(var u,s=[],a=null,l=function(c){var D,p=i[c],y=i.length-c,S=Math.min(p.getColSpan(e),y),_=[p];if(S>1){for(var E=S-1,O=1;O<=E;O++)_.push(i[c+O]);c+=E}r?(D=!1,_.forEach(function(N){r(N)&&(D=!0)})):D=!0,D&&(0===s.length&&a&&n&&n(p)&&s.push(a),s.push(p)),a=p,u=c},d=0;d<i.length;d++)l(d),d=u;return s},t.prototype.getViewportCenterColumnsForRow=function(e){var i=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,n,function(s){var a=s.getLeft();return x(a)&&a>i.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var i=e.getLeft()||0,r=i+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200;return!(i<n&&r<n||i>s&&r>s)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,i,r,n,s,a){var l=this;if(void 0===a&&(a="api"),e&&!Le(e)){var u=!1;e.forEach(function(c){var p=l.getPrimaryColumn(c);if(p){if(r){if(i.indexOf(p)>=0)return;i.push(p)}else{if(i.indexOf(p)<0)return;We(i,p)}n(p),u=!0}}),u&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:s,columns:i,column:1===i.length?i[0]:null,source:a}))}},t.prototype.setRowGroupColumns=function(e,i){void 0===i&&(i="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,g.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),i)},t.prototype.setRowGroupActive=function(e,i,r){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,r),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(i,!1,r),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(i,!0,r))},t.prototype.addRowGroupColumn=function(e,i){void 0===i&&(i="api"),e&&this.addRowGroupColumns([e],i)},t.prototype.addRowGroupColumns=function(e,i){void 0===i&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),g.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.removeRowGroupColumns=function(e,i){void 0===i&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),g.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.removeRowGroupColumn=function(e,i){void 0===i&&(i="api"),e&&this.removeRowGroupColumns([e],i)},t.prototype.addPivotColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(r){return r.setPivotActive(!0,i)},g.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.setPivotColumns=function(e,i){void 0===i&&(i="api"),this.setPrimaryColumnList(e,this.pivotColumns,g.EVENT_COLUMN_PIVOT_CHANGED,function(r,n){n.setPivotActive(r,i)},i)},t.prototype.addPivotColumn=function(e,i){void 0===i&&(i="api"),this.addPivotColumns([e],i)},t.prototype.removePivotColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(r){return r.setPivotActive(!1,i)},g.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.removePivotColumn=function(e,i){void 0===i&&(i="api"),this.removePivotColumns([e],i)},t.prototype.setPrimaryColumnList=function(e,i,r,n,s){var a=this;i.length=0,x(e)&&e.forEach(function(l){var u=a.getPrimaryColumn(l);u&&i.push(u)}),(this.primaryColumns||[]).forEach(function(l){var u=i.indexOf(l)>=0;n(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(r,i,s)},t.prototype.setValueColumns=function(e,i){void 0===i&&(i="api"),this.setPrimaryColumnList(e,this.valueColumns,g.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),i)},t.prototype.setValueActive=function(e,i,r){if(e!==i.isValueActive()&&(i.setValueActive(e,r),e&&!i.getAggFunc())){var n=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(n)}},t.prototype.addValueColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),g.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.addValueColumn=function(e,i){void 0===i&&(i="api"),e&&this.addValueColumns([e],i)},t.prototype.removeValueColumn=function(e,i){void 0===i&&(i="api"),this.removeValueColumns([e],i)},t.prototype.removeValueColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),g.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.normaliseColumnWidth=function(e,i){var r=e.getMinWidth();x(r)&&i<r&&(i=r);var n=e.getMaxWidth();return x(n)&&e.isGreaterThanMax(i)&&(i=n),i},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,i,r,n){var s=this;void 0===n&&(n="api");var a=[];e.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u&&(a.push({width:l.newWidth,ratios:[1],columns:[u]}),"shift"===s.gridOptionsService.get("colResizeDefault")&&(i=!i),i)){var c=s.getDisplayedColAfter(u);if(!c)return;var p=u.getActualWidth()-l.newWidth,y=c.getActualWidth()+p;a.push({width:y,ratios:[1],columns:[c]})}}),0!==a.length&&this.resizeColumnSets({resizeSets:a,finished:r,source:n})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var r=e.width,n=0,s=0,a=!0;return e.columns.forEach(function(d){var c=d.getMinWidth();n+=c||0;var p=d.getMaxWidth();x(p)&&p>0?s+=p:a=!1}),r>=n&&(!a||r<=s)},t.prototype.resizeColumnSets=function(e){var i=this,r=e.resizeSets,n=e.finished,s=e.source;if(!r||r.every(function(S){return i.checkMinAndMaxWidthsForSet(S)})){var u=[],d=[];r.forEach(function(S){var _=S.width,E=S.columns,O=S.ratios,D={},L={};E.forEach(function(z){return d.push(z)});for(var N=!0,j=0,X=function(){if(++j>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";N=!1;var z=[],$=0,re=_;E.forEach(function(pe,Be){L[pe.getId()]?re-=D[pe.getId()]:(z.push(pe),$+=O[Be])});var ge=1/$;z.forEach(function(pe,Be){var Te;Be===z.length-1?Te=re:(Te=Math.round(O[Be]*_*ge),re-=Te);var ye=pe.getMinWidth(),ze=pe.getMaxWidth();x(ye)&&Te<ye?(Te=ye,L[pe.getId()]=!0,N=!0):x(ze)&&ze>0&&Te>ze&&(Te=ze,L[pe.getId()]=!0,N=!0),D[pe.getId()]=Te})};N&&"break"!==X(););E.forEach(function(z){var $=D[z.getId()];z.getActualWidth()!==$&&(z.setActualWidth($,s),u.push(z))})});var c=u.length>0,p=[];c&&(p=this.refreshFlexedColumns({resizingCols:d,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var y=d.concat(p);(c||n)&&this.dispatchColumnResizedEvent(y,n,s,p)}else n&&this.dispatchColumnResizedEvent(r&&r.length>0?r[0].columns:null,n,s)},t.prototype.setColumnAggFunc=function(e,i,r){if(void 0===r&&(r="api"),e){var n=this.getPrimaryColumn(e);n&&(n.setAggFunc(i),this.dispatchColumnChangedEvent(g.EVENT_COLUMN_VALUE_CHANGED,[n],r))}},t.prototype.moveRowGroupColumn=function(e,i,r){void 0===r&&(r="api");var n=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(i,0,n),this.eventService.dispatchEvent({type:g.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:r})},t.prototype.moveColumns=function(e,i,r,n){if(void 0===r&&(r="api"),void 0===n&&(n=!0),this.columnAnimationService.start(),i>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var s=this.getGridColumns(e);!this.doesMovePassRules(s,i)||(xn(this.gridColumns,s,i),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:i,finished:n}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,i){var r=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(r)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,i){var r=this.gridColumns.slice();return xn(r,e,i),r},t.prototype.sortColumnsLikeGridColumns=function(e){var i=this;!e||e.length<=1||e.filter(function(n){return i.gridColumns.indexOf(n)<0}).length>0||e.sort(function(n,s){return i.gridColumns.indexOf(n)-i.gridColumns.indexOf(s)})},t.prototype.doesMovePassLockedPositions=function(e){var i=0,r=!0;return e.forEach(function(s){var a=function(s){return s?!0===s||"left"===s?0:2:1}(s.getColDef().lockPosition);a<i&&(r=!1),i=a}),r},t.prototype.doesMovePassMarryChildren=function(e){var i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){if(r instanceof De){var n=r,s=n.getColGroupDef();if(s&&s.marryChildren){var l=[];n.getLeafColumns().forEach(function(y){var S=e.indexOf(y);l.push(S)}),Math.max.apply(Math,l)-Math.min.apply(Math,l)>n.getLeafColumns().length-1&&(i=!1)}}}),i},t.prototype.moveColumn=function(e,i,r){void 0===r&&(r="api"),this.moveColumns([e],i,r)},t.prototype.moveColumnByIndex=function(e,i,r){void 0===r&&(r="api"),this.moveColumn(this.gridColumns[e],i,r)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var i=this.primaryColumns.slice();return this.gridColsArePrimary?i.sort(function(r,n){return e.gridColumns.indexOf(r)-e.gridColumns.indexOf(n)}):this.lastPrimaryOrder&&i.sort(function(r,n){return e.lastPrimaryOrder.indexOf(r)-e.lastPrimaryOrder.indexOf(n)}),this.columnDefFactory.buildColumnDefs(i,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=i,this.rightWidth=r,this.eventService.dispatchEvent({type:g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return Le(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Le(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,i,r){void 0===r&&(r="api"),this.setColumnsVisible([e],i,r)},t.prototype.setColumnsVisible=function(e,i,r){void 0===i&&(i=!1),void 0===r&&(r="api"),this.applyColumnState({state:e.map(function(n){return{colId:"string"==typeof n?n:n.getColId(),hide:!i}})},r)},t.prototype.setColumnPinned=function(e,i,r){void 0===r&&(r="api"),e&&this.setColumnsPinned([e],i,r)},t.prototype.setColumnsPinned=function(e,i,r){var n;void 0===r&&(r="api"),this.gridOptionsService.isDomLayout("print")?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),n=!0===i||"left"===i?"left":"right"===i?"right":null,this.actionOnGridColumns(e,function(s){return s.getPinned()!==n&&(s.setPinned(n),!0)},r,function(){return{type:g.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:r}}),this.columnAnimationService.finish())},t.prototype.actionOnGridColumns=function(e,i,r,n){var s=this;if(!Le(e)){var a=[];if(e.forEach(function(u){var d=s.getGridColumn(u);d&&!1!==i(d)&&a.push(d)}),a.length&&(this.updateDisplayedColumns(r),x(n)&&n)){var l=n();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r>0?i[r-1]:null},t.prototype.getDisplayedColAfter=function(e){var i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r<i.length-1?i[r+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,i){for(var r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s="After"===i?fe(n):n[0],a="getDisplayedCol"+i;;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,r);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,i){for(var r=e.getParent();!(r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel()<=i);)r=r.getParent();return r},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,Ii([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var i=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:r,flex:l}},t.prototype.getColumnState=function(){if(Q(this.primaryColumns)||!this.isAlive())return[];var i=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i},t.prototype.orderColumnStateList=function(e){var i=xt(this.gridColumns.map(function(r,n){return[r.getColId(),n]}));e.sort(function(r,n){return(i.has(r.colId)?i.get(r.colId):-1)-(i.has(n.colId)?i.get(n.colId):-1)})},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var i=this.getColumnsFromTree(this.primaryColumnTree),r=[],n=1e3,s=1e3,a=[];this.groupAutoColumns&&(a=a.concat(this.groupAutoColumns)),i&&(a=a.concat(i)),a.forEach(function(l){var u=function(Z,z){return Z??z??null},d=l.getColDef(),c=u(d.sort,d.initialSort),p=u(d.sortIndex,d.initialSortIndex),y=u(d.hide,d.initialHide),S=u(d.pinned,d.initialPinned),_=u(d.width,d.initialWidth),E=u(d.flex,d.initialFlex),O=u(d.rowGroupIndex,d.initialRowGroupIndex),D=u(d.rowGroup,d.initialRowGroup);null==O&&(null==D||0==D)&&(O=null,D=null);var L=u(d.pivotIndex,d.initialPivotIndex),N=u(d.pivot,d.initialPivot);null==L&&(null==N||0==N)&&(L=null,N=null);var j=u(d.aggFunc,d.initialAggFunc),X={colId:l.getColId(),sort:c,sortIndex:p,hide:y,pinned:S,width:_,flex:E,rowGroup:D,rowGroupIndex:O,pivot:N,pivotIndex:L,aggFunc:j};Q(O)&&D&&(X.rowGroupIndex=n++),Q(L)&&N&&(X.pivotIndex=s++),r.push(X)}),this.applyColumnState({state:r,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,i){var r=this;if(Le(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var n=function(u,d,c){var p=r.compareColumnStatesAndDispatchEvents(i);r.autoGroupsNeedBuilding=!0;var y=d.slice(),S={},_={},E=[],O=[],D=0,L=r.rowGroupColumns.slice(),N=r.pivotColumns.slice();u.forEach(function(z){var $=z.colId||"";if($.startsWith(Pr))return E.push(z),void O.push(z);var ge=c($);ge?(r.syncColumnWithStateItem(ge,z,e.defaultState,S,_,!1,i),We(y,ge)):(O.push(z),D+=1)});var j=function(z){return r.syncColumnWithStateItem(z,null,e.defaultState,S,_,!1,i)};y.forEach(j);var X=function(z,$,re,ge){var pe=z[re.getId()],Be=z[ge.getId()],$e=null!=pe,Te=null!=Be;if($e&&Te)return pe-Be;if($e)return-1;if(Te)return 1;var ye=$.indexOf(re),ze=$.indexOf(ge),Jt=ye>=0;return Jt&&ze>=0?ye-ze:Jt?-1:1};r.rowGroupColumns.sort(X.bind(r,S,L)),r.pivotColumns.sort(X.bind(r,_,N)),r.updateGridColumns();var Z=r.groupAutoColumns?r.groupAutoColumns.slice():[];return E.forEach(function(z){var $=r.getAutoColumn(z.colId);We(Z,$),r.syncColumnWithStateItem($,z,e.defaultState,null,null,!0,i)}),Z.forEach(j),r.applyOrderAfterApplyState(e),r.updateDisplayedColumns(i),r.dispatchEverythingChanged(i),p(),{unmatchedAndAutoStates:O,unmatchedCount:D}};this.columnAnimationService.start();var s=n(e.state||[],this.primaryColumns||[],function(u){return r.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||x(e.defaultState))&&(l=n(a,this.secondaryColumns||[],function(u){return r.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),0===l},t.prototype.applyOrderAfterApplyState=function(e){var i=this;if(e.applyOrder&&e.state){var r=[],n={};e.state.forEach(function(a){if(a.colId&&!n[a.colId]){var l=i.gridColumnsMap[a.colId];l&&(r.push(l),n[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId();null!=n[l]||(l.startsWith(Pr)?xi(r,a,s++):r.push(a))}),r=this.placeLockedColumns(r),!this.doesMovePassMarryChildren(r))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=r}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var i=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),s={};return n.forEach(function(a){s[a.colId]=a}),function(){var a=i.getPrimaryAndSecondaryAndAutoColumns(),l=function(O,D,L,N){zt(D.map(N),L.map(N))||i.eventService.dispatchEvent({type:O,columns:L,column:1===L.length?L[0]:null,source:e})},u=function(O){var D=[];return a.forEach(function(L){var N=s[L.getColId()];N&&O(N,L)&&D.push(L)}),D},d=function(O){return O.getColId()};l(g.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,i.rowGroupColumns,d),l(g.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,i.pivotColumns,d),u(function(O,D){var L=null!=O.aggFunc,N=L!=D.isValueActive(),j=L&&O.aggFunc!=D.getAggFunc();return N||j}).length>0&&i.dispatchColumnChangedEvent(g.EVENT_COLUMN_VALUE_CHANGED,i.valueColumns,e),i.dispatchColumnResizedEvent(u(function(O,D){return O.width!=D.getActualWidth()}),!0,e),i.dispatchColumnPinnedEvent(u(function(O,D){return O.pinned!=D.getPinned()}),e),i.dispatchColumnVisibleEvent(u(function(O,D){return O.hide==D.isVisible()}),e),u(function(O,D){return O.sort!=D.getSort()||O.sortIndex!=D.getSortIndex()}).length>0&&i.sortController.dispatchSortChangedEvents(e),i.normaliseColumnMovedEventForColumnState(n,e)}},t.prototype.getCommonValue=function(e,i){if(e&&0!=e.length){for(var r=i(e[0]),n=1;n<e.length;n++)if(r!==i(e[n]))return;return r}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,i){var r=this,n=this.getColumnState(),s={};n.forEach(function(c){return s[c.colId]=c});var a={};e.forEach(function(c){s[c.colId]&&(a[c.colId]=!0)});var l=e.filter(function(c){return a[c.colId]}),u=n.filter(function(c){return a[c.colId]}),d=[];u.forEach(function(c,p){var y=l&&l[p];if(y&&y.colId!==c.colId){var S=r.getGridColumn(y.colId);S&&d.push(S)}}),d.length&&this.dispatchColumnMovedEvent({movedColumns:d,source:i,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,i,r,n,s,a,l){if(e){var u=function($,re){var ge={value1:void 0,value2:void 0},pe=!1;return i&&(void 0!==i[$]&&(ge.value1=i[$],pe=!0),x(re)&&void 0!==i[re]&&(ge.value2=i[re],pe=!0)),!pe&&r&&(void 0!==r[$]&&(ge.value1=r[$]),x(re)&&void 0!==r[re]&&(ge.value2=r[re])),ge},d=u("hide").value1;void 0!==d&&e.setVisible(!d,l);var c=u("pinned").value1;void 0!==c&&e.setPinned(c);var p=this.columnUtils.calculateColMinWidth(e.getColDef()),y=u("flex").value1;if(void 0!==y&&e.setFlex(y),e.getFlex()<=0){var _=u("width").value1;null!=_&&null!=p&&_>=p&&e.setActualWidth(_,l)}var E=u("sort").value1;void 0!==E&&e.setSort("desc"===E||"asc"===E?E:void 0,l);var O=u("sortIndex").value1;if(void 0!==O&&e.setSortIndex(O),!a&&e.isPrimary()){var D=u("aggFunc").value1;void 0!==D&&("string"==typeof D?(e.setAggFunc(D),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(x(D)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),We(this.valueColumns,e))));var L=u("rowGroup","rowGroupIndex"),N=L.value1,j=L.value2;(void 0!==N||void 0!==j)&&("number"==typeof j||N?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),n&&"number"==typeof j&&(n[e.getId()]=j)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),We(this.rowGroupColumns,e)));var X=u("pivot","pivotIndex"),Z=X.value1,z=X.value2;(void 0!==Z||void 0!==z)&&("number"==typeof z||Z?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),s&&"number"==typeof z&&(s[e.getId()]=z)):e.isPivotActive()&&(e.setPivotActive(!1,l),We(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,i){var r=[];return e&&e.forEach(function(n){var s=i(n);s&&r.push(s)}),r},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var i=this.getGridColumn(e);return i||console.warn("AG Grid: could not find column "+e),i},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,i,r){if(!e)return null;if("string"==typeof e&&r[e])return r[e];for(var n=0;n<i.length;n++)if(this.columnsMatch(i[n],e))return i[n];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var i=e.getColDef().showRowGroup;if(!i)return null;if(!0===i)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(i);return r?[r]:null},t.prototype.getAutoColumn=function(e){var i=this;return this.groupAutoColumns&&x(this.groupAutoColumns)&&!Q(this.groupAutoColumns)&&this.groupAutoColumns.find(function(r){return i.columnsMatch(r,e)})||null},t.prototype.columnsMatch=function(e,i){var r=e===i,n=e.getColDef()===i,s=e.getColId()==i;return r||n||s},t.prototype.getDisplayNameForColumn=function(e,i,r){if(void 0===r&&(r=!1),!e)return null;var n=this.getHeaderName(e.getColDef(),e,null,null,i);return r?this.wrapHeaderNameWithAggFunc(e,n):n},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,i,r){var n=i?i.getColGroupDef():null;return n?this.getHeaderName(n,null,e,i,r):null},t.prototype.getDisplayNameForColumnGroup=function(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)},t.prototype.getHeaderName=function(e,i,r,n,s){var a=e.headerValueGetter;if(a){var l={colDef:e,column:i,columnGroup:r,providedColumnGroup:n,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof a?a(l):"string"==typeof a?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?zs(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,i){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return i;var a,r=e.getColDef().pivotValueColumn,s=null;if(x(r)){var l=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,u=void 0!==e.getColDef().pivotTotalColumnIds;if(l&&!u)return i;s=r?r.getAggFunc():null,a=!0}else{var d=e.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();d&&c?(s=e.getAggFunc(),a=!0):a=!1}if(a){var p="string"==typeof s?s:"func";return this.localeService.getLocaleTextFunc()(p,p)+"("+i+")"}return i},t.prototype.getColumnGroup=function(e,i){if(!e)return null;if(e instanceof it)return e;var r=this.getAllDisplayedTrees(),n="number"==typeof i,s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,function(a){if(a instanceof it){var l=a;(n?e===l.getGroupId()&&i===l.getPartId():e===l.getGroupId())&&(s=l)}}),s},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,i){this.valueColumns=this.extractColumns(i,this.valueColumns,function(r,n){return r.setValueActive(n,e)},function(){},function(){},function(r){var n=r.aggFunc;return null===n||""===n?null:void 0!==n?!!n:void 0},function(r){return null!=r.initialAggFunc&&""!=r.initialAggFunc}),this.valueColumns.forEach(function(r){var n=r.getColDef();null!=n.aggFunc&&""!=n.aggFunc?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,function(r,n){return r.setRowGroupActive(n,e)},function(r){return r.rowGroupIndex},function(r){return r.initialRowGroupIndex},function(r){return r.rowGroup},function(r){return r.initialRowGroup})},t.prototype.extractColumns=function(e,i,r,n,s,a,l){void 0===e&&(e=[]),void 0===i&&(i=[]);var u=[],d=[];(this.primaryColumns||[]).forEach(function(y){var S=e.indexOf(y)<0,_=y.getColDef(),E=tt(a(_)),O=tt(l(_)),D=Ye(n(_)),L=Ye(s(_));(void 0!==E?E:void 0!==D?null!==D&&D>=0:S?void 0!==O?O:void 0!==L&&null!=L&&L>=0:i.indexOf(y)>=0)&&((S?null!=D||null!=L:null!=D)?u.push(y):d.push(y))});var c=function(y){var S=n(y.getColDef()),_=s(y.getColDef());return S??_};u.sort(function(y,S){var _=c(y),E=c(S);return _===E?0:_<E?-1:1});var p=[].concat(u);return i.forEach(function(y){d.indexOf(y)>=0&&p.push(y)}),d.forEach(function(y){p.indexOf(y)<0&&p.push(y)}),i.forEach(function(y){p.indexOf(y)<0&&r(y,!1)}),p.forEach(function(y){i.indexOf(y)<0&&r(y,!0)}),p},t.prototype.extractPivotColumns=function(e,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,function(r,n){return r.setPivotActive(n,e)},function(r){return r.pivotIndex},function(r){return r.initialPivotIndex},function(r){return r.pivot},function(r){return r.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(r){if(r instanceof De){var n=r.getColGroupDef(),s={groupId:r.getGroupId(),open:n?n.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof De&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,i){var r=this;void 0===i&&(i="api"),this.columnAnimationService.start();var n=[];e.forEach(function(s){var l=s.open,u=r.getProvidedColumnGroup(s.groupId);u&&u.isExpanded()!==l&&(r.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),n.push(u))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),n.forEach(function(s){r.eventService.dispatchEvent({type:g.EVENT_COLUMN_GROUP_OPENED,columnGroup:s})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,i,r){var n;void 0===r&&(r="api"),n=e instanceof De?e.getId():e||"",this.setColumnGroupState([{groupId:n,open:i}],r)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof De&&r.getId()===e&&(i=r)}),i},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&Q(this.secondaryColumns)?this.gridColumns.filter(function(r){var n=e.groupAutoColumns&&ct(e.groupAutoColumns,r),s=e.valueColumns&&ct(e.valueColumns,r);return n||s}):this.gridColumns.filter(function(r){return e.groupAutoColumns&&ct(e.groupAutoColumns,r)||r.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var i=!1;return e.forEach(function(r){x(r.getColDef().colSpan)&&(i=!0)}),i},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var i=function(r){var n=r.getColDef(),s=n.showRowGroup;n&&x(s)&&(e.groupDisplayColumns.push(r),"string"==typeof s?e.groupDisplayColumnsMap[s]=r:!0===s&&e.getRowGroupColumns().forEach(function(a){e.groupDisplayColumnsMap[a.getId()]=r}))};this.gridColumns.forEach(i),this.groupAutoColumns&&this.groupAutoColumns.forEach(i)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return x(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,i){var r=this;void 0===i&&(i="api");var n=e&&e.length>0;if(n||!Q(this.secondaryColumns)){if(n){this.processSecondaryColumnDefinitions(e);var s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return r.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}},t.prototype.processSecondaryColumnDefinitions=function(e){var i=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(i||r){var n=function(s){s.forEach(function(a){if(x(a.children)){var u=a;r&&r(u),n(u.children)}else i&&i(a)})};e&&n(e)}},t.prototype.updateGridColumns=function(){var r,e=this,i=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var n=this.secondaryColumns.every(function(u){return void 0!==e.gridColumnsMap[u.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(r=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,r=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&r){var a=xt(this.groupAutoColumns.map(function(u){return[u,!0]}));r=r.filter(function(u){return!a.has(u)}),r=Ii(this.groupAutoColumns,r)}this.addAutoGroupToGridColumns(),this.orderGridColsLike(r),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return e.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),zt(i,this.gridBalancedTree)||this.eventService.dispatchEvent({type:g.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType();"clientSide"!==e&&"serverSide"!==e&&te(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},t.prototype.orderGridColsLike=function(e){if(!Q(e)){var i=xt(e.map(function(d,c){return[d,c]})),r=!0;if(this.gridColumns.forEach(function(d){i.has(d)&&(r=!1)}),!r){var n=xt(this.gridColumns.map(function(d){return[d,!0]})),s=e.filter(function(d){return n.has(d)}),a=xt(s.map(function(d){return[d,!0]})),l=this.gridColumns.filter(function(d){return!a.has(d)}),u=s.slice();l.forEach(function(d){var c=d.getOriginalParent();if(c){for(var p=[];!p.length&&c;)c.getLeafColumns().forEach(function(E){var O=u.indexOf(E)>=0,D=p.indexOf(E)<0;O&&D&&p.push(E)}),c=c.getOriginalParent();if(p.length){var S=p.map(function(E){return u.indexOf(E)}),_=Math.max.apply(Math,Ii(S));xi(u,d,_+1)}else u.push(d)}else u.push(d)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,i;this.groupAutoColumns?i=(null!==(e=this.primaryColumns)&&void 0!==e?e:[]).concat(this.groupAutoColumns):this.primaryColumns&&(i=this.primaryColumns),i=i??[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?i.filter(function(r){return r.isVisible()}):i},t.prototype.placeLockedColumns=function(e){var i=[],r=[],n=[];return e.forEach(function(s){var a=s.getColDef().lockPosition;"right"===a?n.push(s):"left"===a||!0===a?i.push(s):r.push(s)}),Ii(i,r,n)},t.prototype.addAutoGroupToGridColumns=function(){if(Q(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:g.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(i){return i.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var i=this;if(this.primaryColumns){var r=this.primaryColumns.slice(0),n=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(n){var a=i.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,e)})}else{var l=0;s.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}Ln(r,s)}),r.forEach(function(s){s.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(i){i instanceof it&&i.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(r){r instanceof _e&&i.push(r)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,i){var r;switch(e){case"left":r=this.viewportRowLeft[i];break;case"right":r=this.viewportRowRight[i];break;default:r=this.viewportRowCenter[i]}return Q(r)&&(r=[]),r},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(r){return e[r.getId()]=!0});var i=function(r,n,s){for(var a=!1,l=0;l<r.length;l++){var u=r[l],d=!1;if(u instanceof _e)d=!0===e[u.getId()];else{var p=u.getDisplayedChildren();p&&(d=i(p,n,s+1))}d&&(a=!0,n[s]||(n[s]=[]),n[s].push(u))}return a};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var i=this.viewportColumns.map(function(n){return n.getId()+"-"+(n.getPinned()||"normal")}).join("#"),r=this.viewportColumnsHash!==i;return r&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),r},t.prototype.refreshFlexedColumns=function(e){var i=this;void 0===e&&(e={});var r=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var n=-1;e.resizingCols&&e.resizingCols.forEach(function(N){var j=i.displayedColumnsCenter.indexOf(N);n<j&&(n=j)});var s=function(N){var j=i.displayedColumnsCenter.indexOf(N)>n;return N.getFlex()&&j},a=this.displayedColumnsCenter.filter(function(N){return!s(N)}),l=this.displayedColumnsCenter.filter(function(N){return s(N)}),u=[];if(!l.length)return[];var c,d=[];e:for(;;){var p=l.reduce(function(N,j){return N+j.getFlex()},0);c=this.flexViewportWidth-this.getWidthOfColsInList(a);for(var y=0;y<l.length;y++){var S=l[y],_=c*S.getFlex()/p,E=0,O=S.getMinWidth(),D=S.getMaxWidth();if(x(O)&&_<O?E=O:x(D)&&_>D&&(E=D),E){S.setActualWidth(E,r),We(l,S),u.push(S),a.push(S);continue e}d[y]=Math.round(_)}break}var L=c;return l.forEach(function(N,j){N.setActualWidth(Math.min(d[j],L),r),u.push(N),L-=d[j]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,r,l),this.flexColsCalculatedAtLestOnce||(this.gridOptionsService.isRowModelType("clientSide")&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),l},t.prototype.sizeColumnsToFit=function(e,i,r,n){var s,a,l,u,d;void 0===i&&(i="sizeColumnsToFit");var c={};n&&(null===(s=n?.columnLimits)||void 0===s||s.forEach(function(ye){var ze=ye.key,Jt=function(o,t){var e={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t.indexOf(i)<0&&(e[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(o);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(o,i[r])&&(e[i[r]]=o[i[r]])}return e}(ye,["key"]);c["string"==typeof ze?ze:ze.getColId()]=Jt}));var p=this.getAllDisplayedColumns(),y=e===this.getWidthOfColsInList(p);if(!(e<=0||!p.length||y)){var S=[],_=[];p.forEach(function(ye){!0===ye.getColDef().suppressSizeToFit?_.push(ye):S.push(ye)});var E=S.slice(0),O=!1,D=function(ye){We(S,ye),_.push(ye)};for(S.forEach(function(ye){return ye.resetActualWidth(i)});!O;){O=!0;var L=e-this.getWidthOfColsInList(_);if(L<=0)S.forEach(function(ye){var ze,Jt,Rn=null!==(Jt=null===(ze=c?.[ye.getId()])||void 0===ze?void 0:ze.minWidth)&&void 0!==Jt?Jt:n?.defaultMinWidth;"number"!=typeof Rn?ye.setMinimum(i):ye.setActualWidth(Rn)});else for(var N=L/this.getWidthOfColsInList(S),j=L,X=S.length-1;X>=0;X--){var Z=S[X],z=c?.[Z.getId()],$=null!==(a=z?.minWidth)&&void 0!==a?a:n?.defaultMinWidth,re=null!==(l=z?.maxWidth)&&void 0!==l?l:n?.defaultMaxWidth,ge=null!==(u=Z.getMinWidth())&&void 0!==u?u:0,pe=null!==(d=Z.getMaxWidth())&&void 0!==d?d:Number.MAX_VALUE,Be="number"==typeof $&&$>ge?$:Z.getMinWidth(),$e="number"==typeof re&&re<pe?re:Z.getMaxWidth(),Te=Math.round(Z.getActualWidth()*N);x(Be)&&Te<Be?(Te=Be,D(Z),O=!1):x($e)&&Te>$e?(Te=$e,D(Z),O=!1):0===X&&(Te=j),Z.setActualWidth(Te,i,!0),j-=Te}}E.forEach(function(ye){ye.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(E,!0,i)}},t.prototype.buildDisplayedTrees=function(e){var i=[],r=[],n=[];e.forEach(function(a){switch(a.getPinned()){case"left":i.push(a);break;case"right":r.push(a);break;default:n.push(a)}});var s=new mu;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var i=function(r){e.displayedColumnsAndGroupsMap[r.getUniqueId()]=r};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,i)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(i){i instanceof it&&i.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||i||e)this.groupAutoColumns=null;else{var a=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(a,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=a,!0}return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType");if(e&&Wn("custom",e))return!0;var r=this.gridOptionsService.get("treeDataDisplayType");return!!r&&function yu(o,t){var e=["auto","custom"];return e.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+e.join("', '")+"'"),!1):t===o}("custom",r)},t.prototype.autoColsEqual=function(e,i){return zt(e,i,function(r,n){return r.getColId()===n.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(i,r){return i+r.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(i){return i.getColDef().floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.is("enableRtl"),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&i.reverse();for(var r=0;r<i.length;r++){var n=this[i[r]]();if(n.length)return e?fe(n):n[0]}return null},t.prototype.setColumnHeaderHeight=function(e,i){e.setAutoHeaderHeight(i)&&this.eventService.dispatchEvent({type:g.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(function(r){return r.isAutoHeaderHeight()}).map(function(r){return r.getAutoHeaderHeight()||0});return Math.max.apply(Math,Ii([e],i))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},Me([h("expressionService")],t.prototype,"expressionService",void 0),Me([h("columnFactory")],t.prototype,"columnFactory",void 0),Me([h("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Me([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Me([h("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Me([h("columnUtils")],t.prototype,"columnUtils",void 0),Me([h("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Me([h("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Me([ve("aggFuncService")],t.prototype,"aggFuncService",void 0),Me([ve("valueCache")],t.prototype,"valueCache",void 0),Me([ve("animationFrameService")],t.prototype,"animationFrameService",void 0),Me([h("rowModel")],t.prototype,"rowModel",void 0),Me([h("sortController")],t.prototype,"sortController",void 0),Me([h("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Me([G],t.prototype,"init",null),Me([qe],t.prototype,"destroyColumns",null),Me([Pu(0,Xe("loggerFactory"))],t.prototype,"setBeans",null),Me([U("columnModel")],t)}(I),Lu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mu=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Lu(t,o),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var i=this.calculateColMinWidth(e),r=this.calculateColMaxWidth(e),s=Ye(e.width),a=Ye(e.initialWidth);return Math.max(Math.min(null!=s?s:null!=a?a:200,r),i)},t.prototype.getOriginalPathForColumn=function(e,i){var r=[],n=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(n)return;var d=a[u];d instanceof De?(s(d.getChildren(),l+1),r[l]=d):d===e&&(n=!0)}};return s(i,0),n?r:null},t.prototype.depthFirstOriginalTreeSearch=function(e,i,r){var n=this;i&&i.forEach(function(s){s instanceof De&&n.depthFirstOriginalTreeSearch(s,s.getChildren(),r),r(s,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,i){var r=this;e&&e.forEach(function(n){n instanceof it&&r.depthFirstAllColumnTreeSearch(n.getChildren(),i),i(n)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,i){var r=this;e&&e.forEach(function(n){n instanceof it&&r.depthFirstDisplayedColumnTreeSearch(n.getDisplayedChildren(),i),i(n)})},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("columnUtils")],t),t}(I),Iu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gu=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Iu(t,o),t.prototype.createDisplayedGroups=function(e,i,r,n,s){var u,d,a=this,l=[],c=this.mapOldGroupsById(s);return e.forEach(function(p){for(var y=a.getOriginalPathForColumn(i,p),S=[],_=!d,E=0;E<y.length;E++)if(_||y[E]!==d[E]){var O=a.createColumnGroup(y[E],r,c,n);S[E]=O,0==E?l.push(O):S[E-1].addChild(O)}else S[E]=u[E];0===S.length?l.push(p):fe(S).addChild(p),u=S,d=y}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,i,r,n){var s=e.getGroupId(),a=i.getInstanceIdForKey(s),u=r[it.createUniqueId(s,a)];return u&&u.getProvidedColumnGroup()!==e&&(u=null),x(u)?u.reset():(u=new it(e,s,a,n),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var i={},r=function(n){n.forEach(function(s){if(s instanceof it){var a=s;i[s.getUniqueId()]=a,r(a.getChildren())}})};return e&&r(e),i},t.prototype.setupParentsIntoColumns=function(e,i){var r=this;e.forEach(function(n){if(n.setParent(i),n instanceof it){var s=n;r.setupParentsIntoColumns(s.getChildren(),s)}})},t.prototype.getOriginalPathForColumn=function(e,i){var r=[],n=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(n)return;var d=a[u];d instanceof De?(s(d.getChildren(),l+1),r[l]=d):d===i&&(n=!0)}};return s(e,0),n?r:(console.warn("AG Grid: could not get path"),null)},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("displayedGroupCreator")],t),t}(I),Hu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bu=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Hu(t,o),t.prototype.setupComponents=function(e){var i=this;e&&e.forEach(function(r){return i.addComponent(r)})},t.prototype.addComponent=function(e){var r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[r]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("agStackComponentsRegistry")],t),t}(I);function Mt(o,t,e){null==e||""==e?kn(o,t):pt(o,t,e)}function pt(o,t,e){o.setAttribute(Ys(t),e.toString())}function kn(o,t){o.removeAttribute(Ys(t))}function Ys(o){return"aria-"+o}function Ie(o,t){t?o.setAttribute("role",t):o.removeAttribute("role")}function Qs(o){return"asc"===o?"ascending":"desc"===o?"descending":"mixed"===o?"other":"none"}function qs(o){return parseInt(o.getAttribute("aria-level"),10)}function Xs(o){return parseInt(o.getAttribute("aria-posinset"),10)}function Wu(o){return o.getAttribute("aria-describedby")||""}function ii(o,t){Mt(o,"label",t)}function Un(o,t){Mt(o,"labelledby",t)}function Zs(o,t){Mt(o,"description",t)}function Js(o,t){Mt(o,"describedby",t)}function $s(o,t){Mt(o,"live",t)}function ea(o,t){Mt(o,"level",t)}function zn(o,t){Mt(o,"disabled",t)}function br(o,t){Mt(o,"hidden",t)}function mt(o,t){pt(o,"expanded",t)}function ta(o){kn(o,"expanded")}function Kn(o,t){pt(o,"setsize",t)}function Yn(o,t){pt(o,"posinset",t)}function ia(o,t){pt(o,"multiselectable",t)}function ra(o,t){pt(o,"rowcount",t)}function Qn(o,t){pt(o,"rowindex",t)}function na(o,t){pt(o,"colcount",t)}function qn(o,t){pt(o,"colindex",t)}function oa(o,t){pt(o,"colspan",t)}function sa(o,t){pt(o,"sort",t)}function aa(o){kn(o,"sort")}function Ci(o,t){Mt(o,"selected",t)}function la(o,t){pt(o,"checked",void 0===t?"mixed":t)}function Rt(){return void 0===Xn&&(Xn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Xn}function ro(){if(void 0===Ar)if(Rt()){var o=navigator.userAgent.match(/version\/(\d+)/i);o&&(Ar=null!=o[1]?parseFloat(o[1]):0)}else Ar=0;return Ar}function Ni(){if(void 0===Zn){var o=window;Zn=!!o.chrome&&(!!o.chrome.webstore||!!o.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Zn}function no(){return void 0===Jn&&(Jn=/(firefox)/i.test(navigator.userAgent)),Jn}function oo(){return void 0===$n&&($n=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),$n}function Kt(){return void 0===eo&&(eo=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),eo}function Fr(){return!Rt()||ro()>=15}function Lr(o){if(!o)return null;var t=o.tabIndex,e=o.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||no())?t.toString():null}function ua(){if(!document.body)return-1;var o=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var i=2*o;if(e.style.height=i+"px",i>t||e.clientHeight!==i)break;o=i}return document.body.removeChild(e),o}function da(){var o,t,e;return null!==(t=null===(o=document.body)||void 0===o?void 0:o.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function ca(){var o,t,e;return null!==(t=null===(o=document.body)||void 0===o?void 0:o.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function pa(){return null==io&&ha(),io}function ha(){var o=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",o.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(io=e,to=0===e)}function Gi(){return null==to&&ha(),to}function mi(o,t){return o.toString().padStart(t,"0")}function fa(o,t){for(var e=[],i=o;i<=t;i++)e.push(i);return e}function ju(o){return"string"==typeof o&&(o=parseInt(o,10)),"number"==typeof o?Math.floor(o):null}function ku(o,t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(255&o),o>>>=8;return e}function Uu(o,t,e){return"number"!=typeof o?"":so(Math.round(100*o)/100,t,e)}function so(o,t,e){return"number"!=typeof o?"":o.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}function zu(o){return null==o?null:o.reduce(function(t,e){return t+e},0)}function Ku(o,t){return o>=0?o:t}function Yu(o,t){var e=parseInt(o,10);return!isNaN(e)&&isFinite(e)&&e>0?e:t}var ao=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n};function Hi(o,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!o)return null;var i=[o.getFullYear(),o.getMonth()+1,o.getDate()].map(function(r){return mi(r,2)}).join(e);return t&&(i+=" "+[o.getHours(),o.getMinutes(),o.getSeconds()].map(function(r){return mi(r,2)}).join(":")),i}var lo=function(o){if(o>3&&o<21)return"th";switch(o%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function xr(o,t){void 0===t&&(t="YYYY-MM-DD");var e=mi(o.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return""+o.getFullYear()},MMMM:function(){return i[o.getMonth()]},MMM:function(){return i[o.getMonth()].slice(0,3)},MM:function(){return mi(o.getMonth()+1,2)},Mo:function(){return""+(o.getMonth()+1)+lo(o.getMonth()+1)},M:function(){return""+(o.getMonth()+1)},Do:function(){return""+o.getDate()+lo(o.getDate())},DD:function(){return mi(o.getDate(),2)},D:function(){return""+o.getDate()},dddd:function(){return r[o.getDay()]},ddd:function(){return r[o.getDay()].slice(0,3)},dd:function(){return r[o.getDay()].slice(0,2)},do:function(){return""+o.getDay()+lo(o.getDay())},d:function(){return""+o.getDay()}},s=new RegExp(Object.keys(n).join("|"),"g");return t.replace(s,function(a){return a in n?n[a]():a})}function Yt(o){if(!o)return null;var t=ao(o.split(" "),2),e=t[0],i=t[1];if(!e)return null;var r=e.split("-").map(function(S){return parseInt(S,10)});if(3!==r.filter(function(S){return!isNaN(S)}).length)return null;var n=ao(r,3),s=n[0],a=n[1],l=n[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!i||"00:00:00"===i)return u;var d=ao(i.split(":").map(function(S){return parseInt(S,10)}),3),c=d[0],p=d[1],y=d[2];return c>=0&&c<24&&u.setHours(c),p>=0&&p<60&&u.setMinutes(p),y>=0&&y<60&&u.setSeconds(y),u}var Mr,Qu=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],i=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qu=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n};function Xu(o,t,e){for(var i=o.parentElement,r=i&&i.firstChild;r;)t&&r.classList.toggle(t,r===o),e&&r.classList.toggle(e,r!==o),r=r.nextSibling}var va="[tabindex], input, select, button, textarea, [href]",uo=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function co(o){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(o,"input, select, button, textarea"),r=t.call(o,uo),n=Si(o);return i&&!r&&n}function le(o,t,e){void 0===e&&(e={});var i=e.skipAriaHidden;o.classList.toggle("ag-hidden",!t),i||br(o,!t)}function ga(o,t,e){void 0===e&&(e={});var i=e.skipAriaHidden;o.classList.toggle("ag-invisible",!t),i||br(o,!t)}function wi(o,t){var e="disabled",i=t?function(r){return r.setAttribute(e,"")}:function(r){return r.removeAttribute(e)};i(o),wo(o.querySelectorAll("input"),function(r){return i(r)})}function ri(o,t,e){for(var i=0;o;){if(o.classList.contains(t))return!0;if(o=o.parentElement,"number"==typeof e){if(++i>e)break}else if(o===e)break}return!1}function ni(o){var t=window.getComputedStyle(o),i=t.width,r=t.borderTopWidth,n=t.borderRightWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,l=t.paddingTop,u=t.paddingRight,d=t.paddingBottom,c=t.paddingLeft,p=t.marginTop,y=t.marginRight,S=t.marginBottom,_=t.marginLeft,E=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(i),borderTopWidth:parseFloat(r),borderRightWidth:parseFloat(n),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(d),paddingLeft:parseFloat(c),marginTop:parseFloat(p),marginRight:parseFloat(y),marginBottom:parseFloat(S),marginLeft:parseFloat(_),boxSizing:E}}function Vi(o){var t=ni(o);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Ir(o){var t=ni(o);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function po(o){var t=ni(o);return Math.ceil(o.offsetHeight+(t.marginBottom+t.marginTop))}function Nr(o){var t=ni(o);return Math.ceil(o.offsetWidth+(t.marginLeft+t.marginRight))}function Bi(){if("boolean"==typeof Mr)return Mr;var o=document.createElement("div");return o.style.direction="rtl",o.style.width="1px",o.style.height="1px",o.style.position="fixed",o.style.top="0px",o.style.overflow="hidden",o.dir="rtl",o.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(o),o.scrollLeft=1,Mr=0===Math.floor(o.scrollLeft),document.body.removeChild(o),Mr}function Wi(o,t){var e=o.scrollLeft;return t&&(e=Math.abs(e),Ni()&&!Bi()&&(e=o.scrollWidth-o.clientWidth-e)),e}function Gr(o,t,e){e&&(Bi()?t*=-1:(Rt()||Ni())&&(t=o.scrollWidth-o.clientWidth-t)),o.scrollLeft=t}function rt(o){for(;o&&o.firstChild;)o.removeChild(o.firstChild)}function Zu(o,t){It(o.querySelector(t))}function It(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function Si(o){return null!==o.offsetParent}function He(o){var t=document.createElement("div");return t.innerHTML=(o||"").trim(),t.firstChild}function Ju(o,t){o.lastChild?o.insertAdjacentHTML("afterbegin",t):o.innerHTML=t}function $u(o,t){return o.attributes&&o.attributes[t]?o.attributes[t].value:null}function ho(o){return o&&o.clientHeight?o.clientHeight:0}function fo(o){return o&&o.clientWidth?o.clientWidth:0}function vo(o,t,e){if(!e||e.nextSibling!==t){var i=document.activeElement,r=t.contains(i);e?e.nextSibling?o.insertBefore(t,e.nextSibling):o.appendChild(t):o.firstChild&&o.firstChild!==t&&o.insertAdjacentElement("afterbegin",t),r&&i&&Fr()&&i.focus({preventScroll:!0})}}function go(o,t){for(var e=0;e<t.length;e++){var i=t[e],r=o.children[e];r!==i&&o.insertBefore(i,r)}}function ya(o,t,e){e?e.insertAdjacentElement("afterend",t):o.firstChild?o.insertAdjacentElement("afterbegin",t):o.appendChild(t)}function ed(o,t){x(o.firstChild)?o.insertBefore(t,o.firstChild):o.appendChild(t)}function yo(o,t){var e,i;if(t)try{for(var r=Qu(Object.entries(t)),n=r.next();!n.done;n=r.next()){var s=qu(n.value,2),a=s[0],l=s[1];if(a&&a.length&&null!=l){var u=a.replace(/[A-Z]/g,function(y){return"-"+y.toLocaleLowerCase()}),d=l.toString(),c=d.replace(/\s*!important/g,"");o.style.setProperty(u,l,c.length!=d.length?"important":void 0)}}}catch(y){e={error:y}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}function Co(o){return o.clientWidth<o.scrollWidth}function Ca(o){return o.clientHeight<o.scrollHeight}function ji(o,t){"flex"===t?(o.style.removeProperty("width"),o.style.removeProperty("minWidth"),o.style.removeProperty("maxWidth"),o.style.flex="1 1 auto"):ht(o,t)}function ht(o,t){t=mo(t),o.style.width=t.toString(),o.style.maxWidth=t.toString(),o.style.minWidth=t.toString()}function td(o,t){"flex"===t?(o.style.removeProperty("height"),o.style.removeProperty("minHeight"),o.style.removeProperty("maxHeight"),o.style.flex="1 1 auto"):oi(o,t)}function oi(o,t){t=mo(t),o.style.height=t.toString(),o.style.maxHeight=t.toString(),o.style.minHeight=t.toString()}function mo(o){return"number"==typeof o?o+"px":o}function ki(o){return o instanceof Node||o instanceof HTMLElement}function ma(o){if(null==o)return[];var t=[];return wo(o,function(e){return t.push(e)}),t}function wa(o,t){if(o)for(var e=0;e<o.length;e++){var i=o[e];t(i.name,i.value)}}function Ui(o,t,e){null==e?o.removeAttribute(t):o.setAttribute(t,e.toString())}function wo(o,t){if(null!=o)for(var e=0;e<o.length;e++)t(o[e])}var Sa={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function ft(o,t,e){var i=be(o,t,e);if(i&&i.className.indexOf("ag-icon")>-1)return i;var r=document.createElement("span");return r.appendChild(i),r}function be(o,t,e,i){var r=null,n=e&&e.getColDef().icons;if(n&&(r=n[o]),t&&!r){var s=t.get("icons");s&&(r=s[o])}if(!r){var l=document.createElement("span"),u=Sa[o];return u||(i?u=o:(console.warn("AG Grid: Did not find icon "+o),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),Ie(l,"presentation"),l}var a=void 0;if("function"==typeof r)a=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");a=r}return"string"==typeof a?He(a):ki(a)?a:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var F=function(){function o(){}return o.BACKSPACE="Backspace",o.TAB="Tab",o.ENTER="Enter",o.ESCAPE="Escape",o.SPACE=" ",o.LEFT="ArrowLeft",o.UP="ArrowUp",o.RIGHT="ArrowRight",o.DOWN="ArrowDown",o.DELETE="Delete",o.F2="F2",o.PAGE_UP="PageUp",o.PAGE_DOWN="PageDown",o.PAGE_HOME="Home",o.PAGE_END="End",o.A="KeyA",o.C="KeyC",o.D="KeyD",o.V="KeyV",o.X="KeyX",o.Y="KeyY",o.Z="KeyZ",o}(),id=65,rd=67,nd=86,od=68,sd=90,ad=89;function _a(o){return!(o.altKey||o.ctrlKey||o.metaKey)&&1===o.key.length}function Hr(o,t,e,i,r){var n=i?i.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;var s={event:t,editing:r,column:i,api:o.api,node:e,data:e.data,colDef:i.getColDef(),context:o.context,columnApi:o.columnApi};return!(!n||!n(s))}function Ea(o,t,e,i){var r=i.getDefinition(),n=r&&r.suppressHeaderKeyboardEvent;return!!x(n)&&!!n({api:o.api,columnApi:o.columnApi,context:o.context,colDef:r,column:i,headerRowIndex:e,event:t})}function Ra(o){var e;switch(o.keyCode){case id:e=F.A;break;case rd:e=F.C;break;case nd:e=F.V;break;case od:e=F.D;break;case sd:e=F.Z;break;case ad:e=F.Y;break;default:e=o.code}return e}function Oa(o,t){return void 0===t&&(t=!1),o===F.DELETE||!t&&o===F.BACKSPACE&&oo()}function So(o,t,e){if(0===e)return!1;var i=Math.abs(o.clientX-t.clientX),r=Math.abs(o.clientY-t.clientY);return Math.max(i,r)<=e}function ld(o,t){if(!o)return!1;for(var e=function(a,l){var u=t[a.id],d=t[l.id],c=void 0!==u,p=void 0!==d;return c&&p?u-d:c||p?c?1:-1:a.__objectId-l.__objectId},n=!1,s=0;s<o.length-1;s++)if(e(o[s],o[s+1])>0){n=!0;break}return!!n&&(o.sort(e),!0)}function ud(o,t){var e=[];!function i(r){r&&r.forEach(function(n){if(n.group||n.hasChildren()){e.push(n.key);var s=e.join("|");t(n,s),i(n.childrenAfterGroup),e.pop()}})}(o)}function _o(o){var t=new Set;return o.forEach(function(e){return t.add(e)}),t}var Ae=function(){return Ae=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Ae.apply(this,arguments)},Nt=Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae({},se),et),B),he),Ee),ut),Oe),Ct),M),Ke),Pe),de),dt),J),b),Ce),ke),we),Eo=function(){function o(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return o.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},o.prototype.peek=function(){return this.nextValue},o.prototype.skip=function(t){this.nextValue+=t},o}(),zi=function(o){return o[o.IN_PROGRESS=0]="IN_PROGRESS",o[o.RESOLVED=1]="RESOLVED",o}(zi||{}),nt=function(){function o(t){var e=this;this.status=zi.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(i){return e.onDone(i)},function(i){return e.onReject(i)})}return o.all=function(t){return new o(function(e){var i=t.length,r=new Array(i);t.forEach(function(n,s){n.then(function(a){r[s]=a,0==--i&&e(r)})})})},o.resolve=function(t){return void 0===t&&(t=null),new o(function(e){return e(t)})},o.prototype.then=function(t){var e=this;return new o(function(i){e.status===zi.RESOLVED?i(t(e.resolution)):e.waiters.push(function(r){return i(t(r))})})},o.prototype.resolveNow=function(t,e){return this.status===zi.RESOLVED?e(this.resolution):t},o.prototype.onDone=function(t){this.status=zi.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},o.prototype.onReject=function(t){console.warn("TBI")},o}(),cd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ro=function(){return Ro=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Ro.apply(this,arguments)},Ki=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ot=function(o){return o[o.NOTHING=0]="NOTHING",o[o.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",o[o.SHOWING=2]="SHOWING",o}(Ot||{}),Oo=function(o){function t(e){var i=o.call(this)||this;return i.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,i.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.state=Ot.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i.parentComp=e,i}return cd(t,o),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),o.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!Kt()&&this.state==Ot.NOTHING){var i=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.lastMouseEvent=e,this.state=Ot.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Ot.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Ot.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Ot.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.getTooltipDelay=function(e){var i=this.gridOptionsService.getNum("tooltipShowDelay"),r=this.gridOptionsService.getNum("tooltipHideDelay"),n="show"===e?i:r,s=Us(e);return x(n)?(n<0&&te(function(){return console.warn("AG Grid: tooltip"+s+"Delay should not be lower than 0")},"tooltip"+s+"DelayWarn"),Math.max(200,n)):null},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Ot.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var i=this.tooltipPopupDestroyFunc,r=this.tooltipComp;window.setTimeout(function(){i(),e.getContext().destroyBean(r)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=Ro({},this.parentComp.getTooltipParams());if(x(e.value)){this.state=Ot.SHOWING,this.tooltipInstanceCount++;var i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,i){if(this.state!==Ot.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(i);else{var n=i.getGui();this.tooltipComp=i,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Ki([h("popupService")],t.prototype,"popupService",void 0),Ki([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ki([h("columnApi")],t.prototype,"columnApi",void 0),Ki([h("gridApi")],t.prototype,"gridApi",void 0),Ki([G],t.prototype,"postConstruct",null),t}(I),pd=function(){function o(t){this.cssClassStates={},this.getGui=t}return o.prototype.addCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach(function(s){return e.addCssClass(s)});else if(!0!==this.cssClassStates[t]&&t.length){var n=this.getGui();n&&n.classList.add(t),this.cssClassStates[t]=!0}},o.prototype.removeCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach(function(s){return e.removeCssClass(s)});else if(!1!==this.cssClassStates[t]&&t.length){var n=this.getGui();n&&n.classList.remove(t),this.cssClassStates[t]=!1}},o.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},o.prototype.addOrRemoveCssClass=function(t,e){var i=this;if(t){if(t.indexOf(" ")>=0){var r=(t||"").split(" ");if(r.length>1)return void r.forEach(function(a){return i.addOrRemoveCssClass(a,e)})}if(this.cssClassStates[t]!==e&&t.length){var s=this.getGui();s&&s.classList.toggle(t,e),this.cssClassStates[t]=e}}},o}(),hd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),To=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},fd=new Eo,oe=function(o){function t(e){var i=o.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=fd.next(),i.cssClassManager=new pd(function(){return i.eGui}),e&&i.setTemplate(e),i}return hd(t,o),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var i=this;this.tooltipText!=e&&(this.tooltipText&&(i.usingBrowserTooltips?i.getGui().removeAttribute("title"):i.tooltipFeature=i.destroyBean(i.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(i.usingBrowserTooltips?i.getGui().setAttribute("title",i.tooltipText):i.tooltipFeature=i.createBean(new Oo(i)))))},t.prototype.createChildComponentsFromTags=function(e,i){var r=this;ma(e.childNodes).forEach(function(s){if(s instanceof HTMLElement){var a=r.createComponentFromElement(s,function(u){u.getGui()&&r.copyAttributesFromNode(s,u.getGui())},i);if(a){if(a.addItems&&s.children.length){r.createChildComponentsFromTags(s,i);var l=Array.prototype.slice.call(s.children);a.addItems(l)}r.swapComponentForNode(a,e,s)}else s.childNodes&&r.createChildComponentsFromTags(s,i)}})},t.prototype.createComponentFromElement=function(e,i,r){var n=e.nodeName,s=r?r[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(n);if(a){t.elementGettingCreated=e;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,i),l}return null},t.prototype.copyAttributesFromNode=function(e,i){wa(e.attributes,function(r,n){return i.setAttribute(r,n)})},t.prototype.swapComponentForNode=function(e,i,r){var n=e.getGui();i.replaceChild(n,r),i.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)},t.prototype.swapInComponentForQuerySelectors=function(e,i){var r=this;this.iterateOverQuerySelectors(function(n){r[n.attributeName]===i&&(r[n.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var i=Object.getPrototypeOf(this);null!=i;){var r=i.__agComponentMetaData,n=Wt(i.constructor);r&&r[n]&&r[n].querySelectors&&r[n].querySelectors.forEach(function(s){return e(s)}),i=Object.getPrototypeOf(i)}},t.prototype.setTemplate=function(e,i){var r=He(e);this.setTemplateFromElement(r,i)},t.prototype.setTemplateFromElement=function(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var i=this;this.iterateOverQuerySelectors(function(r){var n=function(l){return i[r.attributeName]=l};if(r.refSelector&&e.eGui.getAttribute("ref")===r.refSelector)n(e.eGui);else{var a=e.eGui.querySelector(r.querySelector);a&&n(a.__agComponent||a)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,i){null!=e&&(i||(i=this.eGui),ki(e)?i.appendChild(e):i.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,i){void 0===i&&(i={}),e!==this.visible&&(this.visible=e,ga(this.eGui,e,{skipAriaHidden:i.skipAriaHidden}))},t.prototype.setDisplayed=function(e,i){void 0===i&&(i={}),e!==this.displayed&&(this.displayed=e,le(this.eGui,e,{skipAriaHidden:i.skipAriaHidden}),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),o.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,i,r){var n=this;this.eGui.addEventListener(e,i,r),this.addDestroyFunc(function(){return n.eGui.removeEventListener(e,i)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)},t.prototype.getAttribute=function(e){var i=this.eGui;return i?i.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",To([h("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),To([bs],t.prototype,"preConstructOnComponent",null),To([bs],t.prototype,"createChildComponentsPreConstruct",null),t}(I);function H(o){return Ta.bind(this,"[ref="+o+"]",o)}function Ta(o,t,e,i,r){null!==o?"number"!=typeof r?function vd(o,t,e){var i=function gd(o,t){return o.__agComponentMetaData||(o.__agComponentMetaData={}),o.__agComponentMetaData[t]||(o.__agComponentMetaData[t]={}),o.__agComponentMetaData[t]}(o,Wt(o.constructor));i[t]||(i[t]=[]),i[t].push(e)}(e,"querySelectors",{attributeName:i,querySelector:o,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var yd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Da=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Cd=function(o){function t(){return o.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return yd(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(i+" "+r("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var i=this;e?this.params.parentFilterInstance(function(r){if(r.getModelAsString){var n=r.getModelAsString(e);i.eFloatingFilterText.setValue(n)}}):this.eFloatingFilterText.setValue("")},Da([H("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Da([h("columnModel")],t.prototype,"columnModel",void 0),t}(oe),Pa=function(){function o(t,e,i,r){var n=this;this.alive=!0,this.context=t,this.eParent=r,e.getDateCompDetails(i).newAgStackInstance().then(function(l){n.alive?(n.dateComp=l,l&&(r.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),n.tempValue&&l.setDate(n.tempValue),null!=n.disabled&&n.setDateCompDisabled(n.disabled))):t.destroyBean(l)})}return o.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},o.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},o.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},o.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},o.prototype.setDisplayed=function(t){le(this.eParent,t)},o.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},o.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},o.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},o.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},o}(),Do=function(){return Do=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Do.apply(this,arguments)},ba=function(){function o(){this.customFilterOptions={}}return o.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},o.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},o.prototype.getFilterOptions=function(){return this.filterOptions},o.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(a){return!!a.some(function(l){return null!=e[l]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+a+"'"),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(a){return a===e})||[]);var n=e.test,s=Do({},e);null!=n&&null==e.predicate&&(s.predicate=function(a,l){return n(a[0],l)},delete s.test),s.hideFilterInput&&null==s.numberOfInputs&&(s.numberOfInputs=0,delete s.hideFilterInput),t.customFilterOptions[e.displayKey]=s}})},o.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},o.prototype.getDefaultOption=function(){return this.defaultOption},o.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},o}(),Aa={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},md=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Po=function(){return Po=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Po.apply(this,arguments)},Fa=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Qt=function(o){function t(e,i){void 0===i&&(i={});var r=o.call(this)||this;return r.eFocusableElement=e,r.callbacks=i,r.callbacks=Po({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(n){if(!n.defaultPrevented){var s=r.focusService.findNextFocusableElement(r.eFocusableElement,!1,n.shiftKey);s&&(s.focus(),n.preventDefault())}}},i),r}return md(t,o),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var i=this;this.addManagedListener(e,"keydown",function(r){if(!r.defaultPrevented&&!St(r)){if(i.callbacks.shouldStopEventPropagation(r))return void yi(r);r.key===F.TAB?i.callbacks.onTabKeyDown(r):i.callbacks.handleKeyDown&&i.callbacks.handleKeyDown(r)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",Fa([h("focusService")],t.prototype,"focusService",void 0),Fa([G],t.prototype,"postConstruct",null),t}(I),wd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),La=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},xa="ag-resizer-wrapper",Sd='<div class="'+xa+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',Ma=function(o){function t(e,i){var r=o.call(this)||this;return r.element=e,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},i),r}return wd(t,o),t.prototype.center=function(){var e=this.offsetParent,i=e.clientHeight,n=e.clientWidth/2-this.getWidth()/2,s=i/2-this.getHeight()/2;this.offsetElement(n,s)},t.prototype.initialisePosition=function(){var e=this.config,i=e.centered,r=e.forcePopupParentAsOffsetParent,n=e.minWidth,s=e.width,a=e.minHeight,l=e.height,u=e.x,d=e.y;this.offsetParent||this.setOffsetParent();var c=0,p=0,y=!!this.element.offsetParent;if(y){var S=this.findBoundaryElement(),_=window.getComputedStyle(S);if(null!=_.minWidth){var E=S.offsetWidth-this.element.offsetWidth;p=parseInt(_.minWidth,10)-E}if(null!=_.minHeight){var O=S.offsetHeight-this.element.offsetHeight;c=parseInt(_.minHeight,10)-O}}if(this.minHeight=a||c,this.minWidth=n||p,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),i)this.center();else if(u||d)this.offsetElement(u,d);else if(y&&r&&this.boundaryEl){var D=parseFloat(this.boundaryEl.style.top),L=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(L)?0:L,isNaN(D)?0:D)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,i){if(this.config.popup&&e!==this.movable){this.movable=e;var r=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var i=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(r){var s=!!e[r],a=i.getResizerElement(r),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return i.onResizeStart(u,r)},onDragging:i.onResize.bind(i),onDragStop:function(u){return i.onResizeEnd(u,r)}};(s||!i.isAlive()&&!s)&&(s?(i.dragService.addDragSource(l),i.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",i.resizable[r]=s)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,i=e.height,r=e.width;-1!==r&&(this.element.style.width=r+"px"),-1!==i&&(this.element.style.height=i+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var i=this.config,r=i.popup,n=i.forcePopupParentAsOffsetParent,s=this.element,a=!1;if("string"==typeof e&&-1!==e.indexOf("%"))oi(s,e),e=po(s),a=!0;else if(this.positioned){var l=this.element.getBoundingClientRect(),u=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var d=this.offsetParent.clientHeight;if(d){var c=r?this.position.y:l.top,p=r?0:u.top,y=0;n&&this.boundaryEl&&(y=this.boundaryEl.getBoundingClientRect().bottom-l.bottom);var _=d+p-c-y;e>_&&(e=_)}}this.getHeight()!==e&&(a?(s.style.maxHeight="unset",s.style.minHeight="unset"):r?oi(s,e):(s.style.height=e+"px",s.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var i=this.element,r=this.config.popup,n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ht(i,e),e=Nr(i),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var s=this.offsetParent.clientWidth,a=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+a>s&&(e=s-a)}this.getWidth()!==e&&(n?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?ht(i,e):(i.style.width=e+"px",i.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:i}}}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top))},t.prototype.setPosition=function(e,i){this.position.x=e,this.position.y=i},t.prototype.updateDragStartPosition=function(e,i){this.dragStartPosition={x:e,y:i}},t.prototype.calculateMouseMovement=function(e){var i=e.e,n=e.isTop,a=e.topBuffer,l=i.clientX-this.dragStartPosition.x,u=i.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(i,!!e.isLeft,!!e.anywhereWithin,l)?0:l,movementY:this.shouldSkipY(i,!!n,a,u)?0:u}},t.prototype.shouldSkipX=function(e,i,r,n){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,d=u<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=l.right;return!!d||(i?n<0&&e.clientX>u+a.left||n>0&&e.clientX<u+a.left:r?n<0&&e.clientX>l.right||n>0&&e.clientX<u+a.left:n<0&&e.clientX>l.right||n>0&&e.clientX<l.right)},t.prototype.shouldSkipY=function(e,i,r,n){void 0===r&&(r=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,d=u<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=l.bottom;return!!d||(i?n<0&&e.clientY>u+a.top+r||n>0&&e.clientY<u+a.top:n<0&&e.clientY>l.bottom||n>0&&e.clientY<l.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var r=(new DOMParser).parseFromString(Sd,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+xa);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");var r=this.config;!r.popup&&!r.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(function(r){return!r.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],i=0,r=0,n=0;n<e.length;n++){var s=e[n];if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s.style.flex&&"0 0 auto"!==s.style.flex){var d=window.getComputedStyle(s);d.minHeight&&(l=parseInt(d.minHeight,10)),d.minWidth&&(u=parseInt(d.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;i+=l,r+=u}}return{height:i,width:r}},t.prototype.applySizeToSiblings=function(e){var i=null,r=this.getSiblings();if(r){for(var n=0;n<r.length;n++){var s=r[n];s!==i&&(e?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(i=r[n+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var i=this.config,r=i.popup,n=i.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,d=s.isLeft,c=s.isRight||d,p=s.isBottom||a,y=this.calculateMouseMovement({e,isLeft:d,isTop:a}),S=y.movementX,_=y.movementY,E=this.position.x,O=this.position.y,D=0,L=0;if(c&&S){var N=d?-1:1,j=this.getWidth(),X=j+S*N,Z=!1;d&&(E+(D=j-X)<=0||X<=this.minWidth)&&(Z=!0,D=0),Z||this.setWidth(X)}if(p&&_){N=a?-1:1;var z=this.getHeight(),$=z+_*N,re=!1;a?(O+(L=z-$)<=0||$<=this.minHeight)&&(re=!0,L=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&z<$&&this.getMinSizeOfSiblings().height+$>this.element.parentElement.offsetHeight&&(re=!0),re||this.setHeight($)}this.updateDragStartPosition(e.clientX,e.clientY),((r||n)&&D||L)&&this.offsetElement(E+D,O+L)}},t.prototype.onResizeEnd=function(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent(r)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var s,i=this.position,r=i.x,n=i.y;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(r+a.movementX,n+a.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},La([h("popupService")],t.prototype,"popupService",void 0),La([h("dragService")],t.prototype,"dragService",void 0),t}(I),_d=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bo=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Vr=function(o){function t(e){var i=o.call(this)||this;return i.filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.debouncePending=!1,i.appliedModel=null,i}return _d(t,o),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Qt(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Ma(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);var r='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(r,e),(i=this.getGui())&&i.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var i=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,i=this.providedFilterParams.buttons;if(!(!i||i.length<1||this.isReadOnly())){var r=document.createElement("div");r.classList.add("ag-filter-apply-panel"),_o(i).forEach(function(s){return function(s){var a,l;switch(s){case"apply":a=e.translate("applyFilter"),l=function(c){return e.onBtApply(!1,!1,c)};break;case"clear":a=e.translate("clearFilter"),l=function(){return e.onBtClear()};break;case"reset":a=e.translate("resetFilter"),l=function(){return e.onBtReset()};break;case"cancel":a=e.translate("cancelFilter"),l=function(c){e.onBtCancel(c)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var d=He('<button\n                    type="'+("apply"===s?"submit":"button")+'"\n                    ref="'+s+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+a+"\n                </button>");r.appendChild(d),e.addManagedListener(d,"click",l)}(s)}),this.getGui().appendChild(r)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,i=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=Qe(this.checkApplyDebounce.bind(this),i);this.onBtApplyDebounce=function(){e.debouncePending=!0,r()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var i=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){i.updateUiVisibility(),i.applyModel("api")})},t.prototype.onBtCancel=function(e){var i=this;this.resetUiToActiveModel(this.getModel(),function(){i.providedFilterParams.closeOnApply&&i.close(e)})},t.prototype.resetUiToActiveModel=function(e,i){var r=this,n=function(){r.onUiChanged(!1,"prevent"),i?.()};null!=e?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){void 0===e&&(e="api");var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1),r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!i&&this.close(r)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var n,r=e&&e.key;("Enter"===r||"Space"===r)&&(n={keyboardEvent:e}),this.hidePopup(n),this.hidePopup=null}},t.prototype.onUiChanged=function(e,i){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi());wi(this.getRefElement("applyFilterButton"),!r)}e&&!i||"immediately"===i?this.onBtApply(e):(!this.applyActive&&!i||"debounce"===i)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){"floatingFilter"===e?.container?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(this.gridOptionsService.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),null!=e&&(this.hidePopup=e.hidePopup)},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce()},t.getDebounceMs=function(e,i){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:i},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,o.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.localeService.getLocaleTextFunc()(e,Aa[e])},t.prototype.getCellValue=function(e){var i=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:i.api,colDef:i.colDef,column:i.column,columnApi:i.columnApi,context:i.context,data:e.data,getValue:function(u){return e.data[u]},node:e})},t.prototype.getPositionableElement=function(){return this.eFilterBody},bo([h("rowModel")],t.prototype,"rowModel",void 0),bo([H("eFilterBody")],t.prototype,"eFilterBody",void 0),bo([G],t.prototype,"postConstruct",null),t}(oe),Ed=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ia=function(o){function t(e,i){var r=o.call(this,i)||this;return r.labelSeparator="",r.labelAlignment="left",r.disabled=!1,r.label="",r.config=e||{},r}return Ed(t,o),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,i=e.labelSeparator,r=e.label,n=e.labelWidth,s=e.labelAlignment;null!=i&&this.setLabelSeparator(i),null!=r&&this.setLabel(r),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){rt(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(le(this.eLabel,!1),Ie(this.eLabel,"presentation")):(le(this.eLabel,!0),Ie(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var r=this.getGui().classList;return r.toggle("ag-label-align-left","left"===e),r.toggle("ag-label-align-right","right"===e),r.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||ji(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var i=this.getGui();return wi(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(oe),Od=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_i=function(o){function t(e,i,r){var n=o.call(this,e,i)||this;return n.className=r,n}return Od(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(i.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return ht(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,i){return this.value===e||(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.EVENT_CHANGED="valueChange",t}(Ia),Td=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Br=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Dd=function(o){function t(e,i,r,n){var s=o.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(n?'role="'+n+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',i)||this;return s.pickerIcon=r,s.isPickerDisplayed=!1,s.isDestroyingPicker=!1,s.skipClick=!1,s}return Td(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this);var i=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",i),Js(this.eWrapper,i);var r=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},n=this.getGui();if(this.addManagedListener(n,"mousedown",function(a){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&Si(e.pickerComponent.getGui())&&n.contains(a.target)&&(e.skipClick=!0)}),this.addManagedListener(n,"keydown",function(a){switch(a.key){case F.UP:case F.DOWN:case F.ENTER:case F.SPACE:r();case F.ESCAPE:e.isPickerDisplayed&&a.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",r),this.addManagedListener(this.eLabel,"click",r),this.pickerIcon){var s=be(this.pickerIcon,this.gridOptionsService);s&&this.eIcon.appendChild(s)}},t.prototype.refreshLabel=function(){x(this.getLabel())?Un(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),o.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return ii(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return ji(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},Br([H("eLabel")],t.prototype,"eLabel",void 0),Br([H("eWrapper")],t.prototype,"eWrapper",void 0),Br([H("eDisplayField")],t.prototype,"eDisplayField",void 0),Br([H("eIcon")],t.prototype,"eIcon",void 0),t}(_i),Pd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Na=function(o){function t(e){void 0===e&&(e="default");var i=o.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return i.cssIdentifier=e,i.options=[],i.itemEls=[],i}return Pd(t,o),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var i=e.key;switch(i){case F.ENTER:if(this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}else this.setValue(this.getValue());break;case F.DOWN:case F.UP:var n=i===F.DOWN,s=void 0;if(e.preventDefault(),this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}else s=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(s)}},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(r){return i.addOption(r)}),this},t.prototype.addOption=function(e){var i=e.value,n=Et(e.text||i);return this.options.push({value:i,text:n}),this.renderOption(i,n),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(i,r){Yn(i,r+1),Kn(i,e.length)})},t.prototype.renderOption=function(e,i){var r=this,n=document.createElement("div");Ie(n,"option"),n.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),n.innerHTML="<span>"+i+"</span>",n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",function(){return r.highlightItem(n)}),this.addManagedListener(n,"mouseleave",function(){return r.clearHighlighted()}),this.addManagedListener(n,"click",function(){return r.setValue(e)}),this.getGui().appendChild(n)},t.prototype.setValue=function(e,i){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var r=this.options.findIndex(function(s){return s.value===e});if(-1!==r){var n=this.options[r];this.value=n.value,this.displayValue=null!=n.text?n.text:n.value,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var i=this.options.findIndex(function(r){return r.value===e.value});-1!==i&&this.highlightItem(this.itemEls[i])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Ci(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Ci(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:_i.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"init",null),t}(oe),Ad=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ga=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Wr=function(o){function t(e){return o.call(this,e,"ag-select","smallDown","listbox")||this}return Ad(t,o),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new Na("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Na.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,_i.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,i=this.listComponent.getGui(),r=this.gridOptionsService.getDocument(),n=this.addManagedListener(r.body,"wheel",function(u){!i.contains(u.target)&&e.hideList&&e.hideList()}),s=this.addManagedListener(i,"focusout",function(u){!i.contains(u.relatedTarget)&&e.hideList&&e.hideList()}),a=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,s(),n(),e.isAlive()&&(mt(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:a("ariaLabelSelectField","Select Field")});return l&&(this.hideList=l.hideFunc),this.isPickerDisplayed=!0,ji(i,Nr(this.eWrapper)),mt(this.eWrapper,!0),i.style.maxHeight=Vi(this.popupService.getPopupParent())+"px",i.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:i,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(r){return i.addOption(r)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,i,r){return this.value===e?this:(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),o.prototype.setValue.call(this,e,i)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),o.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",Ga([h("popupService")],t.prototype,"popupService",void 0),Ga([G],t.prototype,"init",null),t}(Dd),Fd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ao=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Gt=function(o){function t(e,i,r,n){void 0===r&&(r="text"),void 0===n&&(n="input");var s=o.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+n+' ref="eInput" class="ag-input-field-input"></'+n+">\n                </div>\n            </div>",i)||this;return s.inputType=r,s.displayFieldTag=n,s}return Fd(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,i=e.width,r=e.value;null!=i&&this.setWidth(i),null!=r&&this.setValue(r),this.addInputListeners()},t.prototype.refreshLabel=function(){x(this.getLabel())?Un(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),o.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){return e.setValue(i.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return ji(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Ui(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return ii(this.eInput,e),this},t.prototype.setDisabled=function(e){return wi(this.eInput,e),o.prototype.setDisabled.call(this,e)},Ao([H("eLabel")],t.prototype,"eLabel",void 0),Ao([H("eWrapper")],t.prototype,"eWrapper",void 0),Ao([H("eInput")],t.prototype,"eInput",void 0),t}(_i),Ld=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yi=function(o){function t(e,i,r){void 0===i&&(i="ag-checkbox"),void 0===r&&(r="checkbox");var n=o.call(this,e,i,r)||this;return n.labelAlignment="right",n.selected=!1,n.readOnly=!1,n.passive=!1,n}return Ld(t,o),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),o.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,i||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,i,r){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:i,event:r});var n=this.getInputElement();this.eventService.dispatchEvent({type:g.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:i})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var i=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,i,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Gt),xd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ha=function(o){function t(e){return o.call(this,e,"ag-radio-button","radio")||this}return xd(t,o),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){o.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,g.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Yi),Md=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Id=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Fo=function(){function o(t,e){this.localeService=t,this.optionsFactory=e}return o.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var i=null!=t.operator,r=this.localeService.getLocaleTextFunc();if(i){var n=t,s=n.conditions;s||(s=[n.condition1,n.condition2]);var u=s.map(function(O){return e.getModelAsString(O)}),d="AND"===n.operator?"andCondition":"orCondition";return u.join(" "+r(d,Aa[d])+" ")}if(t.type===Re.BLANK||t.type===Re.NOT_BLANK)return r(t.type,t.type);var c=t,p=this.optionsFactory.getCustomOption(c.type),y=p||{},S=y.displayKey,_=y.displayName;return S&&_&&0===y.numberOfInputs?(r(S,_),_):this.conditionToString(c,p)},o}(),Re=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return Md(t,o),t.prototype.getNumberOfInputs=function(e){var i=this.optionsFactory.getCustomOption(e);return i?i.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var i=this;this.eTypes.forEach(function(r,n){r.setValue(0===n?e:i.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,i){var r=this;if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;var n=!e.operator,s=!i.operator;return!(!n&&s||n&&!s)&&(n?this.areSimpleModelsEqual(e,i):e.operator===i.operator&&zt(e.conditions,i.conditions,function(y,S){return r.areSimpleModelsEqual(y,S)}))},t.prototype.setModelIntoUi=function(e){var i=this;if(e.operator){var n=e;n.conditions||(n.conditions=[n.condition1,n.condition2]);var s=this.validateAndUpdateConditions(n.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u="OR"===n.operator;this.eJoinOperatorsAnd.forEach(function(c){return c.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(c){return c.setValue(u,!0)}),n.conditions.forEach(function(c,p){i.eTypes[p].setValue(c.type,!0),i.setConditionIntoUi(c,p)})}else{var d=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(d.type,!0),this.setConditionIntoUi(d,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),nt.resolve()},t.prototype.validateAndUpdateConditions=function(e){var i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),te(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),i=this.maxNumConditions),i},t.prototype.doesFilterPass=function(e){var r,i=this,n=this.getModel();if(null==n)return!0;var s=n.operator,a=[];return s?a.push.apply(a,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Id(arguments[t]));return o}(null!==(r=n.conditions)&&void 0!==r?r:[])):a.push(n),a[s&&"OR"===s?"some":"every"](function(d){return i.individualConditionPasses(e,d)})},t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new ba,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createOption(),this.createMissingConditionsAndOperators()},t.prototype.setNumConditions=function(e){var i,r;null!=e.suppressAndOrCondition&&te(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),null!=e.alwaysShowBothConditions&&te(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(i=e.maxNumConditions)&&void 0!==i?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(te(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(r=e.numAlwaysVisibleConditions)&&void 0!==r?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(te(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(te(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,i=this.createManagedBean(new Wr);this.eTypes.push(i),i.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(i.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(i),this.resetType(i);var n=this.getNumConditions()-1;this.forEachPositionInput(n,function(s){return e.resetInput(s)}),this.addChangedListeners(i,n)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,i,r){var n=this.createManagedBean(new Ha);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass("ag-filter-condition-operator-"+r),i.appendChild(n.getGui()),n},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.putOptionsIntoDropdown=function(e){var i=this,r=this.optionsFactory.getFilterOptions();r.forEach(function(n){var s="string"==typeof n?i.createBoilerplateListOption(n):i.createCustomListOption(n);e.addOption(s)}),e.setDisabled(r.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var i=e.displayKey,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,i=-1,r=!0,n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?i=n:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var s=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(i<s){this.removeConditionsAndOperators(s+1);var a=i+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i},t.prototype.updateConditionStatusesAndValues=function(e,i){var r=this;this.eTypes.forEach(function(s,a){var l=r.isConditionDisabled(a,e);(1===a?[s,r.eJoinOperatorPanels[0],r.eJoinOperatorsAnd[0],r.eJoinOperatorsOr[0]]:[s]).forEach(function(d){d instanceof Gt||d instanceof Wr?d.setDisabled(l):wi(d,l)})}),this.eConditionBodies.forEach(function(s,a){le(s,r.isConditionBodyVisible(a))});var n="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(n,!0)}),this.forEachInput(function(s,a,l,u){r.setElementDisplayed(s,a<u),r.setElementDisabled(s,r.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,i){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);var r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}},t.prototype.removeElements=function(e,i,r){this.removeItems(e,i,r).forEach(function(s){return It(s)})},t.prototype.removeComponents=function(e,i,r){var n=this;this.removeItems(e,i,r).forEach(function(a){It(a.getGui()),n.destroyBean(a)})},t.prototype.removeItems=function(e,i,r){return null==r?e.splice(i):e.splice(i,r)},t.prototype.afterGuiAttached=function(e){if(o.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var i=this.getInputs(0)[0];if(!i)return;i instanceof Gt&&i.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){o.prototype.afterGuiDetached.call(this);var e=this.getModel();this.areModelsEqual(e,this.getModelFromUi())||this.resetUiToActiveModel(e);for(var i=-1,r=-1,n=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))-1===i&&(i=a,r=a);else{var u=a<i;(a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1)||u)&&(this.removeConditionsAndOperators(a,1),n=!0,u&&r--)}var d=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),d=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),d=!0),d&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r},t.prototype.getPlaceholderText=function(e,i){var r=this.translate(e);if(At(this.filterPlaceholder)){var n=this.filterPlaceholder,s=this.eTypes[i].getValue();r=n({filterOptionKey:s,filterOption:this.translate(s),placeholder:r})}else"string"==typeof this.filterPlaceholder&&(r=this.filterPlaceholder);return r},t.prototype.resetPlaceholder=function(){var e=this,i=this.localeService.getLocaleTextFunc();this.forEachInput(function(r,n,s,a){if(r instanceof Gt){var l=0===n&&a>1?"inRangeStart":0===n?"filterOoo":"inRangeEnd",u=0===n&&a>1?i("ariaFilterFromValue","Filter from value"):0===n?i("ariaFilterValue","Filter Value"):i("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(e.getPlaceholderText(l,s)),r.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,i){e instanceof Gt&&e.setValue(null!=i?String(i):null,!0)},t.prototype.setElementDisplayed=function(e,i){e instanceof oe&&le(e.getGui(),i)},t.prototype.setElementDisabled=function(e,i){e instanceof oe&&wi(e.getGui(),i)},t.prototype.attachElementOnChange=function(e,i){e instanceof Gt&&e.onValueChange(i)},t.prototype.forEachInput=function(e){var i=this;this.getConditionTypes().forEach(function(r,n){i.forEachPositionTypeInput(n,r,e)})},t.prototype.forEachPositionInput=function(e,i){var r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,i)},t.prototype.forEachPositionTypeInput=function(e,i,r){for(var n=this.getNumberOfInputs(i),s=this.getInputs(e),a=0;a<s.length;a++){var l=s[a];null!=l&&r(l,a,e,n)}},t.prototype.isConditionDisabled=function(e,i){return!!this.isReadOnly()||0!==e&&e>i+1},t.prototype.isConditionBodyVisible=function(e){var i=this.getConditionType(e);return this.getNumberOfInputs(i)>0},t.prototype.isConditionUiComplete=function(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===t.EMPTY||this.getValues(e).some(function(r){return null==r}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var i=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(r){return i.resetType(r)}),this.eJoinOperatorsAnd.forEach(function(r,n){return i.resetJoinOperatorAnd(r,n,i.joinOperatorId+n)}),this.eJoinOperatorsOr.forEach(function(r,n){return i.resetJoinOperatorOr(r,n,i.joinOperatorId+n)}),this.joinOperatorId++,this.forEachInput(function(r){return i.resetInput(r)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),nt.resolve()},t.prototype.resetType=function(e){var r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly())},t.prototype.resetJoinOperatorAnd=function(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},t.prototype.resetJoinOperatorOr=function(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},t.prototype.resetJoinOperator=function(e,i,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+s).setLabel(n),i)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(i,r){return e.updateJoinOperatorDisabled(i,r)}),this.eJoinOperatorsOr.forEach(function(i,r){return e.updateJoinOperatorDisabled(i,r)})},t.prototype.updateJoinOperatorDisabled=function(e,i){e.setDisabled(this.isReadOnly()||i>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,i){var r=this,n=this.mapValuesFromModel(e);this.forEachInput(function(s,a,l,u){l===i&&r.setElementValue(s,null!=n[a]?n[a]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var i=this;this.forEachInput(function(r,n,s,a){i.setElementValue(r,0===n&&0===s?e:null)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,i){var r=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,function(n){r.attachElementOnChange(n,r.listener)}))},t.prototype.individualConditionPasses=function(e,i){var r=this.getCellValue(e.node),n=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(s,n,r)??(null==r?this.evaluateNullValue(i.type):this.evaluateNonNullValue(n,r,i,e))},t.prototype.evaluateCustomFilter=function(e,i,r){if(null!=e){var n=e.predicate;if(null!=n&&!i.some(function(s){return null==s}))return n(i,r)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Vr),Gd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ne=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Gd(t,o),t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,i,r){var n=this.comparator(),s=null!=e[0]?n(e[0],i):0;switch(r.type){case t.EQUALS:return 0===s;case t.NOT_EQUAL:return 0!==s;case t.GREATER_THAN:return s>0;case t.GREATER_THAN_OR_EQUAL:return s>=0;case t.LESS_THAN:return s<0;case t.LESS_THAN_OR_EQUAL:return s<=0;case t.IN_RANGE:var a=n(e[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0;case t.BLANK:return this.isBlank(i);case t.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Re),Va=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lo=function(){return Lo=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Lo.apply(this,arguments)},ja=function(o){function t(e,i,r){var n=o.call(this,i,r)||this;return n.dateFilterParams=e,n}return Va(t,o),t.prototype.conditionToString=function(e,i){var r=e.type,s=r==Re.IN_RANGE||2===(i||{}).numberOfInputs,a=Yt(e.dateFrom),l=Yt(e.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;return s?(null!==a?xr(a,u):"null")+"-"+(null!==l?xr(l,u):"null"):null!=a?xr(a,u):""+r},t}(Fo),ka=function(o){function t(){var e=o.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=1/0,e}return Va(t,o),t.prototype.afterGuiAttached=function(e){o.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var i=e||{},r=i.dateFrom,n=i.dateTo,s=i.type;return[r&&Yt(r)||null,n&&Yt(n)||null].slice(0,this.getNumberOfInputs(s))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,i){return null==i||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,o.prototype.setParams.call(this,e);var i=function(r,n){if(null!=e[r]){if(!isNaN(e[r]))return null==e[r]?n:Number(e[r]);console.warn("AG Grid: DateFilter "+r+" is not a number")}return n};this.minValidYear=i("minValidYear",1e3),this.maxValidYear=i("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new ja(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var i=this,r=new Pa(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return r.destroy()}),r},t.prototype.setElementValue=function(e,i){e.setDate(i)},t.prototype.setElementDisplayed=function(e,i){e.setDisplayed(i)},t.prototype.setElementDisabled=function(e,i){e.setDisabled(i)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,i,r,n){var s=document.createElement("div");s.classList.add("ag-filter-"+n),s.classList.add("ag-filter-date-"+n),i.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))},t.prototype.removeValueElements=function(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)},t.prototype.removeDateComps=function(e,i,r){this.removeItems(e,i,r).forEach(function(s){return s.destroy()})},t.prototype.isConditionUiComplete=function(e){var i=this;if(!o.prototype.isConditionUiComplete.call(this,e))return!1;var n=!0;return this.forEachInput(function(s,a,l,u){l!==e||!n||a>=u||(n=n&&function(s){return null!=s&&s.getUTCFullYear()>=i.minValidYear&&s.getUTCFullYear()<=i.maxValidYear}(s.getDate()))}),n},t.prototype.areSimpleModelsEqual=function(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var i=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Hi(n[0])),n.length>1&&(r.dateTo=Hi(n[1])),Lo({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(function(n){n.setInputPlaceholder(i),n.setInputAriaLabel(r)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var i=[];return this.forEachPositionInput(e,function(r,n,s,a){n<a&&i.push(r.getDate())}),i},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[Ne.EQUALS,Ne.GREATER_THAN,Ne.LESS_THAN,Ne.NOT_EQUAL,Ne.IN_RANGE,Ne.BLANK,Ne.NOT_BLANK],function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Ne),Vd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ua=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Vd(t,o),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.conditions[0]:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new ba,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.lastType);this.setEditable(i)},t.prototype.doesFilterHaveSingleInput=function(e){var r=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==r||1==r},t.prototype.isTypeEditable=function(e){var i=[Re.IN_RANGE,Re.EMPTY,Re.BLANK,Re.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0},t}(oe),Bd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xo=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Wd=function(o){function t(){return o.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Bd(t,o),t.prototype.getDefaultFilterOptions=function(){return ka.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){o.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();var i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new ja(this.filterParams,this.localeService,this.optionsFactory)},t.prototype.setEditable=function(e){le(this.eDateWrapper,e),le(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,i){if(!this.isEventFromFloatingFilter(i)&&!this.isEventFromDataChange(i)){o.prototype.setLastTypeFromModel.call(this,e);var r=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(r),r?(this.dateComp.setDate(e?Yt(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,r=Hi(this.dateComp.getDate());this.params.parentFilterInstance(function(n){if(n){var s=Yt(r);n.onFloatingFilterChanged(e.getLastType()||null,s)}})},t.prototype.createDateComponent=function(){var e=this,i=Vr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r={onDateChanged:Qe(this.onDateChanged.bind(this),i),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Pa(this.getContext(),this.userComponentFactory,r,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},xo([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),xo([H("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),xo([H("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(Ua),jd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ud=function(o){function t(){return o.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return jd(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this,r=this.gridOptionsService.getDocument(),n=this.eDateInput.getInputElement(),s=this.shouldUseBrowserDatePicker(e);s&&(n.type="date");var a=s&&Rt();this.addManagedListener(n,"mousedown",function(){i.eDateInput.isDisabled()||a||n.focus()}),this.addManagedListener(n,"input",function(c){c.target===r.activeElement&&(i.eDateInput.isDisabled()||e.onDateChanged())});var l=e.filterParams||{},u=l.minValidYear,d=l.maxValidYear;u&&(n.min=u+"-01-01"),d&&(n.max=d+"-12-31")},t.prototype.getDate=function(){return Yt(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Hi(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Ni()||no()||Rt()&&ro()>=14.1},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([H("eDateInput")],t.prototype,"eDateInput",void 0),t}(oe),zd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ei=function(o){function t(e,i,r){return void 0===i&&(i="ag-text-field"),void 0===r&&(r="text"),o.call(this,e,i,r)||this}return zd(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,i){var r=o.prototype.setValue.call(this,e,i);return this.eInput.value!==e&&(this.eInput.value=x(e)?e:""),r},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(r){r.ctrlKey||r.metaKey||r.key&&!e.test(r.key)&&r.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(r){var n,s=null===(n=r.clipboardData)||void 0===n?void 0:n.getData("text");s&&s.split("").some(function(a){return!e.test(a)})&&r.preventDefault()})},t}(Gt),Kd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mo=function(o){function t(e){return o.call(this,e,"ag-number-field","number")||this}return Kd(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var i=parseFloat(e.eInput.value),r=isNaN(i)?"":e.normalizeValue(i.toString());e.value!==r&&e.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var i=parseFloat(e);return null!=this.min&&i<this.min?e=this.min.toString():null!=this.max&&i>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var i=parseFloat(e).toFixed(this.precision);e=parseFloat(i).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Ui(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Ui(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Ui(this.eInput,"step",e)),this},t.prototype.setValue=function(e,i){return null!=e&&(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:o.prototype.setValue.call(this,e,i)},t}(Ei),za=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ka=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return za(t,o),t.prototype.conditionToString=function(e,i){return e.type==Re.IN_RANGE||2===(i||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(Fo);function Ya(o){return(o??{}).allowedCharPattern||(Ni()?null:"\\d\\-\\.")}var Qa=function(o){function t(){var e=o.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return za(t,o),t.prototype.mapValuesFromModel=function(e){var i=e||{},n=i.filterTo,s=i.type;return[this.processValue(i.filter),this.processValue(n)].slice(0,this.getNumberOfInputs(s))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,i){return e===i?0:e<i?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,o.prototype.setParams.call(this,e),this.filterModelFormatter=new Ka(this.localeService,this.optionsFactory)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=Ya(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),Ie(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i},t.prototype.createFromToElement=function(e,i,r,n){var s=this.createManagedBean(n?new Ei({allowedCharPattern:n}):new Mo);s.addCssClass("ag-filter-"+r),s.addCssClass("ag-filter-filter"),i.push(s),e.appendChild(s.getGui())},t.prototype.removeValueElements=function(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)},t.prototype.getValues=function(e){var i=this,r=[];return this.forEachPositionInput(e,function(n,s,a,l){s<l&&r.push(i.processValue(i.stringToFloat(n.getValue())))}),r},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var i=Ge(e);return null!=i&&""===i.trim()&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):null==i||"-"===i.trim()?null:parseFloat(i)},t.prototype.createCondition=function(e){var i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[Ne.EQUALS,Ne.NOT_EQUAL,Ne.LESS_THAN,Ne.LESS_THAN_OR_EQUAL,Ne.GREATER_THAN,Ne.GREATER_THAN_OR_EQUAL,Ne.IN_RANGE,Ne.BLANK,Ne.NOT_BLANK],t}(Ne),qa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jr=function(){return jr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},jr.apply(this,arguments)},Xa=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return qa(t,o),t.prototype.conditionToString=function(e,i){return e.type==Re.IN_RANGE||2===(i||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(Fo),Io=function(o){function t(){var e=o.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return qa(t,o),t.trimInput=function(e){var i=e&&e.trim();return""===i?e:i},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,o.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Xa(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(Nt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(i){return e(i.filterOption,i.value,i.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){var i=this,r=[];return this.forEachPositionInput(e,function(n,s,a,l){if(s<l){var u=Ge(n.getValue()),d=(i.textFilterParams.trimInput?t.trimInput(u):u)||null;r.push(d),n.setValue(d,!0)}}),r},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),Ie(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,i,r){var n=this.createManagedBean(new Ei);n.addCssClass("ag-filter-"+r),n.addCssClass("ag-filter-filter"),i.push(n),e.appendChild(n.getGui())},t.prototype.removeValueElements=function(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)},t.prototype.mapValuesFromModel=function(e){var i=e||{};return[i.filter||null,i.filterTo||null].slice(0,this.getNumberOfInputs(i.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[Re.NOT_EQUAL,Re.NOT_CONTAINS,Re.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,i,r,n){var s=this,a=e.map(function(O){return s.formatter(O)})||[],l=this.formatter(i),u=this.textFilterParams,d=u.api,c=u.colDef,p=u.column,y=u.columnApi,S=u.context,_=u.textFormatter;if(r.type===Re.BLANK)return this.isBlank(i);if(r.type===Re.NOT_BLANK)return!this.isBlank(i);var E={api:d,colDef:c,column:p,columnApi:y,context:S,node:n.node,data:n.data,filterOption:r.type,value:l,textFormatter:_};return a.some(function(O){return s.matcher(jr(jr({},E),{filterText:O}))})},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[Re.CONTAINS,Re.NOT_CONTAINS,Re.EQUALS,Re.NOT_EQUAL,Re.STARTS_WITH,Re.ENDS_WITH,Re.BLANK,Re.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.value,n=e.filterText;if(null==n)return!1;switch(e.filterOption){case t.CONTAINS:return r.indexOf(n)>=0;case t.NOT_CONTAINS:return r.indexOf(n)<0;case t.EQUALS:return r===n;case t.NOT_EQUAL:return r!=n;case t.STARTS_WITH:return 0===r.indexOf(n);case t.ENDS_WITH:var s=r.lastIndexOf(n);return s>=0&&s===r.length-n.length;default:return!1}},t}(Re),Za=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),No=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ja=function(o){function t(e){var i=o.call(this)||this;return i.params=e,i}return Za(t,o),t.prototype.setupGui=function(e){this.eFloatingFilterTextInput=this.createManagedBean(new Ei(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterTextInput.getGui())},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,i){this.eFloatingFilterTextInput.setValue(e,i)},t.prototype.addValueChangedListener=function(e){var i=this.eFloatingFilterTextInput.getGui();this.addManagedListener(i,"input",e),this.addManagedListener(i,"keypress",e),this.addManagedListener(i,"keydown",e)},t}(I),$a=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Za(t,o),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input");if(this.floatingFilterInputService=this.createFloatingFilterInputService(n),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),o.prototype.init.call(this,e),this.applyActive=Vr.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var s=Vr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=Qe(this.syncUpWithParentFilter.bind(this),s);this.floatingFilterInputService.addValueChangedListener(a)}},t.prototype.syncUpWithParentFilter=function(e){var i=this;if(!this.applyActive||e.key===F.ENTER){var n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=Io.trimInput(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(i.getLastType()||null,n||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},No([h("columnModel")],t.prototype,"columnModel",void 0),No([H("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),No([G],t.prototype,"postConstruct",null),t}(Ua),el=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yd=function(o){function t(e){var i=o.call(this)||this;return i.params=e,i.numberInputActive=!0,i}return el(t,o),t.prototype.setupGui=function(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Mo),this.eFloatingFilterTextInput=this.createManagedBean(new Ei),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterNumberInput.getGui()),e.appendChild(this.eFloatingFilterTextInput.getGui())},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,i){this.getActiveInputElement().setValue(e,i)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.addValueChangedListener=function(e){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),e),this.setupListeners(this.eFloatingFilterTextInput.getGui(),e)},t.prototype.setupListeners=function(e,i){this.addManagedListener(e,"input",i),this.addManagedListener(e,"keypress",i),this.addManagedListener(e,"keydown",i)},t}(I),Qd=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return el(t,o),t.prototype.init=function(e){o.prototype.init.call(this,e),this.filterModelFormatter=new Ka(this.localeService,this.optionsFactory)},t.prototype.getDefaultFilterOptions=function(){return Qa.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){var i=Ya(this.params.filterParams);return this.createManagedBean(i?new Ja({config:{allowedCharPattern:i},ariaLabel:e}):new Yd({ariaLabel:e}))},t}($a),qd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xd=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return qd(t,o),t.prototype.init=function(e){o.prototype.init.call(this,e),this.filterModelFormatter=new Xa(this.localeService,this.optionsFactory)},t.prototype.getDefaultFilterOptions=function(){return Io.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.createManagedBean(new Ja({ariaLabel:e}))},t}($a),ot=function(){function o(t,e){var i=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Ut,this.eElement=t,this.preventMouseClick=e;var r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){i.eElement.removeEventListener("touchstart",r,{passive:!0}),i.eElement.removeEventListener("touchmove",n,{passive:!0}),i.eElement.removeEventListener("touchend",s,{passive:!1})})}return o.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},o.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},o.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===i&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:o.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},o.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!So(e,this.touchStart,4)&&(this.moved=!0)}},o.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:o.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},o.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>o.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:o.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},o.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},o.EVENT_TAP="tap",o.EVENT_DOUBLE_TAP="doubleTap",o.EVENT_LONG_TAP="longTap",o.DOUBLE_TAP_MILLIS=500,o}(),Zd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),si=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Go=function(o){function t(e){var i=o.call(this)||this;return e||i.setTemplate(t.TEMPLATE),i}return Zd(t,o),t.prototype.attachCustomElements=function(e,i,r,n,s){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s},t.prototype.setupSort=function(e,i){var r=this;void 0===i&&(i=!1),this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,g.EVENT_SORT_CHANGED,function(){return r.onSortChanged()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,i,r){if(null!=i){var n=be(e,this.gridOptionsService,r);n&&i.appendChild(n)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&le(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&le(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){var n=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");le(this.eSortNone,!n&&null==e,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var i=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&i&&(this.addManagedListener(this.eventService,g.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);le(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var i,e=this;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),n=null!==(i=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==i?i:-1,s=r.some(function(l){var u;return null!==(u=e.sortController.getDisplaySortIndexForColumn(l))&&void 0!==u&&u});le(this.eSortOrder,n>=0&&s,{skipAriaHidden:!0}),n>=0?this.eSortOrder.innerHTML=(n+1).toString():rt(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',si([H("eSortOrder")],t.prototype,"eSortOrder",void 0),si([H("eSortAsc")],t.prototype,"eSortAsc",void 0),si([H("eSortDesc")],t.prototype,"eSortDesc",void 0),si([H("eSortMixed")],t.prototype,"eSortMixed",void 0),si([H("eSortNone")],t.prototype,"eSortNone",void 0),si([h("columnModel")],t.prototype,"columnModel",void 0),si([h("sortController")],t.prototype,"sortController",void 0),t}(oe),Jd=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),st=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},$d=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return Jd(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=xs(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var i=Et(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,i,r){if(null!=i){var n=be(e,this.gridOptionsService,r);n&&i.appendChild(n)}},t.prototype.setupTap=function(){var e=this,i=this.gridOptionsService;if(!i.is("suppressTouch")){var r=new ot(this.getGui(),!0),n=i.is("suppressMenuHide"),s=n&&x(this.eMenu),a=s?new ot(this.eMenu,!0):r;this.params.enableMenu&&this.addManagedListener(a,ot[s?"EVENT_TAP":"EVENT_LONG_TAP"],function(c){i.api.showColumnMenuAfterMouseClick(e.params.column,c.touchStart)}),this.params.enableSorting&&this.addManagedListener(r,ot.EVENT_TAP,function(c){n&&e.eMenu.contains(c.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return r.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.is("suppressMenuHide"),i=Kt()&&e;return this.params.enableMenu&&!i},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void It(this.eMenu);var i=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",i)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Go(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var i="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,_e.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(n){var s=e.params.column.isMoving(),a=(new Date).getTime();s||a-e.lastMovingChanged<50||e.params.progressSort(i?n.ctrlKey||n.metaKey:n.shiftKey)});var r=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var n=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),s=n?.every(function(l){return e.params.column.getSort()==l.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!s)}};this.addManagedListener(this.eventService,g.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,_e.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();le(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',st([h("sortController")],t.prototype,"sortController",void 0),st([h("menuFactory")],t.prototype,"menuFactory",void 0),st([h("columnModel")],t.prototype,"columnModel",void 0),st([H("eFilter")],t.prototype,"eFilter",void 0),st([H("eSortIndicator")],t.prototype,"eSortIndicator",void 0),st([H("eMenu")],t.prototype,"eMenu",void 0),st([H("eLabel")],t.prototype,"eLabel",void 0),st([H("eText")],t.prototype,"eText",void 0),st([H("eSortOrder")],t.prototype,"eSortOrder",void 0),st([H("eSortAsc")],t.prototype,"eSortAsc",void 0),st([H("eSortDesc")],t.prototype,"eSortDesc",void 0),st([H("eSortMixed")],t.prototype,"eSortMixed",void 0),st([H("eSortNone")],t.prototype,"eSortNone",void 0),t}(oe),ec=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ho=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},tc=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return ec(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&te(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var i=function(s){if(!St(s)){var a=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,i),this.addTouchAndClickListeners(this.eOpenIcon,i);var r=function(s){yi(s)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",i),this.updateIconVisibility();var n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,De.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,De.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,i){var r=new ot(e,!0);this.addManagedListener(r,ot.EVENT_TAP,i),this.addDestroyFunc(function(){return r.destroy()}),this.addManagedListener(e,"click",i)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var i=this.params.columnGroup.isExpanded();le(this.eOpenIcon,i),le(this.eCloseIcon,!i)}else le(this.eOpenIcon,!1),le(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,i){var r=be(e,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return le(this.eOpenIcon,!1),void le(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(x(e)){var i=Et(e);this.getRefElement("agLabel").innerHTML=i}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ho([h("columnModel")],t.prototype,"columnModel",void 0),Ho([H("agOpened")],t.prototype,"eOpenIcon",void 0),Ho([H("agClosed")],t.prototype,"eCloseIcon",void 0),t}(oe),ic=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qi=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ic(t,o),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),o.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),o.prototype.destroy.call(this)},t}(oe),rc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oc=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return rc(t,o),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),x(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var i=e.key;(i===F.LEFT||i===F.UP||i===F.RIGHT||i===F.DOWN||e.shiftKey&&i===F.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([H("eTextArea")],t.prototype,"eTextArea",void 0),t}(Qi),sc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ac=function(o){function t(){var e=o.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return sc(t,o),t.prototype.init=function(e){var i=this;if(this.focusAfterAttached=e.cellStartedEdit,Q(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===F.ENTER;var r=!1;e.values.forEach(function(n){var s={value:n},a=i.valueFormatterService.formatValue(e.column,null,n);s.text=null!=a?a:n,i.eSelect.addOption(s),r=r||e.value===n}),r?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,Wr.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},tl([h("valueFormatterService")],t.prototype,"valueFormatterService",void 0),tl([H("eSelect")],t.prototype,"eSelect",void 0),t}(Qi),lc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),il=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return lc(t,o),t.prototype.init=function(e){this.params=e;var r,i=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===F.BACKSPACE||e.eventKey===F.DELETE?r="":e.charPress?r=e.charPress:(r=this.getStartValue(e),e.eventKey!==F.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.getStartValue(e)),null!=r&&i.setValue(r,!0),null!=e.maxLength&&i.setMaxLength(e.maxLength),this.addManagedListener(i.getGui(),"keydown",function(n){var s=n.key;(s===F.PAGE_UP||s===F.PAGE_DOWN)&&n.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Rt()||i.getFocusableElement().focus();var r=i.getInputElement();if(this.highlightAllOnFocus)r.select();else{var n=i.getValue(),s=x(n)&&n.length||0;s&&r.setSelectionRange(s,s)}}},t.prototype.focusIn=function(){var e=this.eInput,i=e.getFocusableElement(),r=e.getInputElement();i.focus(),r.select()},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([H("eInput")],t.prototype,"eInput",void 0),t}(Qi),dc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fc=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return dc(t,o),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,i){var r=Math.abs(i),n=e.formatValue(r),s=x(n)?n:r,a=i>=0;this.eDelta.innerHTML=a?"\u2191"+s:"\u2193"+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var i=this.refreshCount;window.setTimeout(function(){i===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),rt(this.eDelta)},t.prototype.refresh=function(e){var i=e.value;return i!==this.lastValue&&(x(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:x(e.value)?this.eValue.innerHTML=i:rt(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([h("filterManager")],t.prototype,"filterManager",void 0),t}(oe),vc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yc=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return vc(t,o),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var i=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=He('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){i===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){i===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var i=e.value;return Q(i)&&(i=""),i!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=i,x(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:x(e.value)?this.eCurrent.innerHTML=i:rt(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([h("filterManager")],t.prototype,"filterManager",void 0),t}(oe),Ri=function(){return Ri=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Ri.apply(this,arguments)},ue=function(){function o(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=o.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=t}return o.prototype.setData=function(t){this.setDataCommon(t,!1)},o.prototype.updateData=function(t){this.setDataCommon(t,!0)},o.prototype.setDataCommon=function(t,e){var i=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(t,i,e);this.dispatchLocalEvent(r)},o.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},o.prototype.createDataChangedEvent=function(t,e,i){return{type:o.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:i}},o.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},o.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},o.prototype.createDaemonNode=function(){var t=new o(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},o.prototype.setDataAndId=function(t,e){var i=x(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,i),this.checkRowSelectable();var n=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(n)},o.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},o.prototype.setRowSelectable=function(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"})}},o.prototype.setId=function(t){var e=this.beans.gridOptionsService.getRowIdFunc();if(e)if(this.data){var i=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(o.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+o.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},o.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],i=this;for(t&&(i=i.parent);i&&i.level>=0;)e.push(i.key),i=i.parent;return e.reverse(),e},o.prototype.isPixelInRange=function(t){return!(!x(this.rowTop)||!x(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},o.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_FIRST_CHILD_CHANGED)))},o.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_LAST_CHILD_CHANGED)))},o.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_CHILD_INDEX_CHANGED)))},o.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},o.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},o.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DISPLAYED_CHANGED)))},o.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DRAGGING_CHANGED)))},o.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HIGHLIGHT_CHANGED)))},o.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},o.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_MASTER_CHANGED)))},o.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_GROUP_CHANGED)))},o.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HEIGHT_CHANGED))},o.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Qe(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},o.prototype.checkAutoHeights=function(){var t=!1,e=!0,i=0,r=this.__autoHeights;if(null!=r&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(a){var l=r[a.getId()];null!=l?(e=!1,l>i&&(i=l)):t=!0}),!t&&((e||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight))){this.setRowHeight(i);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}},o.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ROW_INDEX_CHANGED)))},o.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_UI_LEVEL_CHANGED)))},o.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(g.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},o.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},o.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},o.prototype.setDataValue=function(t,e,i){var r=this.beans.columnModel.getPrimaryColumn(t),n=this.beans.valueService.getValue(r,this);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,n,e,i),!1;var s=this.beans.valueService.setValue(this,r,e,i);return this.dispatchCellChangedEvent(r,e,n),this.checkRowSelectable(),s},o.prototype.dispatchEventForSaveValueReadOnly=function(t,e,i,r){var n={type:g.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:i,value:i,source:r};this.beans.eventService.dispatchEvent(n)},o.prototype.setGroupValue=function(t,e){var i=this.beans.columnModel.getGridColumn(t);Q(this.groupData)&&(this.groupData={});var r=i.getColId(),n=this.groupData[r];n!==e&&(this.groupData[r]=e,this.dispatchCellChangedEvent(i,e,n))},o.prototype.setAggData=function(t){var e=this,i=w([this.aggData,t]),r=this.aggData;this.aggData=t,this.eventService&&i.forEach(function(n){var s=e.beans.columnModel.getGridColumn(n);e.dispatchCellChangedEvent(s,e.aggData?e.aggData[n]:void 0,r?r[n]:void 0)})},o.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var i=this.beans.gridOptionsService.isTreeData(),r=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(i?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HAS_CHILDREN_CHANGED)))},o.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},o.prototype.isEmptyRowGroupNode=function(){return this.group&&Le(this.childrenAfterGroup)},o.prototype.dispatchCellChangedEvent=function(t,e,i){this.dispatchLocalEvent({type:o.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:i})},o.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},o.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},o.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},o.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},o.prototype.calculateSelectedFromChildren=function(){var t,e=!1,i=!1,r=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var n=0;n<this.childrenAfterGroup.length;n++){var s=this.childrenAfterGroup[n],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(null===l)continue;a=l}switch(a){case!0:e=!0;break;case!1:i=!0;break;default:r=!0}}return r||e&&i?void 0:!!e||!i&&(this.selectable?this.selected:null)},o.prototype.setSelectedInitialValue=function(t){this.selected=t},o.prototype.selectThisNode=function(t,e,i){if(void 0===i&&(i="api"),!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_ROW_SELECTED));var s=Ri(Ri({},this.createGlobalRowEvent(g.EVENT_ROW_SELECTED)),{event:e||null,source:i});return this.beans.eventService.dispatchEvent(s),!0},o.prototype.setSelected=function(t,e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r="api"),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:i,rangeSelect:!1,source:r})},o.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodeSelected(Ri(Ri({},t),{node:this.footer?this.sibling:this}))},o.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},o.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},o.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new Ut),this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},o.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_ENTER))},o.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_LEAVE))},o.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,i=!0,r=!1,n=null;i&&!r;){var s=e.parent;x(s)&&e.firstChild?s.rowGroupColumn===t&&(r=!0,n=s):i=!1,e=s}return r?n:null},o.prototype.isFullWidthCell=function(){var t=this.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},o.prototype.getIsFullWidthCellFunc=function(){var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(t)return t;var e=this.beans.gridOptionsService.get("isFullWidthCell");return e?function(i){return e(i.rowNode)}:void 0},o.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},o.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new o(this.beans);Object.keys(this).forEach(function(i){e[i]=t[i]}),e.footer=!0,e.setRowTop(null),e.setRowIndex(null),e.oldRowTop=null,e.id="rowGroupFooter_"+this.id,e.sibling=this,this.sibling=e}},o.ID_PREFIX_ROW_GROUP="row-group-",o.ID_PREFIX_TOP_PINNED="t-",o.ID_PREFIX_BOTTOM_PINNED="b-",o.OBJECT_ID_SEQUENCE=0,o.EVENT_ROW_SELECTED="rowSelected",o.EVENT_DATA_CHANGED="dataChanged",o.EVENT_CELL_CHANGED="cellChanged",o.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",o.EVENT_MASTER_CHANGED="masterChanged",o.EVENT_GROUP_CHANGED="groupChanged",o.EVENT_MOUSE_ENTER="mouseEnter",o.EVENT_MOUSE_LEAVE="mouseLeave",o.EVENT_HEIGHT_CHANGED="heightChanged",o.EVENT_TOP_CHANGED="topChanged",o.EVENT_DISPLAYED_CHANGED="displayedChanged",o.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",o.EVENT_LAST_CHILD_CHANGED="lastChildChanged",o.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",o.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",o.EVENT_EXPANDED_CHANGED="expandedChanged",o.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",o.EVENT_SELECTABLE_CHANGED="selectableChanged",o.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",o.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",o.EVENT_DRAGGING_CHANGED="draggingChanged",o}(),Cc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kr=function(){return kr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},kr.apply(this,arguments)},rl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},nl=function(o){function t(){return o.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Cc(t,o),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),$s(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),i=this.rowNode.isSelected(),r=void 0===i?e("ariaIndeterminate","indeterminate"):!0===i?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(n+" ("+r+")")},t.prototype.onCheckedClicked=function(e){var i=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"checkboxSelected"})},t.prototype.onUncheckedClicked=function(e){var i=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"checkboxSelected"})},t.prototype.init=function(e){var i=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){yi(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){yi(a),i.eCheckbox.getValue()?i.onCheckedClicked(a):i.onUncheckedClicked(a||{})}),this.addManagedListener(this.rowNode,ue.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,ue.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,ue.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e,i,r,n,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if("function"==typeof a){var l=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,u=null===(i=this.column)||void 0===i?void 0:i.createColumnFunctionCallbackParams(this.rowNode);s=!!u&&a(kr(kr({},l),u))}else s=a??!1;if(null===(r=this.column)||void 0===r?void 0:r.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!s),this.setVisible(!0),void this.setDisplayed(!0);null!==(n=this.overrides)&&void 0!==n&&n.removeHidden?this.setDisplayed(s):this.setVisible(s)},t.prototype.getIsVisible=function(){var e,i;return this.overrides?this.overrides.isVisible:null===(i=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===i?void 0:i.checkboxSelection},rl([H("eCheckbox")],t.prototype,"eCheckbox",void 0),rl([G],t.prototype,"postConstruct",null),t}(oe),mc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ai=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ur=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],i=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ze=function(o){return o[o.ToolPanel=0]="ToolPanel",o[o.HeaderCell=1]="HeaderCell",o[o.RowDrag=2]="RowDrag",o[o.ChartPanel=3]="ChartPanel",o}(Ze||{}),qi=function(o){return o[o.Up=0]="Up",o[o.Down=1]="Down",o}(qi||{}),Ht=function(o){return o[o.Left=0]="Left",o[o.Right=1]="Right",o}(Ht||{}),Ve=function(o){function t(){var i=null!==o&&o.apply(this,arguments)||this;return i.dragSourceAndParamsList=[],i.dropTargets=[],i}var e;return mc(t,o),e=t,t.prototype.init=function(){this.ePinnedIcon=ft("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ft("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ft("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ft("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ft("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ft("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ft("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ft("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ft("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(i,r){void 0===r&&(r=!1);var n={eElement:i.eElement,dragStartPixels:i.dragStartPixels,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:i}),this.dragService.addDragSource(n,r)},t.prototype.removeDragSource=function(i){var r=this.dragSourceAndParamsList.find(function(n){return n.dragSource===i});r&&(this.dragService.removeDragSource(r.params),We(this.dragSourceAndParamsList,r))},t.prototype.clearDragSourceParamsList=function(){var i=this;this.dragSourceAndParamsList.forEach(function(r){return i.dragService.removeDragSource(r.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(i,r){this.dragging=!0,this.dragSource=i,this.eventLastTime=r,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(i){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var r=this.createDropTargetEvent(this.lastDropTarget,i,null,null,!1);this.lastDropTarget.onDragStop(r)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(i,r){var s,a,l,u,n=this,d=this.getHorizontalDirection(i),c=this.getVerticalDirection(i);this.eventLastTime=i,this.positionGhost(i);var p=this.dropTargets.filter(function(_){return n.isMouseOnDropTarget(i,_)}),y=this.findCurrentDropTarget(i,p);if(y!==this.lastDropTarget)this.leaveLastTargetIfExists(i,d,c,r),null!==this.lastDropTarget&&null===y&&(null===(a=(s=this.dragSource).onGridExit)||void 0===a||a.call(s,this.dragItem)),null===this.lastDropTarget&&null!==y&&(null===(u=(l=this.dragSource).onGridEnter)||void 0===u||u.call(l,this.dragItem)),this.enterDragTargetIfExists(y,i,d,c,r),this.lastDropTarget=y;else if(y&&y.onDragging){var S=this.createDropTargetEvent(y,i,d,c,r);y.onDragging(S)}},t.prototype.getAllContainersFromDropTarget=function(i){var r=i.getSecondaryContainers?i.getSecondaryContainers():null,n=[[i.getContainer()]];return r?n.concat(r):n},t.prototype.allContainersIntersect=function(i,r){var n,s;try{for(var a=Ur(r),l=a.next();!l.done;l=a.next()){var d=l.value.getBoundingClientRect();if(0===d.width||0===d.height)return!1;if(!(i.clientX>=d.left&&i.clientX<d.right&&i.clientY>=d.top&&i.clientY<d.bottom))return!1}}catch(y){n={error:y}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}return!0},t.prototype.isMouseOnDropTarget=function(i,r){var n,s,a=this.getAllContainersFromDropTarget(r),l=!1;try{for(var u=Ur(a),d=u.next();!d.done;d=u.next())if(this.allContainersIntersect(i,d.value)){l=!0;break}}catch(p){n={error:p}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}return!(r.targetContainsSource&&!r.getContainer().contains(this.dragSource.eElement))&&l&&r.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(i,r){var n,s,a,l,u=r.length;if(0===u)return null;if(1===u)return r[0];var c=this.gridOptionsService.getRootNode().elementsFromPoint(i.clientX,i.clientY);try{for(var p=Ur(c),y=p.next();!y.done;y=p.next()){var S=y.value;try{for(var _=(a=void 0,Ur(r)),E=_.next();!E.done;E=_.next()){var O=E.value;if(-1!==Is(this.getAllContainersFromDropTarget(O)).indexOf(S))return O}}catch(L){a={error:L}}finally{try{E&&!E.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}}}catch(L){n={error:L}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}return null},t.prototype.enterDragTargetIfExists=function(i,r,n,s,a){if(i){if(i.onDragEnter){var l=this.createDropTargetEvent(i,r,n,s,a);i.onDragEnter(l)}this.setGhostIcon(i.getIconName?i.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(i,r,n,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,i,r,n,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(i){this.dropTargets.push(i)},t.prototype.removeDropTarget=function(i){this.dropTargets=this.dropTargets.filter(function(r){return r.getContainer()!==i.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(i){return i.external})},t.prototype.findExternalZone=function(i){return this.dropTargets.filter(function(n){return n.external}).find(function(n){return n.getContainer()===i.getContainer()})||null},t.prototype.getHorizontalDirection=function(i){var r=this.eventLastTime&&this.eventLastTime.clientX,n=i.clientX;return r===n?null:r>n?Ht.Left:Ht.Right},t.prototype.getVerticalDirection=function(i){var r=this.eventLastTime&&this.eventLastTime.clientY,n=i.clientY;return r===n?null:r>n?qi.Up:qi.Down},t.prototype.createDropTargetEvent=function(i,r,n,s,a){var l=i.getContainer(),u=l.getBoundingClientRect(),d=this;return{event:r,x:r.clientX-u.left,y:r.clientY-u.top,vDirection:s,hDirection:n,dragSource:d.dragSource,fromNudge:a,dragItem:d.dragItem,api:d.gridApi,columnApi:d.columnApi,dropZoneTarget:l}},t.prototype.positionGhost=function(i){var r=this.eGhost;if(r){var s=r.getBoundingClientRect().height,a=da()-2,l=ca()-2,u=i.pageY-s/2,d=i.pageX-10,c=this.gridOptionsService.getDocument(),p=c.defaultView||window,y=p.pageYOffset||c.documentElement.scrollTop,S=p.pageXOffset||c.documentElement.scrollLeft;a>0&&d+r.clientWidth>a+S&&(d=a+S-r.clientWidth),d<0&&(d=0),l>0&&u+r.clientHeight>l+y&&(u=l+y-r.clientHeight),u<0&&(u=0),r.style.left=d+"px",r.style.top=u+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=He(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var i=this.environment.getTheme().theme;i&&this.eGhost.classList.add(i),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var r=this.eGhost.querySelector(".ag-dnd-ghost-label"),n=this.dragSource.dragItemName;At(n)&&(n=n()),r.innerHTML=Et(n)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{if(!a){var l=this.gridOptionsService.getRootNode();a=l.querySelector("body")||(l instanceof ShadowRoot?l:l?.documentElement)}}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(i,r){void 0===r&&(r=!1),rt(this.eGhostIcon);var n=null;switch(i||(i=this.dragSource.defaultIconName||e.ICON_NOT_ALLOWED),i){case e.ICON_PINNED:n=this.ePinnedIcon;break;case e.ICON_MOVE:n=this.eMoveIcon;break;case e.ICON_LEFT:n=this.eLeftIcon;break;case e.ICON_RIGHT:n=this.eRightIcon;break;case e.ICON_GROUP:n=this.eGroupIcon;break;case e.ICON_AGGREGATE:n=this.eAggregateIcon;break;case e.ICON_PIVOT:n=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:n=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",r),(n!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&n&&this.eGhostIcon.appendChild(n)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ai([h("dragService")],t.prototype,"dragService",void 0),ai([h("mouseEventService")],t.prototype,"mouseEventService",void 0),ai([h("columnApi")],t.prototype,"columnApi",void 0),ai([h("gridApi")],t.prototype,"gridApi",void 0),ai([G],t.prototype,"init",null),ai([qe],t.prototype,"clearDragSourceParamsList",null),e=ai([U("dragAndDropService")],t)}(I),zr=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xi=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Kr=function(o){function t(e,i,r,n,s,a){var l=o.call(this)||this;return l.cellValueFn=e,l.rowNode=i,l.column=r,l.customGui=n,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return zr(t,o),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(be("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsService.is("rowDragManaged")?new Sc(this,this.beans,this.rowNode,this.column):new wc(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,i){this.setTemplateFromElement(e),this.addDragSource(i)},t.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var i=this.beans.selectionService.getSelectedNodes();return-1!==i.indexOf(this.rowNode)?i:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsService.is("rowDragManaged");this.beans.gridOptionsService.isTreeData()&&e&&te(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var i=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var r=this.getRowDragText(this.column),n=this.localeService.getLocaleTextFunc();this.dragSource={type:Ze.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=i.getDragItem(),l=(null===(s=a.rowNodes)||void 0===s?void 0:s.length)||1;return r?r(a,l):1===l?i.cellValueFn():l+" "+n("rowDragRows","rows")},getDragItem:function(){return i.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Xi([h("beans")],t.prototype,"beans",void 0),Xi([G],t.prototype,"postConstruct",null),Xi([qe],t.prototype,"removeDragSource",null),t}(oe),ol=function(o){function t(e,i,r){var n=o.call(this)||this;return n.parent=e,n.rowNode=i,n.column=r,n}return zr(t,o),t.prototype.setDisplayedOrVisible=function(e){var i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{var r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=At(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,i),this.parent.setVisible(r,i)):(this.parent.setDisplayed(r,i),this.parent.setVisible(!0,i))}},t}(I),wc=function(o){function t(e,i,r,n){var s=o.call(this,e,r,n)||this;return s.beans=i,s}return zr(t,o),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,g.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)},Xi([G],t.prototype,"postConstruct",null),t}(ol),Sc=function(o){function t(e,i,r,n){var s=o.call(this,e,r,n)||this;return s.beans=i,s}return zr(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,g.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,g.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,g.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=i&&i.shouldPreventRowMove(),n=this.beans.gridOptionsService.is("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(r&&!s||n)},Xi([G],t.prototype,"postConstruct",null),t}(ol),_c=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yr=function(){return Yr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Yr.apply(this,arguments)},Zi=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ec=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return _c(t,o),t.prototype.init=function(e,i,r,n,s,a,l){this.params=l,this.eGui=i,this.eCheckbox=r,this.eExpanded=n,this.eContracted=s,this.comp=e,this.compClass=a;var u=this.isTopLevelFooter(),d=this.isEmbeddedRowMismatch(),c=null==l.value&&!l.node.master,p=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var y=l.node;y.footer&&(p=(l.colDef&&l.colDef.showRowGroup)!==(y.rowGroupColumn&&y.rowGroupColumn.getColId()))}this.cellIsBlank=!u&&(d||c&&!l.node.master||p),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,i=e.node,r=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var n=function(){mt(r,!!i.expanded)};this.expandListener=this.addManagedListener(i,ue.EVENT_EXPANDED_CHANGED,n)||null,n()}else ta(r)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var r=this.columnModel.getRowGroupColumns();return!r||0===r.length||r[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,i="right"===this.params.pinned,r=!e&&!i;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!i:!r:this.columnModel.isPinningLeft()?!e:!r},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent)for(var r=i.parent;null!=r;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}Q(this.displayedGroupNode)&&(this.displayedGroupNode=i)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,i=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(e.groupData){if(null!=e.rowGroupColumn){var n=e.rowGroupColumn.getId();if(i.isRowGroupDisplayed(n))return void(this.showingValueForOpenedParent=!1)}var a=null!=e.groupData[i.getId()];this.showingValueForOpenedParent=a}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(e),n=e.value,s=e.valueFormatted;null==s&&(s=""===n&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):n??null),this.comp.setInnerRenderer(i,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!e)return this.params;if(null!=i&&!i.isRowGroupDisplayed(e.getId()))return this.params;var s=this.params,a=this.params,d=this.valueFormatterService.formatValue(e,a.node,a.value);return Yr(Yr({},s),{valueFormatted:d})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,i="";if(e){var r=vi(this.params);r.value=this.params.value,"function"==typeof e?i=e(r):"string"==typeof e?i=this.expressionService.evaluate(e,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i="Total "+(null!=this.params.value?this.params.value:"");var n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,i)},t.prototype.getInnerCompDetails=function(e){var i=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var r=this.userComponentFactory.getInnerRendererDetails(e,e),n=function(d){return d&&d.componentClass==i.compClass};if(r&&!n(r))return r;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,e);if(l&&!n(l))return l;if(n(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ue.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow();this.comp.setChildCount(i&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var i=this.params.column;return null==i||i.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e=this.params,i=be("groupExpanded",this.gridOptionsService,null),r=be("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),r&&this.eContracted.appendChild(r);var n=e.eGridCell;!this.gridOptionsService.is("enableGroupEdit")&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(n,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,ue.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var s=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ue.EVENT_ALL_CHILDREN_COUNT_CHANGED,s),this.addManagedListener(this.displayedGroupNode,ue.EVENT_MASTER_CHANGED,s),this.addManagedListener(this.displayedGroupNode,ue.EVENT_GROUP_CHANGED,s),this.addManagedListener(this.displayedGroupNode,ue.EVENT_HAS_CHILDREN_CHANGED,s)},t.prototype.onExpandClicked=function(e){St(e)||(yi(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var i=this.displayedGroupNode,r=!i.expanded;!r&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(r,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||i)return!1;var n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,r=e.displayedGroupNode,n=e.columnModel,s=e.params.node,a=this.isExpandable();if(a){var l=!!this.showingValueForOpenedParent||s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=n.isPivotMode(),d=u&&r.leafGroup,c=a&&!d,p=s.footer&&-1===s.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",d):p||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,ue.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var e=this.params,i=e.node,r=!!e.colDef,n=this.gridOptionsService.isTreeData(),a=!r||n||!0===e.colDef.showRowGroup?i.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var i=new Kr(function(){return e.params.value},this.params.node);this.createManagedBean(i,this.context),this.eGui.insertAdjacentElement("afterbegin",i.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,i=this.displayedGroupNode,r=this.isUserWantsSelected()&&!i.footer&&!i.rowPinned&&!i.detail;if(r){var n=new nl;this.getContext().createBean(n),n.init({rowNode:i,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(n)})}this.comp.setCheckboxVisible(r)},t.prototype.onKeyDown=function(e){e.key!==F.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){St(e)||Tr(this.eExpanded,e)||Tr(this.eContracted,e)||this.onExpandOrContract(e)},Zi([h("expressionService")],t.prototype,"expressionService",void 0),Zi([h("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Zi([h("columnModel")],t.prototype,"columnModel",void 0),Zi([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Zi([h("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(I),Rc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ji=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},sl=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Rc(t,o),t.prototype.init=function(e){var i=this,r={setInnerRenderer:function(l,u){return i.setRenderDetails(l,u)},setChildCount:function(l){return i.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return i.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return le(i.eContracted,l)},setExpandedDisplayed:function(l){return le(i.eExpanded,l)},setCheckboxVisible:function(l){return i.eCheckbox.classList.toggle("ag-invisible",!l)}},n=this.createManagedBean(new Ec),s=!e.colDef,a=this.getGui();n.init(r,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),s&&Ie(a,"gridcell")},t.prototype.setRenderDetails=function(e,i){var r=this;if(e){var n=e.newAgStackInstance();if(!n)return;n.then(function(s){if(s){var a=function(){return r.context.destroyBean(s)};r.isAlive()?(r.eValue.appendChild(s.getGui()),r.addDestroyFunc(a)):a()}})}else this.eValue.innerText=i},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),o.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ji([H("eExpanded")],t.prototype,"eExpanded",void 0),Ji([H("eContracted")],t.prototype,"eContracted",void 0),Ji([H("eCheckbox")],t.prototype,"eCheckbox",void 0),Ji([H("eValue")],t.prototype,"eValue",void 0),Ji([H("eChildCount")],t.prototype,"eChildCount",void 0),t}(oe),Oc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),al=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Tc=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Oc(t,o),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=be("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',al([H("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),al([H("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(oe),Dc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pc=function(o){function t(){return o.call(this)||this}return Dc(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var i,r=null!==(i=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==i?i:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.localeService.getLocaleTextFunc(),s=r.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(s)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(oe),bc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ac=function(o){function t(){return o.call(this)||this}return bc(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var i,r=null!==(i=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==i?i:t.DEFAULT_NO_ROWS_TEMPLATE,n=this.localeService.getLocaleTextFunc(),s=r.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(s)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(oe),Fc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lc=function(o){function t(){return o.call(this,'<div class="ag-tooltip"></div>')||this}return Fc(t,o),t.prototype.init=function(e){var i=e.value;this.getGui().innerHTML=Et(i)},t}(Qi),xc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vo=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Mc=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Nc=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Ud,agColumnHeader:$d,agColumnGroupHeader:tc,agSortIndicator:Go,agTextColumnFloatingFilter:Xd,agNumberColumnFloatingFilter:Qd,agDateColumnFloatingFilter:Wd,agReadOnlyFloatingFilter:Cd,agAnimateShowChangeCellRenderer:fc,agAnimateSlideCellRenderer:yc,agGroupCellRenderer:sl,agGroupRowRenderer:sl,agLoadingCellRenderer:Tc,agCellEditor:il,agTextCellEditor:il,agSelectCellEditor:ac,agLargeTextCellEditor:oc,agTextColumnFilter:Io,agNumberColumnFilter:Qa,agDateColumnFilter:ka,agLoadingOverlay:Pc,agNoRowsOverlay:Ac,agTooltipComponent:Lc},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:k.SetFilterModule,agSetColumnFloatingFilter:k.SetFilterModule,agMultiColumnFilter:k.MultiFilterModule,agMultiColumnFloatingFilter:k.MultiFilterModule,agGroupColumnFilter:k.RowGroupingModule,agGroupColumnFloatingFilter:k.RowGroupingModule,agRichSelect:k.RichSelectModule,agRichSelectCellEditor:k.RichSelectModule,agDetailCellRenderer:k.MasterDetailModule,agSparklineCellRenderer:k.SparklinesModule},e.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},e.jsComps={},e.fwComps={},e}return xc(t,o),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&me(this.gridOptions.components,function(i,r){return e.registerJsComponent(i,r)}),null!=this.gridOptions.frameworkComponents&&me(this.gridOptions.frameworkComponents,function(i,r){return e.registerFwComponent(i,r)})},t.prototype.registerDefaultComponent=function(e,i){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=i},t.prototype.registerJsComponent=function(e,i){this.fwComps[e]?console.error("Trying to register a component that you have already registered for frameworks: "+e):this.jsComps[e]=i},t.prototype.registerFwComponent=function(e,i){te(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[e]=i},t.prototype.retrieve=function(e,i){var r=this,n=function(p,y){return{componentFromFramework:y,component:p}},s=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(null!=s)return n(s,!0);var a=this.fwComps[i];if(a)return n(a,!0);var l=this.jsComps[i];if(l)return n(l,this.getFrameworkOverrides().isFrameworkComponent(l));var d=this.agGridDefaults[i];if(d)return n(d,!1);var c=this.enterpriseAgDefaultCompsModule[i];return c?q.assertRegistered(c,"AG Grid '"+e+"' component: "+i):this.deprecatedAgGridDefaults[i]?te(function(){return console.warn(r.deprecatedAgGridDefaults[i])},i):te(function(){r.warnAboutMissingComponent(e,i)},"MissingComp"+i),null},t.prototype.warnAboutMissingComponent=function(e,i){var r=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Mc(arguments[t]));return o}(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)}),Object.keys(this.jsComps),Object.keys(this.fwComps)),n=Vn(i,r,!0,.8);console.warn("AG Grid: Could not find '"+i+"' component. It was configured as \""+e+": '"+i+"'\" but it wasn't found in the list of registered components."),n.length>0&&console.warn("         Did you mean: ["+n.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},Vo([h("gridOptions")],t.prototype,"gridOptions",void 0),Vo([G],t.prototype,"init",null),Vo([U("userComponentRegistry")],t)}(I),Gc={propertyName:"dateComponent",cellRenderer:!1},Hc={propertyName:"headerComponent",cellRenderer:!1},Vc={propertyName:"headerGroupComponent",cellRenderer:!1},ll={propertyName:"cellRenderer",cellRenderer:!0},Bc={propertyName:"cellEditor",cellRenderer:!1},ul={propertyName:"innerRenderer",cellRenderer:!0},Wc={propertyName:"loadingOverlayComponent",cellRenderer:!1},jc={propertyName:"noRowsOverlayComponent",cellRenderer:!1},kc={propertyName:"tooltipComponent",cellRenderer:!1},Bo={propertyName:"filter",cellRenderer:!1},Uc={propertyName:"floatingFilterComponent",cellRenderer:!1},zc={propertyName:"toolPanel",cellRenderer:!1},Kc={propertyName:"statusPanel",cellRenderer:!1},Yc={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Qc={propertyName:"loadingCellRenderer",cellRenderer:!0},qc={propertyName:"groupRowRenderer",cellRenderer:!0},Xc={propertyName:"detailCellRenderer",cellRenderer:!0},Zc=function(){function o(){}return o.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},o.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},o}(),Jc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oi=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},$c=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Jc(t,o),t.prototype.getHeaderCompDetails=function(e,i){return this.getCompDetails(e,Hc,"agColumnHeader",i)},t.prototype.getHeaderGroupCompDetails=function(e){var i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,Vc,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Yc,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Qc,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,qc,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Xc,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,i){return this.getCompDetails(e,ul,null,i)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,i){return this.getCompDetails(e,ul,null,i)},t.prototype.getCellRendererDetails=function(e,i){return this.getCompDetails(e,ll,null,i)},t.prototype.getCellEditorDetails=function(e,i){return this.getCompDetails(e,Bc,"agCellEditor",i,!0)},t.prototype.getFilterDetails=function(e,i,r){return this.getCompDetails(e,Bo,r,i,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,Gc,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Wc,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,jc,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,kc,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,i){return this.getCompDetails(e,ll,null,i)},t.prototype.getFloatingFilterCompDetails=function(e,i,r){return this.getCompDetails(e,Uc,r,i)},t.prototype.getToolPanelCompDetails=function(e,i){return this.getCompDetails(e,zc,null,i,!0)},t.prototype.getStatusPanelCompDetails=function(e,i){return this.getCompDetails(e,Kc,null,i,!0)},t.prototype.getCompDetails=function(e,i,r,n,s){var a=this;void 0===s&&(s=!1);var l=i.propertyName,u=i.cellRenderer,d=this.getCompKeys(e,i,n),c=d.compName,p=d.jsComp,y=d.fwComp,S=d.paramsFromSelector,_=d.popupFromSelector,E=d.popupPositionFromSelector,O=function(j){var X=a.userComponentRegistry.retrieve(l,j);X&&(p=X.componentFromFramework?void 0:X.component,y=X.componentFromFramework?X.component:void 0)};if(null!=c&&O(c),null==p&&null==y&&null!=r&&O(r),p&&u&&!this.agComponentUtils.doesImplementIComponent(p)&&(p=this.agComponentUtils.adaptFunction(l,p)),p||y){var D=this.mergeParamsWithApplicationProvidedParams(e,i,n,S),L=null==p,N=p||y;return{componentFromFramework:L,componentClass:N,params:D,type:i,popupFromSelector:_,popupPositionFromSelector:E,newAgStackInstance:function(){return a.newAgStackInstance(N,L,D,i)}}}s&&console.error("AG Grid: Could not find component "+c+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,i,r){var a,l,u,d,c,p,n=this,s=i.propertyName;if(e){var y=e,S=y[s+"Selector"],_=S?S(r):null,E=function(D,L){var N=function(){var X="AG Grid: As of v27, the property "+s+"Framework is deprecated. The property "+s+" can now be used for JavaScript AND Framework Components.";te(function(){return console.warn(X)},"UserComponentFactory."+s+"FrameworkDeprecated")};"string"==typeof D?a=D:"string"==typeof L?(N(),a=L):null!=D&&!0!==D?n.getFrameworkOverrides().isFrameworkComponent(D)?u=D:l=D:null!=L&&(N(),u=L)};if(_){if(null!=_.frameworkComponent){var O="AG Grid: As of v27, the return for "+s+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";te(function(){return console.warn(O)},"UserComponentFactory."+s+"FrameworkSelectorDeprecated"),E(_.frameworkComponent,void 0)}else E(_.component,void 0);d=_.params,c=_.popup,p=_.popupPosition}else E(y[s],y[s+"Framework"])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:d,popupFromSelector:c,popupPositionFromSelector:p}},t.prototype.newAgStackInstance=function(e,i,r,n){var l;if(i){var u=this.componentMetadataProvider.retrieve(n.propertyName);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,n)}else l=new e;var d=this.initComponent(l,r);return null==d?nt.resolve(l):d.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,i,r,n){void 0===n&&(n=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};T(s,r);var l=e&&e[i.propertyName+"Params"];return"function"==typeof l?T(s,l(r)):"object"==typeof l&&T(s,l),T(s,n),s},t.prototype.initComponent=function(e,i){if(this.context.createBean(e),null!=e.init)return e.init(i)},t.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var i=null,r=this.getCompKeys(e,Bo),n=r.compName,s=r.jsComp,a=r.fwComp;return n?i=Zc.getFloatingFilterType(n):null==s&&null==a&&!0===e.filter&&(i=q.isRegistered(k.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),i},Oi([h("gridOptions")],t.prototype,"gridOptions",void 0),Oi([h("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Oi([h("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Oi([h("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Oi([ve("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Oi([U("userComponentFactory")],t)}(I),Wo=function(o){return o[o.SINGLE_SHEET=0]="SINGLE_SHEET",o[o.MULTI_SHEET=1]="MULTI_SHEET",o}(Wo||{}),ep=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$i=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},tp=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return ep(t,o),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var i=e.dragSource.eElement;i.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&i.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var i=this.dragSources.find(function(r){return r.dragSource===e});i&&(this.removeListener(i),We(this.dragSources,i))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,i){var r=this;void 0===i&&(i=!1);var n=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",n);var s=null,a=this.gridOptionsService.is("suppressTouch");i&&!a&&e.eElement.addEventListener("touchstart",s=function(l){co(l.target)||(l.cancelable&&(l.preventDefault(),l.stopPropagation()),r.onTouchStart(e,l))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:s,touchEnabled:i})},t.prototype.onTouchStart=function(e,i){var r=this;this.currentDragParams=e,this.dragging=!1;var n=i.touches[0];this.touchLastTime=n,this.touchStart=n;var a=function(c){return r.onTouchUp(c,e.eElement)},u=i.target,d=[{target:document,type:"touchmove",listener:function(c){c.cancelable&&c.preventDefault()},options:{passive:!1}},{target:u,type:"touchmove",listener:function(c){return r.onTouchMove(c,e.eElement)},options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(d),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,i){var r=this,n=i;if(!(e.skipMouseEvent&&e.skipMouseEvent(i)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,0!==i.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i;var s=this.gridOptionsService.getDocument();this.addTemporaryEvents([{target:s,type:"mousemove",listener:function(p){return r.onMouseMove(p,e.eElement)}},{target:s,type:"mouseup",listener:function(p){return r.onMouseUp(p,e.eElement)}},{target:s,type:"contextmenu",listener:function(p){return p.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(i,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(i){i.target.addEventListener(i.type,i.listener,i.options)}),this.dragEndFunctions.push(function(){e.forEach(function(i){i.target.removeEventListener(i.type,i.listener,i.options)})})},t.prototype.isEventNearStartEvent=function(e,i){var r=this.currentDragParams.dragStartPixels;return So(e,i,x(r)?r:4)},t.prototype.getFirstActiveTouch=function(e){for(var i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null},t.prototype.onCommonMove=function(e,i,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,i))return;this.dragging=!0,this.eventService.dispatchEvent({type:g.EVENT_DRAG_STARTED,target:r}),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,i){var r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,i)},t.prototype.onMouseMove=function(e,i){(this.gridOptionsService.is("enableCellTextSelection")||Rt())&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)},t.prototype.isOverFormFieldElement=function(e){var i=e.target,r=i?.tagName.toLocaleLowerCase();return!!r?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,i){var r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,i)},t.prototype.onMouseUp=function(e,i){this.onUpCommon(e,i)},t.prototype.onUpCommon=function(e,i){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:g.EVENT_DRAG_STOPPED,target:i})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(n){return n()}),this.dragEndFunctions.length=0},$i([h("loggerFactory")],t.prototype,"loggerFactory",void 0),$i([h("mouseEventService")],t.prototype,"mouseEventService",void 0),$i([G],t.prototype,"init",null),$i([qe],t.prototype,"removeAllListeners",null),$i([U("dragService")],t)}(I),Ti=function(o){return o[o.Above=0]="Above",o[o.Below=1]="Below",o}(Ti||{}),jo=function(o){return o.EVERYTHING="group",o.FILTER="filter",o.SORT="sort",o.MAP="map",o.AGGREGATE="aggregate",o.FILTER_AGGREGATES="filter_aggregates",o.PIVOT="pivot",o.NOTHING="nothing",o}(jo||{}),ce=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n};function li(o){return null!=o&&null!=o.getFrameworkComponentInstance?o.getFrameworkComponentInstance():o}var ip=function(){function o(){this.detailGridInfoMap={},this.destroyCalled=!1}return o.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},o.prototype.registerSideBarComp=function(t){this.sideBarComp=t},o.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},o.prototype.__getAlignedGridService=function(){return this.alignedGridsService},o.prototype.__getContext=function(){return this.context},o.prototype.getSetterMethod=function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1)},o.prototype.__setProperty=function(t,e){this.gridOptionsService.set(t,e);var i=this.getSetterMethod(t);this[i]&&this[i](e)},o.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},o.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},o.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},o.prototype.forEachDetailGridInfo=function(t){var e=0;me(this.detailGridInfoMap,function(i,r){x(r)&&(t(r,e),e++)})},o.prototype.getDataAsCsv=function(t){if(q.assertRegistered(k.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},o.prototype.exportDataAsCsv=function(t){q.assertRegistered(k.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},o.prototype.getExcelExportMode=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode},o.prototype.assertNotExcelMultiSheet=function(t,e){if(!q.assertRegistered(k.ExcelExportModule,"api."+t))return!1;var i=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(i)!==Wo.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},o.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},o.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},o.prototype.getSheetDataForExcel=function(t){if(q.assertRegistered(k.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Wo.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},o.prototype.getMultipleSheetsAsExcel=function(t){if(q.assertRegistered(k.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},o.prototype.exportMultipleSheetsAsExcel=function(t){if(q.assertRegistered(k.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},o.prototype.setGridAriaProperty=function(t,e){if(t){var i=this.ctrlsService.getGridBodyCtrl().getGui(),r="aria-"+t;null===e?i.removeAttribute(r):i.setAttribute(r,e)}},o.prototype.logMissingRowModel=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.error("AG Grid: api."+t+" can only be called when gridOptions.rowModelType is "+e.join(" or "))},o.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")},o.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},o.prototype.setDatasource=function(t){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")},o.prototype.setViewportDatasource=function(t){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")},o.prototype.setRowData=function(t){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},o.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},o.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},o.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},o.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},o.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e),this.gridOptionsService.set("columnDefs",t,!0,{source:e})},o.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("autoGroupColumnDef",t,!0,{source:e})},o.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("defaultColDef",t,!0,{source:e})},o.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("columnTypes",t,!0,{source:e})},o.prototype.expireValueCache=function(){this.valueCache.expire()},o.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},o.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},o.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsService.set("alwaysShowHorizontalScroll",t)},o.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsService.set("alwaysShowVerticalScroll",t)},o.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},o.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},o.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},o.prototype.setFunctionsReadOnly=function(t){this.gridOptionsService.set("functionsReadOnly",t)},o.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},o.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},o.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},o.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},o.prototype.getModel=function(){return this.rowModel},o.prototype.setRowNodeExpanded=function(t,e,i){t&&(i&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,i),t.setExpanded(e))},o.prototype.onGroupExpandedOrCollapsed=function(){Q(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:jo.MAP})},o.prototype.refreshClientSideRowModel=function(t){Q(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},o.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},o.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},o.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},o.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},o.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},o.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},o.prototype.addRenderedRowListener=function(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)},o.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},o.prototype.setQuickFilter=function(t){this.gridOptionsService.set("quickFilterText",t)},o.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",t)},o.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},o.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},o.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},o.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},o.prototype.getServerSideSelectionState=function(){return Q(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},o.prototype.setServerSideSelectionState=function(t){Q(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)},o.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},o.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},o.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},o.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},o.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},o.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},o.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},o.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},o.prototype.getBestCostNodeSelection=function(){if(!Q(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},o.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},o.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},o.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},o.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},o.prototype.forEachLeafNode=function(t){Q(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},o.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},o.prototype.forEachNodeAfterFilter=function(t){Q(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},o.prototype.forEachNodeAfterFilterAndSort=function(t){Q(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},o.prototype.getFilterInstance=function(t,e){var i=this.getFilterInstanceImpl(t,function(n){if(e){var s=li(n);e(s)}});return li(i)},o.prototype.getFilterInstanceImpl=function(t,e){var i=this.columnModel.getPrimaryColumn(t);if(i){var r=this.filterManager.getFilterComponent(i,"NO_UI"),n=r&&r.resolveNow(null,function(s){return s});return n?setTimeout(e,0,n):r&&r.then(function(s){e(s)}),n}},o.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},o.prototype.getStatusPanel=function(t){if(q.assertRegistered(k.StatusBarModule,"api.getStatusPanel"))return li(this.statusBarService.getStatusPanel(t))},o.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},o.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},o.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},o.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},o.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},o.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},o.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},o.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},o.prototype.setFocusedCell=function(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})},o.prototype.setSuppressRowDrag=function(t){this.gridOptionsService.set("suppressRowDrag",t)},o.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsService.set("suppressMoveWhenRowDragging",t)},o.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsService.set("suppressRowClickSelection",t)},o.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},o.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},o.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},o.prototype.setHeaderHeight=function(t){this.gridOptionsService.set("headerHeight",t)},o.prototype.setDomLayout=function(t){this.gridOptionsService.set("domLayout",t)},o.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},o.prototype.setFillHandleDirection=function(t){this.gridOptionsService.set("fillHandleDirection",t)},o.prototype.setGroupHeaderHeight=function(t){this.gridOptionsService.set("groupHeaderHeight",t)},o.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsService.set("floatingFiltersHeight",t)},o.prototype.setPivotHeaderHeight=function(t){this.gridOptionsService.set("pivotHeaderHeight",t)},o.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsService.set("pivotGroupHeaderHeight",t)},o.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},o.prototype.setAnimateRows=function(t){this.gridOptionsService.set("animateRows",t)},o.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsService.set("isExternalFilterPresent",t)},o.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsService.set("doesExternalFilterPass",t)},o.prototype.setNavigateToNextCell=function(t){this.gridOptionsService.set("navigateToNextCell",t)},o.prototype.setTabToNextCell=function(t){this.gridOptionsService.set("tabToNextCell",t)},o.prototype.setTabToNextHeader=function(t){this.gridOptionsService.set("tabToNextHeader",t)},o.prototype.setNavigateToNextHeader=function(t){this.gridOptionsService.set("navigateToNextHeader",t)},o.prototype.setRowGroupPanelShow=function(t){this.gridOptionsService.set("rowGroupPanelShow",t)},o.prototype.setGroupRowAggNodes=function(t){xe("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",t)},o.prototype.setGetGroupRowAgg=function(t){this.gridOptionsService.set("getGroupRowAgg",t)},o.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsService.set("getBusinessKeyForNode",t)},o.prototype.setGetChildCount=function(t){this.gridOptionsService.set("getChildCount",t)},o.prototype.setProcessRowPostCreate=function(t){this.gridOptionsService.set("processRowPostCreate",t)},o.prototype.setGetRowNodeId=function(t){xe("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",t)},o.prototype.setGetRowId=function(t){this.gridOptionsService.set("getRowId",t)},o.prototype.setGetRowClass=function(t){this.gridOptionsService.set("getRowClass",t)},o.prototype.setIsFullWidthCell=function(t){xe("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",t)},o.prototype.setIsFullWidthRow=function(t){this.gridOptionsService.set("isFullWidthRow",t)},o.prototype.setIsRowSelectable=function(t){this.gridOptionsService.set("isRowSelectable",t)},o.prototype.setIsRowMaster=function(t){this.gridOptionsService.set("isRowMaster",t)},o.prototype.setPostSort=function(t){xe("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",t)},o.prototype.setPostSortRows=function(t){this.gridOptionsService.set("postSortRows",t)},o.prototype.setGetDocument=function(t){this.gridOptionsService.set("getDocument",t)},o.prototype.setGetContextMenuItems=function(t){this.gridOptionsService.set("getContextMenuItems",t)},o.prototype.setGetMainMenuItems=function(t){this.gridOptionsService.set("getMainMenuItems",t)},o.prototype.setProcessCellForClipboard=function(t){this.gridOptionsService.set("processCellForClipboard",t)},o.prototype.setSendToClipboard=function(t){this.gridOptionsService.set("sendToClipboard",t)},o.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsService.set("processCellFromClipboard",t)},o.prototype.setProcessSecondaryColDef=function(t){xe("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)},o.prototype.setProcessSecondaryColGroupDef=function(t){xe("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)},o.prototype.setProcessPivotResultColDef=function(t){this.gridOptionsService.set("processPivotResultColDef",t)},o.prototype.setProcessPivotResultColGroupDef=function(t){this.gridOptionsService.set("processPivotResultColGroupDef",t)},o.prototype.setPostProcessPopup=function(t){this.gridOptionsService.set("postProcessPopup",t)},o.prototype.setDefaultGroupOrderComparator=function(t){xe("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",t)},o.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsService.set("initialGroupOrderComparator",t)},o.prototype.setGetChartToolbarItems=function(t){this.gridOptionsService.set("getChartToolbarItems",t)},o.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsService.set("paginationNumberFormatter",t)},o.prototype.setGetServerSideStoreParams=function(t){xe("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)},o.prototype.setGetServerSideGroupLevelParams=function(t){this.gridOptionsService.set("getServerSideGroupLevelParams",t)},o.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsService.set("isServerSideGroupOpenByDefault",t)},o.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsService.set("isApplyServerSideTransaction",t)},o.prototype.setIsServerSideGroup=function(t){this.gridOptionsService.set("isServerSideGroup",t)},o.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsService.set("getServerSideGroupKey",t)},o.prototype.setGetRowStyle=function(t){this.gridOptionsService.set("getRowStyle",t)},o.prototype.setGetRowHeight=function(t){this.gridOptionsService.set("getRowHeight",t)},o.prototype.assertSideBarLoaded=function(t){return q.assertRegistered(k.SideBarModule,"api."+t)},o.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},o.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)},o.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)},o.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")},o.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},o.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},o.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},o.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},o.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return li(this.sideBarComp.getToolPanelInstance(t))},o.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},o.prototype.setSideBar=function(t){this.gridOptionsService.set("sideBar",t)},o.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsService.set("suppressClipboardPaste",t)},o.prototype.resetRowHeights=function(){if(x(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},o.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsService.set("groupRemoveSingleChildren",t)},o.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsService.set("groupRemoveLowestSingleChildren",t)},o.prototype.setGroupDisplayType=function(t){this.gridOptionsService.set("groupDisplayType",t)},o.prototype.setRowClass=function(t){this.gridOptionsService.set("rowClass",t)},o.prototype.setDeltaSort=function(t){this.gridOptionsService.set("deltaSort",t)},o.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},o.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},o.prototype.getValue=function(t,e){var i=this.columnModel.getPrimaryColumn(t);return Q(i)&&(i=this.columnModel.getGridColumn(t)),Q(i)?null:this.valueService.getValue(i,e)},o.prototype.addEventListener=function(t,e){var i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(t,e,i)},o.prototype.addGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(t,e)},o.prototype.removeEventListener=function(t,e){var i=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(t,e,i)},o.prototype.removeGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},o.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},o.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ae.bind(window,this,"Grid API"),100)},o.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},o.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},o.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(q.assertRegistered(k.RangeSelectionModule,"api.getCellRanges"),null)},o.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):q.assertRegistered(k.RangeSelectionModule,"api.addCellRange")},o.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),q.assertRegistered(k.RangeSelectionModule,"gridApi.clearRangeSelection")},o.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},o.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},o.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},o.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},o.prototype.getChartModels=function(){if(q.assertRegistered(k.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},o.prototype.getChartRef=function(t){if(q.assertRegistered(k.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},o.prototype.getChartImageDataURL=function(t){if(q.assertRegistered(k.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},o.prototype.downloadChart=function(t){if(q.assertRegistered(k.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(t)},o.prototype.openChartToolPanel=function(t){if(q.assertRegistered(k.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(t)},o.prototype.closeChartToolPanel=function(t){if(q.assertRegistered(k.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(t.chartId)},o.prototype.createRangeChart=function(t){if(q.assertRegistered(k.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},o.prototype.createCrossFilterChart=function(t){if(q.assertRegistered(k.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},o.prototype.restoreChart=function(t,e){if(q.assertRegistered(k.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},o.prototype.createPivotChart=function(t){if(q.assertRegistered(k.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},o.prototype.copyToClipboard=function(t){q.assertRegistered(k.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(t)},o.prototype.cutToClipboard=function(t){q.assertRegistered(k.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(t)},o.prototype.copySelectedRowsToClipboard=function(t){q.assertRegistered(k.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(t)},o.prototype.copySelectedRangeToClipboard=function(t){q.assertRegistered(k.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(t)},o.prototype.copySelectedRangeDown=function(){q.assertRegistered(k.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},o.prototype.showColumnMenuAfterButtonClick=function(t,e){var i=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(i,e,"columnMenu")},o.prototype.showColumnMenuAfterMouseClick=function(t,e){var i=this.columnModel.getGridColumn(t);i||(i=this.columnModel.getPrimaryColumn(t)),i?this.menuFactory.showMenuAfterMouseEvent(i,e):console.error("AG Grid: column '"+t+"' not found")},o.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},o.prototype.setPopupParent=function(t){this.gridOptionsService.set("popupParent",t)},o.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},o.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},o.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(li)},o.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(li)},o.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},o.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},o.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var n=this.navigationService.getCellByPosition(i);n&&n.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},o.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},o.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},o.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},o.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},o.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},o.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},o.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},o.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),e}this.logMissingRowModel("applyTransaction","clientSide")},o.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},o.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},o.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",t)},o.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},o.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},o.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},o.prototype.refreshServerSideStore=function(t){return xe("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)},o.prototype.getServerSideStoreState=function(){return xe("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},o.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},o.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},o.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},o.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},o.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},o.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},o.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},o.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},o.prototype.setPagination=function(t){this.gridOptionsService.set("pagination",t)},o.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},o.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},o.prototype.paginationSetPageSize=function(t){this.gridOptionsService.set("paginationPageSize",t)},o.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},o.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},o.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},o.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},o.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},o.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},o.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},o.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},ce([ve("immutableService")],o.prototype,"immutableService",void 0),ce([ve("csvCreator")],o.prototype,"csvCreator",void 0),ce([ve("excelCreator")],o.prototype,"excelCreator",void 0),ce([h("rowRenderer")],o.prototype,"rowRenderer",void 0),ce([h("navigationService")],o.prototype,"navigationService",void 0),ce([h("filterManager")],o.prototype,"filterManager",void 0),ce([h("columnModel")],o.prototype,"columnModel",void 0),ce([h("selectionService")],o.prototype,"selectionService",void 0),ce([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),ce([h("valueService")],o.prototype,"valueService",void 0),ce([h("alignedGridsService")],o.prototype,"alignedGridsService",void 0),ce([h("eventService")],o.prototype,"eventService",void 0),ce([h("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ce([h("context")],o.prototype,"context",void 0),ce([h("rowModel")],o.prototype,"rowModel",void 0),ce([h("sortController")],o.prototype,"sortController",void 0),ce([h("paginationProxy")],o.prototype,"paginationProxy",void 0),ce([h("focusService")],o.prototype,"focusService",void 0),ce([h("dragAndDropService")],o.prototype,"dragAndDropService",void 0),ce([ve("rangeService")],o.prototype,"rangeService",void 0),ce([ve("clipboardService")],o.prototype,"clipboardService",void 0),ce([ve("aggFuncService")],o.prototype,"aggFuncService",void 0),ce([h("menuFactory")],o.prototype,"menuFactory",void 0),ce([ve("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),ce([h("valueCache")],o.prototype,"valueCache",void 0),ce([h("animationFrameService")],o.prototype,"animationFrameService",void 0),ce([ve("statusBarService")],o.prototype,"statusBarService",void 0),ce([ve("chartService")],o.prototype,"chartService",void 0),ce([ve("undoRedoService")],o.prototype,"undoRedoService",void 0),ce([ve("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),ce([ve("ssrmTransactionManager")],o.prototype,"serverSideTransactionManager",void 0),ce([h("ctrlsService")],o.prototype,"ctrlsService",void 0),ce([G],o.prototype,"init",null),ce([qe],o.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),ce([U("gridApi")],o)}(),rp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qr=function(){return Qr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Qr.apply(this,arguments)},ui=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},np=function(o){function t(){var i=null!==o&&o.apply(this,arguments)||this;return i.allColumnFilters=new Map,i.activeAggregateFilters=[],i.activeColumnFilters=[],i.quickFilter=null,i.quickFilterParts=null,i.processingFilterChange=!1,i}var e;return rp(t,o),e=t,t.prototype.init=function(){var i=this;this.addManagedListener(this.eventService,g.EVENT_GRID_COLUMNS_CHANGED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_VALUE_CHANGED,function(){return i.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PIVOT_CHANGED,function(){return i.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){i.refreshFiltersForAggregations(),i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,g.EVENT_NEW_COLUMNS_LOADED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_VISIBLE,function(){i.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")&&i.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(r){return i.setQuickFilter(r.currentValue)}),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",function(){return i.onExcludeHiddenColumnsFromQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},t.prototype.isExternalFilterPresentCallback=function(){var i=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof i&&i({})},t.prototype.doesExternalFilterPass=function(i){var r=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof r&&r(i)},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(i){var r=this,n=[],s=this.getFilterModel();if(i){var a=_o(Object.keys(i));this.allColumnFilters.forEach(function(l,u){n.push(r.setModelOnFilterWrapper(l.filterPromise,i[u])),a.delete(u)}),a.forEach(function(l){var u=r.columnModel.getPrimaryColumn(l)||r.columnModel.getGridColumn(l);if(u)if(u.isFilterAllowed()){var d=r.getOrCreateFilterWrapper(u,"NO_UI");d?n.push(r.setModelOnFilterWrapper(d.filterPromise,i[l])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+l)})}else this.allColumnFilters.forEach(function(l){n.push(r.setModelOnFilterWrapper(l.filterPromise,null))});nt.all(n).then(function(){var l=r.getFilterModel(),u=[];r.allColumnFilters.forEach(function(d,c){Nt.jsonEquals(s?s[c]:null,l?l[c]:null)||u.push(d.column)}),u.length>0&&r.onFilterChanged({columns:u})})},t.prototype.setModelOnFilterWrapper=function(i,r){return new nt(function(n){i.then(function(s){"function"!=typeof s.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(s.setModel(r)||nt.resolve()).then(function(){return n()})})})},t.prototype.getFilterModel=function(){var i={};return this.allColumnFilters.forEach(function(r,n){var a=r.filterPromise.resolveNow(null,function(u){return u});if(null==a)return null;if("function"==typeof a.getModel){var l=a.getModel();x(l)&&(i[n]=l)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),i},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.doAggregateFiltersPass=function(i,r){return this.doColumnFiltersPass(i,r,!0)},t.prototype.updateActiveFilters=function(){var i=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var r=function(a){return!!a&&(a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,r)){var l=a.filterPromise.resolveNow(null,function(u){return u});!function(a){if(!a.isPrimary())return!0;var u=!i.columnModel.isPivotActive();return!(!a.isValueActive()||!u)&&(!!i.columnModel.isPivotMode()||n)}(a.column)?i.activeColumnFilters.push(l):i.activeAggregateFilters.push(l)}})},t.prototype.updateFilterFlagInColumns=function(i,r){this.allColumnFilters.forEach(function(n){var s=n.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});n.column.setFilterActive(s,i,r)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(i,r,n){for(var l=n?this.activeAggregateFilters:this.activeColumnFilters,u=n?i.aggData:i.data,d=0;d<l.length;d++){var c=l[d];if(null!=c&&c!==r){if("function"!=typeof c.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:i,data:u}))return!1}}return!0},t.prototype.parseQuickFilter=function(i){return x(i)?this.gridOptionsService.isRowModelType("clientSide")?i.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(i){if(null==i||"string"==typeof i){var r=this.parseQuickFilter(i);this.quickFilter!==r&&(this.quickFilter=r,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof i)},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},t.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(i){var r=this;void 0===i&&(i={});var n=function(){return r.onFilterChanged(i)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},t.prototype.onFilterChanged=function(i){void 0===i&&(i={});var r=i.filterInstance,n=i.additionalEventAttributes,s=i.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==r&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={type:g.EVENT_FILTER_CHANGED,columns:s||[]};n&&T(a,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(i,r){return this.doesRowPassFilter({rowNode:r,filterInstanceToSkip:i})},t.prototype.doesRowPassQuickFilterNoCache=function(i,r){var n=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(a){var l=n.getQuickFilterTextForColumn(a,i);return x(l)&&l.indexOf(r)>=0})},t.prototype.doesRowPassQuickFilterCache=function(i,r){return i.quickFilterAggregateText||this.aggregateRowForQuickFilter(i),i.quickFilterAggregateText.indexOf(r)>=0},t.prototype.doesRowPassQuickFilter=function(i){var r=this,n=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(function(s){return n?r.doesRowPassQuickFilterCache(i,s):r.doesRowPassQuickFilterNoCache(i,s)})},t.prototype.doesRowPassAggregateFilters=function(i){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(i.rowNode,i.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(i){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(i.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(i.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(i.rowNode,i.filterInstanceToSkip))},t.prototype.getQuickFilterTextForColumn=function(i,r){var n=this.valueService.getValue(i,r,!0),s=i.getColDef();return s.getQuickFilterText&&(n=s.getQuickFilterText({value:n,node:r,data:r.data,column:i,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),x(n)?n.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(i){var r=this,n=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(a){var l=r.getQuickFilterTextForColumn(a,i);x(l)&&n.push(l)}),i.quickFilterAggregateText=n.join(e.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(i){this.allColumnFilters.forEach(function(r){r.filterPromise.then(function(n){n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(i,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(i){var r=this;return function(n){return r.valueService.getValue(i,n.node,!0)}},t.prototype.getFilterComponent=function(i,r,n){var s;if(void 0===n&&(n=!0),n)return(null===(s=this.getOrCreateFilterWrapper(i,r))||void 0===s?void 0:s.filterPromise)||null;var a=this.cachedFilter(i);return a?a.filterPromise:null},t.prototype.isFilterActive=function(i){var r=this.cachedFilter(i);return!!r&&r.filterPromise.resolveNow(!1,function(n){return n.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(i,r){if(!i.isFilterAllowed())return null;var n=this.cachedFilter(i);return n?"NO_UI"!==r&&this.putIntoGui(n,r):(n=this.createFilterWrapper(i,r),this.allColumnFilters.set(i.getColId(),n)),n},t.prototype.cachedFilter=function(i){return this.allColumnFilters.get(i.getColId())},t.prototype.createFilterInstance=function(i){var a,r=this,n=q.isRegistered(k.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=i.getColDef(),l=Qr(Qr({},this.createFilterParams(i,s)),{filterModifiedCallback:function(){r.eventService.dispatchEvent({type:g.EVENT_FILTER_MODIFIED,column:i,filterInstance:a})},filterChangedCallback:function(c){r.callOnFilterChangedOutsideRenderCycle({filterInstance:a,additionalEventAttributes:c,columns:[i]})},doesRowPassOtherFilter:function(c){return r.doesRowPassOtherFilters(a,c)}}),u=this.userComponentFactory.getFilterDetails(s,l,n);if(!u)return null;var d=u.newAgStackInstance();return d&&d.then(function(c){return a=c}),d},t.prototype.createFilterParams=function(i,r){return{column:i,colDef:vi(r),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(i),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.createFilterWrapper=function(i,r){var n={column:i,filterPromise:null,compiledElement:null,guiPromise:nt.resolve(null)};return n.filterPromise=this.createFilterInstance(i),n.filterPromise&&this.putIntoGui(n,r),n},t.prototype.putIntoGui=function(i,r){var n=this,s=document.createElement("div");s.className="ag-filter",i.guiPromise=new nt(function(a){i.filterPromise.then(function(l){var u=l.getGui();x(u)||console.warn("AG Grid: getGui method from filter returned "+u+", it should be a DOM element or an HTML template string."),"string"==typeof u&&(u=He(u)),s.appendChild(u),a(s),n.eventService.dispatchEvent({type:g.EVENT_FILTER_OPENED,column:i.column,source:r,eGui:s})})})},t.prototype.onColumnsChanged=function(){var i=this,r=[];this.allColumnFilters.forEach(function(n,s){!(n.column.isPrimary()?i.columnModel.getPrimaryColumn(s):i.columnModel.getGridColumn(s))&&(r.push(n.column),i.disposeFilterWrapper(n,"columnChanged"))}),r.length>0?this.onFilterChanged({columns:r}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var i=this,r=this.columnModel.getGroupAutoColumns();r?.forEach(function(n){"agGroupColumnFilter"===n.getColDef().filter&&i.getOrCreateFilterWrapper(n,"NO_UI")})},t.prototype.isFilterAllowed=function(i){var r,n;if(!i.isFilterAllowed())return!1;var a=this.allColumnFilters.get(i.getColId());return null===(n=null===(r=a?.filterPromise)||void 0===r?void 0:r.resolveNow(!0,function(l){var u,d;return"function"!=typeof(null===(u=l)||void 0===u?void 0:u.isFilterAllowed)||(null===(d=l)||void 0===d?void 0:d.isFilterAllowed())}))||void 0===n||n},t.prototype.getFloatingFilterCompDetails=function(i,r){var n=this,s=i.getColDef(),a=this.createFilterParams(i,s),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Bo,a),u=this.userComponentFactory.getDefaultFloatingFilterType(s);return null==u&&(u="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(s,{column:i,filterParams:l,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(i)},parentFilterInstance:function(p){var y=n.getFilterComponent(i,"NO_UI");y?.then(function(S){p(li(S))})},showParentFilter:r,suppressFilterButton:!1},u)},t.prototype.getCurrentFloatingFilterParentModel=function(i){var r=this.getFilterComponent(i,"NO_UI",!1);return r?r.resolveNow(null,function(n){return n&&n.getModel()}):null},t.prototype.destroyFilter=function(i,r){void 0===r&&(r="api");var n=this.allColumnFilters.get(i.getColId());n&&(this.disposeFilterWrapper(n,r),this.onFilterChanged({columns:[i]}))},t.prototype.disposeFilterWrapper=function(i,r){var n=this;i.filterPromise.then(function(s){(s.setModel(null)||nt.resolve()).then(function(){n.getContext().destroyBean(s),i.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(i.column.getColId()),n.eventService.dispatchEvent({type:g.EVENT_FILTER_DESTROYED,source:r,column:i.column})})})},t.prototype.destroy=function(){var i=this;o.prototype.destroy.call(this),this.allColumnFilters.forEach(function(r){return i.disposeFilterWrapper(r,"gridDestroyed")})},t.QUICK_FILTER_SEPARATOR="\n",ui([h("valueService")],t.prototype,"valueService",void 0),ui([h("columnModel")],t.prototype,"columnModel",void 0),ui([h("rowModel")],t.prototype,"rowModel",void 0),ui([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ui([h("rowRenderer")],t.prototype,"rowRenderer",void 0),ui([G],t.prototype,"init",null),e=ui([U("filterManager")],t)}(I),op=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ko=function(o){function t(e,i){var r=o.call(this,e)||this;return r.ctrl=i,r}return op(t,o),t.prototype.getCtrl=function(){return this.ctrl},t}(oe),sp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ap=function(o){function t(e){return o.call(this,t.TEMPLATE,e)||this}return sp(t,o),t.prototype.postConstruct=function(){var e=this,i=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(n,s){return e.addOrRemoveCssClass(n,s)},addOrRemoveBodyCssClass:function(n,s){return e.eFloatingFilterBody.classList.toggle(n,s)},setButtonWrapperDisplayed:function(n){return le(e.eButtonWrapper,n)},setCompDetails:function(n){return e.setCompDetails(n)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(n){return i.style.width=n},setMenuIcon:function(n){return e.eButtonShowMainFilter.appendChild(n)}},i,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var i=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(r){return i.afterCompCreated(r)})},t.prototype.afterCompCreated=function(e){var i=this;e&&(this.addDestroyFunc(function(){return i.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',qr([H("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),qr([H("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),qr([H("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),qr([G],t.prototype,"postConstruct",null),t}(ko),lp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fe=function(o){return o.AUTO_HEIGHT="ag-layout-auto-height",o.NORMAL="ag-layout-normal",o.PRINT="ag-layout-print",o}(Fe||{}),Uo=function(o){function t(e){var i=o.call(this)||this;return i.view=e,i}return lp(t,o),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),i={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(i.autoHeight?Fe.AUTO_HEIGHT:i.print?Fe.PRINT:Fe.NORMAL,i)},t.prototype.getDomLayout=function(){var e,i=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(i)?(te(function(){return console.warn("AG Grid: "+i+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):i},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(I),dp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xr=function(){return Xr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Xr.apply(this,arguments)},qt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},cp=function(o){function t(e){var i=o.call(this)||this;return i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.eBodyViewport=e,i.resetLastHScrollDebounced=Qe(function(){return i.eLastHScroll=null},500),i.resetLastVScrollDebounced=Qe(function(){return i.eLastVScroll=null},500),i}return dp(t,o),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(i){e.centerRowContainerCtrl=i.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),i=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHScroll.bind(this));var r=this.gridOptionsService.is("debounceVerticalScrollbar"),n=r?Qe(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?Qe(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),this.addManagedListener(i.getViewport(),"scroll",s)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?e:-e,n=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(r),a.setContainerTranslateX(r),n.setContainerTranslateX(r),s.setContainerTranslateX(r);var d=this.centerRowContainerCtrl.getViewportElement();Gr(this.eLastHScroll===d?l.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl)}},t.prototype.isControllingHScroll=function(e){return this.eLastHScroll?e===this.eLastHScroll:(this.eLastHScroll=e,!0)},t.prototype.isControllingVScroll=function(e){return this.eLastVScroll?e===this.eLastVScroll:(this.eLastVScroll=e,!0)},t.prototype.onFakeHScroll=function(){var e=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(e)&&this.onHScrollCommon(e)},t.prototype.onHScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(e)&&this.onHScrollCommon(e)},t.prototype.onHScrollCommon=function(e){var i=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",i.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Wi(e,this.enableRtl))),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){var e=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(e)&&this.onVScrollCommon(e)},t.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},t.prototype.onVScrollCommon=function(e){var i=e.scrollTop;this.shouldBlockScrollUpdate("vertical",i,!0)||(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e===this.eBodyViewport?this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=i:this.eBodyViewport.scrollTop=i,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var r=Wi(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===e&&e===r||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var i=this,r={type:g.EVENT_BODY_SCROLL,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var n=Xr(Xr({},r),{type:g.EVENT_BODY_SCROLL_END});i.eventService.dispatchEvent(n)},100)},t.prototype.shouldBlockScrollUpdate=function(e,i,r){return void 0===r&&(r=!1),!(r&&!Kt())&&("vertical"===e?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i))},t.prototype.shouldBlockVerticalScroll=function(e){var i=Vi(this.eBodyViewport);return e<0||e+i>this.eBodyViewport.scrollHeight},t.prototype.shouldBlockHorizontalScroll=function(e){var i=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Bi()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>r},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&Bi()?e>0?0:r:Math.min(Math.max(e,0),r)),Gr(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,i){void 0===i&&(i=null);for(var r=this.rowModel.getRowCount(),n=-1,s=0;s<r;s++){var a=this.rowModel.getRow(s);if("function"==typeof e){if(a&&e(a)){n=s;break}}else if(e===a||e===a.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,i)},t.prototype.ensureIndexVisible=function(e,i){if(!this.gridOptionsService.isDomLayout("print")){var r=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=r)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);var d,l=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),u=this.paginationProxy.getRow(e);do{var c=u.rowTop,p=u.rowHeight,y=this.paginationProxy.getPixelOffset(),S=u.rowTop-y,_=S+u.rowHeight,E=this.getVScrollPosition(),O=this.heightScaler.getDivStretchOffset(),D=E.top+O,L=E.bottom+O,N=L-D,j=this.heightScaler.getScrollPositionForPixel(S),X=this.heightScaler.getScrollPositionForPixel(_-N),Z=Math.min((j+X)/2,S),re=null;"top"===i?re=j:"bottom"===i?re=X:"middle"===i?re=Z:D+l>S?re=j-l:L<_&&(re=X),null!==re&&(this.eBodyViewport.scrollTop=re,this.rowRenderer.redrawAfterScroll()),d=c!==u.rowTop||p!==u.rowHeight}while(d);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,i){void 0===i&&(i="auto");var r=this.columnModel.getGridColumn(e);if(r&&!r.isPinned()&&this.columnModel.isColumnDisplayed(r)){var n=this.getPositionedHorizontalScroll(r,i);null!==n&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,i){var r=this.isColumnOutsideViewport(e),n=r.columnBeforeStart,s=r.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,d=(u?n:s)||a,c=u?s:n;"auto"!==i&&(d="start"===i,c="end"===i);var p="middle"===i;if(d||c||p){var y=this.getColumnBounds(e),S=y.colLeft,E=y.colRight;return p?y.colMiddle-l/2:d?u?E:S:u?S-l:E-l}return null},t.prototype.isColumnOutsideViewport=function(e){var i=this.getViewportBounds(),r=i.start,n=i.end,s=this.getColumnBounds(e),a=s.colLeft,l=s.colRight,u=this.enableRtl;return{columnBeforeStart:u?r>l:n<l,columnAfterEnd:u?n<a:r>a}},t.prototype.getColumnBounds=function(e){var i=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),a=i?-1:1,l=i?r-s:s;return{colLeft:l,colMiddle:l+n/2*a,colRight:l+n*a}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:i,end:e+i,width:e}},qt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),qt([h("animationFrameService")],t.prototype,"animationFrameService",void 0),qt([h("paginationProxy")],t.prototype,"paginationProxy",void 0),qt([h("rowModel")],t.prototype,"rowModel",void 0),qt([h("rowContainerHeightService")],t.prototype,"heightScaler",void 0),qt([h("rowRenderer")],t.prototype,"rowRenderer",void 0),qt([h("columnModel")],t.prototype,"columnModel",void 0),qt([G],t.prototype,"postConstruct",null),t}(I),pp=function(){function o(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return o.prototype.check=function(t,e){void 0===e&&(e=!1);var i=e||this.shouldSkipVerticalScroll();if(!i||!this.shouldSkipHorizontalScroll()){var r=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=t.clientX<r.left+n,this.tickRight=t.clientX>r.right-n,this.tickUp=t.clientY<r.top+n&&!i,this.tickDown=t.clientY>r.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},o.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},o.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-t),this.tickRight&&this.setHorizontalPosition(i+t)}this.onScrollCallback&&this.onScrollCallback()},o.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},o}(),hp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zo=function(){return zo=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},zo.apply(this,arguments)},vt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},fp=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},gp=function(o){function t(e){var i=o.call(this)||this;return i.isMultiRowDrag=!1,i.isGridSorted=!1,i.isGridFiltered=!1,i.isRowGroupActive=!1,i.eContainer=e,i}return hp(t,o),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var i=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,g.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_MODEL_UPDATED,function(){i()}),i(),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new pp({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(n){return r.getScrollFeature().setVerticalScrollPosition(n)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Le(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Ze.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?Ve.ICON_NOT_ALLOWED:Ve.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var i=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var r=this.gridOptionsService.is("rowDragMultiRow"),n=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(fp(arguments[t]));return o}(this.selectionService.getSelectedNodes()).sort(function(a,l){return null==a.rowIndex||null==l.rowIndex?0:i.getRowIndexNumber(a)-i.getRowIndexNumber(l)}),s=e.dragItem.rowNode;return r&&-1!==n.indexOf(s)?(this.isMultiRowDrag=!0,n):(this.isMultiRowDrag=!1,[s])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(g.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(i){i.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(g.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var i=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,i){var r=this.isFromThisGrid(e),n=this.gridOptionsService.is("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],i):this.moveRows(s,i))},t.prototype.getRowIndexNumber=function(e){return parseInt(fe(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var i=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),n=r&&r.highlighted===Ti.Below,s=this.mouseEventService.getNormalisedPosition(e).y,a=e.dragItem.rowNodes,l=n?1:0;if(this.isFromThisGrid(e))a.forEach(function(c){c.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getRowIdFunc(),d=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Ti.Above&&d--,this.clientSideRowModel.updateRowData({add:a.map(function(c){return c.data}).filter(function(c){return!i.clientSideRowModel.getRowNode(u?u({data:c,level:0}):c.id)}),addIndex:d})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,i,r){void 0===r&&(r=0),this.clientSideRowModel.ensureRowsAtPixel(e,i,r)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var i=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var r={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,r=e):(e.onDragEnter&&(r.onDragEnter=function(n){e.onDragEnter(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_ENTER,n))}),e.onDragLeave&&(r.onDragLeave=function(n){e.onDragLeave(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_LEAVE,n))}),e.onDragging&&(r.onDragging=function(n){e.onDragging(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_MOVE,n))}),e.onDragStop&&(r.onDragStop=function(n){e.onDragStop(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(zo({isInterestedIn:function(n){return n===Ze.RowDrag},getIconName:function(){return Ve.ICON_MOVE},external:!0},r))}else te(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var i=this,r=this.getContainer.bind(this),n=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:r,onDragEnter:e.onDragEnter?function(u){n(u),e.onDragEnter(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_ENTER,u))}:n,onDragLeave:e.onDragLeave?function(u){s(u),e.onDragLeave(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:e.onDragging?function(u){a(u),e.onDragging(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(i.draggingToRowDragEvent(g.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:r,onDragEnter:n,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,i){var a,l,r=this.mouseEventService.getNormalisedPosition(i).y,s=-1;switch(r>this.paginationProxy.getCurrentPageHeight()||(s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s)),i.vDirection){case qi.Down:l="down";break;case qi.Up:l="up";break;default:l=null}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:s,overNode:a,y:r,vDirection:l}},t.prototype.dispatchGridEvent=function(e,i){var r=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(r)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(g.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(g.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(i){i.setDragging(!1)})},vt([h("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vt([h("rowModel")],t.prototype,"rowModel",void 0),vt([h("paginationProxy")],t.prototype,"paginationProxy",void 0),vt([h("columnModel")],t.prototype,"columnModel",void 0),vt([h("focusService")],t.prototype,"focusService",void 0),vt([h("sortController")],t.prototype,"sortController",void 0),vt([h("filterManager")],t.prototype,"filterManager",void 0),vt([h("selectionService")],t.prototype,"selectionService",void 0),vt([h("mouseEventService")],t.prototype,"mouseEventService",void 0),vt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),vt([ve("rangeService")],t.prototype,"rangeService",void 0),vt([G],t.prototype,"postConstruct",null),t}(I),yp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},er=function(o){return o.ANIMATION_ON="ag-row-animation",o.ANIMATION_OFF="ag-row-no-animation",o}(er||{}),dl="ag-selectable",cl="ag-force-vertical-scroll",mp=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return yp(t,o),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,i,r,n,s,a){this.comp=e,this.eGridBody=i,this.eBodyViewport=r,this.eTop=n,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Uo(this.comp)),this.bodyScrollFeature=this.createManagedBean(new cp(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,g.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var i=this;e.forEach(function(r){i.addManagedListener(r,"focusin",function(n){var a=ri(n.target,"ag-root",r);r.classList.toggle("ag-has-focus",!a)}),i.addManagedListener(r,"focusout",function(n){var s=n.target,a=n.relatedTarget,l=r.contains(a),u=ri(a,"ag-root",r);ri(s,"ag-root",r)||(!l||u)&&r.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss(e?dl:null,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);var i=e&&this.gridOptionsService.getScrollbarWidth()||0,r=Gi()?16:0;this.comp.setBodyViewportWidth("calc(100% + "+(i+r)+"px)")},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var i=function(n){var s=n.relatedTarget;if(null!==Lr(s)){var a=r.some(function(u){return u.contains(s)})&&e.mouseEventService.isElementInThisGrid(s);if(!a){var l=e.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach(function(n){return e.addManagedListener(n,"focusout",i)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===i?-1:e+i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowVerticalScroll"),i=e?cl:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||r&&Ca(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,i=function(){var r=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(r?er.ANIMATION_ON:er.ANIMATION_OFF,r)};i(),this.addManagedListener(this.eventService,g.EVENT_HEIGHT_SCALE_CHANGED,i),this.addManagedPropertyListener("animateRows",i)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this,i=function(r,n,s){if(r||s){e.gridOptionsService.is("preventDefaultOnContextMenu")&&(r||s).preventDefault();var l=(r||n).target;(l===e.eBodyViewport||l===e.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&e.contextMenuFactory&&(r?e.contextMenuFactory.onContextMenu(r,null,null,null,null,e.eGridBody):s&&e.contextMenuFactory.onContextMenu(null,s,null,null,null,e.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",i),this.mockContextMenuForIPad(i),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},t.prototype.mockContextMenuForIPad=function(e){if(Kt()){var i=new ot(this.eBodyViewport);this.addManagedListener(i,ot.EVENT_LONG_TAP,function(n){e(void 0,n.touchStart,n.touchEvent)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new gp(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,i=e.getPinnedTopTotalHeight();i&&(i+=1);var r=e.getPinnedBottomTotalHeight();r&&(r+=1),this.comp.setTopHeight(i),this.comp.setBottomHeight(r),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var i=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+i+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var i=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;i>0&&(n+=i+1),r>0&&(n+=r+1),this.comp.setStickyTopTop(n+"px")},t.prototype.sizeColumnsToFit=function(e,i){var r=this,s=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,l=Ir(this.eGridBody)-s;l>0?this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e):void 0===i?window.setTimeout(function(){r.sizeColumnsToFit(e,100)},0):100===i?window.setTimeout(function(){r.sizeColumnsToFit(e,500)},100):500===i?window.setTimeout(function(){r.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},gt([h("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),gt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),gt([h("columnModel")],t.prototype,"columnModel",void 0),gt([h("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),gt([ve("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),gt([h("headerNavigationService")],t.prototype,"headerNavigationService",void 0),gt([h("dragAndDropService")],t.prototype,"dragAndDropService",void 0),gt([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),gt([h("rowRenderer")],t.prototype,"rowRenderer",void 0),gt([h("popupService")],t.prototype,"popupService",void 0),gt([h("mouseEventService")],t.prototype,"mouseEventService",void 0),gt([h("rowModel")],t.prototype,"rowModel",void 0),t}(I),Ko=function(o){return o[o.FILL=0]="FILL",o[o.RANGE=1]="RANGE",o}(Ko||{}),tr=function(o){return o[o.VALUE=0]="VALUE",o[o.DIMENSION=1]="DIMENSION",o}(tr||{}),ir="ag-cell-range-selected",Pp=function(){function o(t,e){this.beans=t,this.cellCtrl=e}return o.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},o.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ir,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(ir+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(ir+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(ir+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(ir+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Ci(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},o.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),r=!e&&t.right,n=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)},o.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},o.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(i){return ct([tr.DIMENSION,tr.VALUE],i.type)})},o.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},o.prototype.getRangeBorders=function(){var c,p,t=this,e=this.beans.gridOptionsService.is("enableRtl"),i=!1,r=!1,n=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,d=l.columnModel;e?(c=d.getDisplayedColAfter(a),p=d.getDisplayedColBefore(a)):(c=d.getDisplayedColBefore(a),p=d.getDisplayedColAfter(a));var y=u.getCellRanges().filter(function(D){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),D)});c||(s=!0),p||(r=!0);for(var S=0;S<y.length&&!(i&&r&&n&&s);S++){var _=y[S],E=u.getRangeStartRow(_),O=u.getRangeEndRow(_);!i&&this.beans.rowPositionUtils.sameRow(E,this.cellCtrl.getCellPosition())&&(i=!0),!n&&this.beans.rowPositionUtils.sameRow(O,this.cellCtrl.getCellPosition())&&(n=!0),!s&&c&&_.columns.indexOf(c)<0&&(s=!0),!r&&p&&_.columns.indexOf(p)<0&&(r=!0)}return{top:i,right:r,bottom:n,left:s}},o.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},o.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=t.rangeService,r=i.getCellRanges(),n=r.length;if(this.rangeCount<1||n<1)return!1;var s=fe(r),a=this.cellCtrl.getCellPosition(),l=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=e.is("enableRangeHandle"),d=1===n&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var p=r[0].type===tr.DIMENSION&&i.isCellInSpecificRange(a,r[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",p),d=s.type===tr.VALUE}return d&&null!=s.endRow&&i.isContiguousRange(s)&&i.isBottomRightCell(s,a)},o.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=fe(t.rangeService.getCellRanges()).type,s=e.is("enableFillHandle")&&Q(r)?Ko.FILL:Ko.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},o.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},o}(),bp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ap=function(o){function t(e,i){var r=o.call(this)||this;return r.cellCtrl=e,r.beans=i,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r.setupColSpan(),r.setupRowSpan(),r}return bp(t,o),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();zt(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,i){return e+i.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),i=[];if(1===e)i.push(this.column);else for(var r=this.column,n=this.column.getPinned(),s=0;r&&s<e&&(i.push(r),(r=this.beans.columnModel.getDisplayedColAfter(r))&&!Q(r)&&n===r.getPinned());s++);return i},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?fe(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+(e||0):i+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(I),Fp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lp=function(o){function t(e,i){var r=o.call(this)||this;return r.staticClasses=[],r.cellCtrl=e,r.beans=i,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r}return Fp(t,o),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,i=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(i.cellClassRules,r,function(n){return e.cellComp.addOrRemoveCssClass(n,!0)},function(n){return e.cellComp.addOrRemoveCssClass(n,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var i;if("function"==typeof e.cellStyle){var r={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};i=(0,e.cellStyle)(r)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}},t.prototype.applyClassesFromColDef=function(){var e=this,i=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:i,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(n){return e.cellComp.addOrRemoveCssClass(n,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(i,r),this.staticClasses.length&&this.staticClasses.forEach(function(n){return e.cellComp.addOrRemoveCssClass(n,!0)})},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(I),xp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yo=function(o){function t(e,i){var r=o.call(this)||this;return r.ctrl=e,r.beans=i,r}return xp(t,o),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Oo({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}}),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,i=e.getColumn?e.getColumn():void 0,r=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:r,column:i,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(I),ee=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},pl=function(){function o(){}return o.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},ee([h("resizeObserverService")],o.prototype,"resizeObserverService",void 0),ee([h("paginationProxy")],o.prototype,"paginationProxy",void 0),ee([h("context")],o.prototype,"context",void 0),ee([h("columnApi")],o.prototype,"columnApi",void 0),ee([h("gridApi")],o.prototype,"gridApi",void 0),ee([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),ee([h("expressionService")],o.prototype,"expressionService",void 0),ee([h("environment")],o.prototype,"environment",void 0),ee([h("rowRenderer")],o.prototype,"rowRenderer",void 0),ee([h("templateService")],o.prototype,"templateService",void 0),ee([h("valueService")],o.prototype,"valueService",void 0),ee([h("eventService")],o.prototype,"eventService",void 0),ee([h("columnModel")],o.prototype,"columnModel",void 0),ee([h("headerNavigationService")],o.prototype,"headerNavigationService",void 0),ee([h("navigationService")],o.prototype,"navigationService",void 0),ee([h("columnAnimationService")],o.prototype,"columnAnimationService",void 0),ee([ve("rangeService")],o.prototype,"rangeService",void 0),ee([h("focusService")],o.prototype,"focusService",void 0),ee([ve("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),ee([h("popupService")],o.prototype,"popupService",void 0),ee([h("valueFormatterService")],o.prototype,"valueFormatterService",void 0),ee([h("stylingService")],o.prototype,"stylingService",void 0),ee([h("columnHoverService")],o.prototype,"columnHoverService",void 0),ee([h("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ee([h("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),ee([h("animationFrameService")],o.prototype,"animationFrameService",void 0),ee([h("dragService")],o.prototype,"dragService",void 0),ee([h("dragAndDropService")],o.prototype,"dragAndDropService",void 0),ee([h("sortController")],o.prototype,"sortController",void 0),ee([h("filterManager")],o.prototype,"filterManager",void 0),ee([h("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),ee([h("frameworkOverrides")],o.prototype,"frameworkOverrides",void 0),ee([h("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),ee([h("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),ee([h("selectionService")],o.prototype,"selectionService",void 0),ee([ve("selectionHandleFactory")],o.prototype,"selectionHandleFactory",void 0),ee([h("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),ee([h("rowModel")],o.prototype,"rowModel",void 0),ee([h("ctrlsService")],o.prototype,"ctrlsService",void 0),ee([h("ctrlsFactory")],o.prototype,"ctrlsFactory",void 0),ee([h("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),ee([h("valueCache")],o.prototype,"valueCache",void 0),ee([h("rowNodeEventThrottle")],o.prototype,"rowNodeEventThrottle",void 0),ee([h("localeService")],o.prototype,"localeService",void 0),ee([G],o.prototype,"postConstruct",null),ee([U("beans")],o)}(),Mp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ip=function(o){function t(e,i,r){var n=o.call(this)||this;return n.cellCtrl=e,n.beans=i,n.column=r,n}return Mp(t,o),t.prototype.onMouseEvent=function(e,i){if(!St(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var i=this.beans,r=i.eventService,n=i.rangeService,s=i.gridOptionsService;n&&(e.ctrlKey||e.metaKey)&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);var l=this.cellCtrl.createEvent(e,g.EVENT_CELL_CLICKED);r.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0),(s.is("singleClickEdit")||u.singleClickEdit)&&!s.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!Kt()||Nn("dblclick"))return!1;var e=(new Date).getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i},t.prototype.onCellDoubleClicked=function(e){var i=this.column.getColDef(),r=this.cellCtrl.createEvent(e,g.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),"function"==typeof i.onCellDoubleClicked&&window.setTimeout(function(){return i.onCellDoubleClicked(r)},0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var i=e.ctrlKey,r=e.metaKey,n=e.shiftKey,s=e.target,a=this.beans,l=a.eventService,u=a.rangeService;if(!this.isRightClickInExistingRange(e)){var d=u&&0!=u.getCellRanges().length;if(!n||!d){var c=Rt()&&!this.cellCtrl.isEditing()&&!co(s);this.cellCtrl.focusCell(c)}if(n&&d&&e.preventDefault(),!this.containsWidget(s)){if(u){var p=this.cellCtrl.getCellPosition();n?u.extendLatestRangeToCell(p):u.setRangeToCell(p,i||r)}l.dispatchEvent(this.cellCtrl.createEvent(e,g.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var i=this.beans.rangeService;return!(!i||!i.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)},t.prototype.containsWidget=function(e){return ri(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,g.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,g.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var i=this.cellCtrl.getGui(),r=i.contains(e.target),n=i.contains(e.relatedTarget);return r&&n},t.prototype.destroy=function(){},t}(pl),Np=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gp=function(o){function t(e,i,r,n,s){var a=o.call(this)||this;return a.cellCtrl=e,a.beans=i,a.rowNode=n,a.rowCtrl=s,a}return Np(t,o),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var i=e.key;switch(i){case F.ENTER:this.onEnterKeyDown(e);break;case F.F2:this.onF2KeyDown(e);break;case F.ESCAPE:this.onEscapeKeyDown(e);break;case F.TAB:this.onTabKeyDown(e);break;case F.BACKSPACE:case F.DELETE:this.onBackspaceOrDeleteKeyPressed(i,e);break;case F.DOWN:case F.UP:case F.RIGHT:case F.LEFT:this.onNavigationKeyPressed(e,i)}},t.prototype.onNavigationKeyPressed=function(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,i){var r=this,n=r.cellCtrl,s=r.beans,a=r.rowNode,l=s.gridOptionsService,u=s.rangeService,d=s.eventService;n.isEditing()||(d.dispatchEvent({type:g.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Oa(e,l.is("enableCellEditingOnBackspace"))?u&&l.isEnableRangeSelection()?u.clearCellRangeCellValues():n.isCellEditable()&&a.setDataValue(n.getColumn(),null,"cellClear"):n.startRowOrCellEdit(e,void 0,i),d.dispatchEvent({type:g.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,F.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(F.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(F.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var n=String.fromCharCode(e.charCode);" "===n?this.onSpaceKeyPressed(e):_a(e)&&(this.cellCtrl.startRowOrCellEdit(null,n,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var i=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){var r=this.rowNode.isSelected(),n=!r;if(n||!i.is("suppressRowDeselection")){var s=this.beans.gridOptionsService.is("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spacePressed"});void 0===r&&0===a&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spacePressed"})}}e.preventDefault()},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(I),Hp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bp=function(o){function t(e,i,r,n){var s=o.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=e,s.column=i,s.beans=r,s.eCell=n,s}return Hp(t,o),t.prototype.postConstruct=function(){this.getGui().appendChild(be("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(i){i.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var i=this,r=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),r?r({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var a=JSON.stringify(i.rowNode.data);e.dataTransfer.setData("application/json",a),e.dataTransfer.setData("text/plain",a)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(oe),Wp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zr=function(){return Zr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Zr.apply(this,arguments)},Zp=0,di=function(o){function t(e,i,r,n){var s=o.call(this)||this;return s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=e,s.rowNode=i,s.beans=r,s.rowCtrl=n,s.instanceId=e.getId()+"-"+Zp++,s.createCellPosition(),s.addFeatures(),s}return Wp(t,o),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new Ap(this,this.beans),this.addDestroyFunc(function(){var r;null===(r=e.cellPositionFeature)||void 0===r||r.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new Lp(this,this.beans),this.addDestroyFunc(function(){var r;null===(r=e.cellCustomStyleFeature)||void 0===r||r.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Ip(this,this.beans,this.column),this.addDestroyFunc(function(){var r;null===(r=e.cellMouseListenerFeature)||void 0===r||r.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Gp(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var r;null===(r=e.cellKeyboardListenerFeature)||void 0===r||r.destroy(),e.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new Pp(this.beans,this),this.addDestroyFunc(function(){var r;null===(r=e.cellRangeFeature)||void 0===r||r.destroy(),e.cellRangeFeature=null})),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new Yo({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var n=e.column.getColDef(),s=e.rowNode.data;if(n.tooltipField&&x(s))return Y(s,n.tooltipField,e.column.isTooltipFieldContainsDots());var a=n.tooltipValueGetter;return a?a({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){var n;null===(n=e.tooltipFeature)||void 0===n||n.destroy(),e.tooltipFeature=null})},t.prototype.setComp=function(e,i,r,n,s){var a,l,u,d;this.cellComp=e,this.eGui=i,this.printLayout=n,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),r&&this.setupAutoHeight(r),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var c=Et(this.column.getId());this.cellComp.setColId(c),this.cellComp.setRole("gridcell"),null===(a=this.cellPositionFeature)||void 0===a||a.setComp(i),null===(l=this.cellCustomStyleFeature)||void 0===l||l.setComp(e),null===(u=this.tooltipFeature)||void 0===u||u.setComp(e),null===(d=this.cellKeyboardListenerFeature)||void 0===d||d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(p){return p()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var i=this;if(this.column.isAutoHeight()){var r=e.parentElement,n=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!i.editing&&i.isAlive()){var d=ni(r),O=e.offsetHeight+(d.paddingTop+d.paddingBottom+d.borderBottomWidth+d.borderTopWidth);if(u<5){var D=i.beans.gridOptionsService.getDocument();if(!D||!D.contains(e)||0==O)return void i.beans.frameworkOverrides.setTimeout(function(){return s(u+1)},0)}var j=Math.max(O,n);i.rowNode.setRowAutoHeight(j,i.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(e,a);this.addDestroyFunc(function(){l(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var i=null!=this.valueFormatted?this.valueFormatted:this.value,r=this.createCellRendererParams(),n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),r);this.cellComp.setRenderDetails(n,i,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||r||n},t.prototype.startEditing=function(e,i,r,n){var s=this;if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=!1),void 0===n&&(n=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){s.startEditing(e,i,r,n)});var a=this.createCellEditorParams(e,i,r),l=this.column.getColDef(),u=this.beans.userComponentFactory.getCellEditorDetails(l,a),d=null!=u?.popupFromSelector?u.popupFromSelector:!!l.cellEditorPopup,c=null!=u?.popupPositionFromSelector?u.popupPositionFromSelector:l.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(u,d,c);var p=this.createEvent(n,g.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(p)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var i={newValueExists:!1};if(e)return i;var r=this.cellComp.getCellEditor();return r?r.isCancelAfterEnd&&r.isCancelAfterEnd()?i:{newValue:r.getValue(),newValueExists:!0}:i},t.prototype.saveNewValue=function(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var i=this.takeValueFromCellEditor(e),r=i.newValue,n=i.newValueExists,s=this.getValueFromValueService(),a=!1;return n&&(a=this.saveNewValue(s,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,r,!e&&!!a),a},t.prototype.dispatchEditingStoppedEvent=function(e,i,r){var n=Zr(Zr({},this.createEvent(null,g.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(n)},t.prototype.createCellEditorParams=function(e,i,r){return{value:this.getValueFromValueService(),eventKey:e,charPress:i,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:r,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(r){return e.beans.valueService.setValue(e.rowNode,e.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,n,s,a){return e.registerRowDragger(r,n,a)}}},t.prototype.parseValue=function(e){var i=this.column.getColDef(),r={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:i,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},n=i.valueParser;return x(n)?"function"==typeof n?n(r):this.beans.expressionService.evaluate(n,r):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){var i,r,n;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var s=this.column.getColDef(),a=null!=e&&!!e.newData,l=null!=e&&!!e.suppressFlash||!!s.suppressCellFlash,d=e&&e.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||a,c=this.updateAndFormatValue();if(d||c){this.showValue(a);var y=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!y&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyUserStyles(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyClassesFromColDef()}this.refreshToolTip(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){"fullRow"===this.beans.gridOptionsService.get("editType")||this.beans.gridOptionsService.is("enterMovesDownAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,F.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,i,r){var s,a,n=this,l="ag-cell-"+e,u="ag-cell-"+e+"-animation",d=this.beans.gridOptionsService;i||(i=null!==(s=d.getNum("cellFlashDelay"))&&void 0!==s?s:500),x(r)||(r=null!==(a=d.getNum("cellFadeDelay"))&&void 0!==a?a:1e3),this.cellComp.addOrRemoveCssClass(l,!0),this.cellComp.addOrRemoveCssClass(u,!1),window.setTimeout(function(){n.isAlive()&&(n.cellComp.addOrRemoveCssClass(l,!1),n.cellComp.addOrRemoveCssClass(u,!0),n.eGui.style.transition="background-color "+r+"ms",window.setTimeout(function(){n.isAlive()&&(n.cellComp.addOrRemoveCssClass(u,!1),n.eGui.style.transition="")},r))},i)},t.prototype.onFlashCells=function(e){if(this.cellComp){var i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){return this.callValueFormatter(e)??e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var i=this.value,r=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r},t.prototype.valuesAreEqual=function(e,i){var r=this.column.getColDef();return r.equals?r.equals(e,i):e===i},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,r=this.beans.gridOptionsService.is("groupIncludeFooter"),n=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(this.column,this.rowNode,!1,i&&r&&!n)},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,i=this.getGui();this.beans.gridOptionsService.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,i){return{type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyPress=function(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyPress(e)},t.prototype.onKeyDown=function(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyDown(e)},t.prototype.onMouseEvent=function(e,i){var r;null===(r=this.cellMouseListenerFeature)||void 0===r||r.onMouseEvent(e,i)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);qn(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,i,r){void 0===r&&(r=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,i,this):this.startEditing(e,i,!0,r))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var i=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var n="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!n&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ge(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var i=this.column.getColDef(),r=this.createEvent(e,g.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),i.onCellContextMenu&&window.setTimeout(function(){return i.onCellContextMenu(r)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],o.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new nl;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new Bp(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,i,r){var n=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,i);else{var s=this.createRowDragComp(e,i,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){n.beans.context.destroyBean(s),n.customRowDragComp=null}))}},t.prototype.createRowDragComp=function(e,i,r){var n=this,s=this.beans.gridOptionsService.is("pagination"),a=this.beans.gridOptionsService.is("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l)return void te(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(s)return void te(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var u=new Kr(function(){return n.value},this.rowNode,this.column,e,i,r);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(I),Jp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eh=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},at=function(o){return o.Normal="Normal",o.FullWidth="FullWidth",o.FullWidthLoading="FullWidthLoading",o.FullWidthGroup="FullWidthGroup",o.FullWidthDetail="FullWidthDetail",o}(at||{}),ih=0,ci=function(o){function t(e,i,r,n,s){var a=o.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.updateColumnListsPending=!1,a.businessKeySanitised=null,a.beans=i,a.rowNode=e,a.paginationPage=a.beans.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=n,a.printLayout=s,a.instanceId=e.id+"-"+ih++,a.setAnimateFlags(r),a.initRowBusinessKey(),a.rowFocused=a.beans.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=a.beans.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.addListeners(),a}return Jp(t,o),t.prototype.initRowBusinessKey=function(){var e=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"==typeof e){var i=e(this.rowNode);this.businessKeySanitised=Et(i)}},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,i,r){var n={rowComp:e,element:i,containerType:r};this.allRowGuis.push(n),r===Ue.LEFT?this.leftGui=n:r===Ue.RIGHT?this.rightGui=n:r===Ue.FULL_WIDTH?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){this.allRowGuis=this.allRowGuis.filter(function(i){return i.containerType!==e}),e===Ue.LEFT?this.leftGui=void 0:e===Ue.RIGHT?this.rightGui=void 0:e===Ue.FULL_WIDTH&&(this.fullWidthGui=void 0)},t.prototype.isCacheable=function(){return this.rowType===at.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},t.prototype.setCached=function(e){var i=e?"none":"";this.allRowGuis.forEach(function(r){return r.element.style.display=i})},t.prototype.initialiseRowComp=function(e){var i=this,r=this.beans.gridOptionsService;this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(e),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var n=e.rowComp;n.setRole("row"),this.getInitialRowClasses(e.containerType).forEach(function(l){return n.addOrRemoveCssClass(l,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&mt(e.element,1==this.rowNode.expanded);var a=Et(this.rowNode.id);null!=a&&n.setRowId(a),null!=this.businessKeySanitised&&n.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&n.setTabIndex(-1),r.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return r.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),r.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){i.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.executeSlideAndFadeAnimations=function(e){var i=this,r=e.containerType;this.slideInAnimation[r]&&(Lt(function(){i.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(Lt(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.beans.gridOptionsService.isEnableRangeSelection())te(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var i=this.beans.localeService.getLocaleTextFunc(),r=new Kr(function(){return"1 "+i("rowDragRow","row")},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(r,this.beans.context)}},t.prototype.setupFullWidth=function(e){var i=this.getPinnedForContainer(e.containerType),r=this.createFullWidthParams(e.element,i);if(this.rowType!=at.FullWidthDetail||q.assertRegistered(k.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var n;switch(this.rowType){case at.FullWidthDetail:n=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case at.FullWidthGroup:n=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case at.FullWidthLoading:n=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:n=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r)}e.rowComp.showFullWidth(n)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,i;return null===(i=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===i?void 0:i.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var i=this.getCellCtrl(e);return i?i.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e,i=this.beans.gridOptionsService.getCallback("processRowPostCreate");i&&this.areAllContainersReady()&&i({eRow:null===(e=this.centerGui)||void 0===e?void 0:e.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&r},t.prototype.setRowType=function(){var e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsService.isGroupUseEntireRow(n);this.rowType=e?at.FullWidthLoading:r?at.FullWidthDetail:i?at.FullWidth:a?at.FullWidthGroup:at.Normal},t.prototype.updateColumnLists=function(e){var i=this;if(void 0===e&&(e=!1),!this.isFullWidth()){if(e||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,i,r){var n=this;void 0===r&&(r=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return i.forEach(function(l){var u=l.getInstanceId(),d=e.map[u];d||(d=new di(l,n.rowNode,n.beans,n)),a(u,d)}),e.list.forEach(function(l){if(null==s.map[l.getColumn().getInstanceId()]){if(!n.isCellEligibleToBeRemoved(l,r))return void a(l.getColumn().getInstanceId(),l);l.destroy()}}),s},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var r=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);var n=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");var s=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}this.allRowGuis.forEach(function(a){a.rowComp.setCellCtrls((a.containerType===Ue.LEFT?e.leftCellCtrls:a.containerType===Ue.RIGHT?e.rightCellCtrls:e.centerCellCtrls).list)})},t.prototype.isCellEligibleToBeRemoved=function(e,i){var r=!0;if(e.getColumn().getPinned()!=i)return r;var a=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition());if(a||l){var d=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(d)>=0)&&r}return r},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var i=x(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();i?(this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=n):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=n)}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==at.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,i=function(u,d){if(!u)return!0;var c=u.rowComp.getFullWidthCellRenderer();if(!c||!c.refresh)return!1;var p=e.createFullWidthParams(u.element,d);return c.refresh(p)},r=i(this.fullWidthGui,null),n=i(this.centerGui,null),s=i(this.leftGui,"left"),a=i(this.rightGui,"right");return r&&n&&s&&a},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,ue.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,ue.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,ue.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ue.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,g.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,g.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,g.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,g.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(i,g.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(i,g.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,g.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(i,g.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,ue.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ue.EVENT_CELL_CHANGED,function(i){e.getAllCellCtrls().forEach(function(r){return r.onCellChanged(i)})})},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(i){return i.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(i){var n=e===Ti.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Ti.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),mt(r.element,e&&i)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:Ge(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var i=this.allRowGuis.find(function(u){return u.element.contains(e.target)});if((i?i.element:null)===e.target){var s=this.rowNode,a=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!St(e)){var i=this.allRowGuis.find(function(a){return a.element.contains(e.target)}),r=i?i.element:null,n=r===e.target,s=null;n||(s=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var i,r=this.rowNode,n=!!e&&this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&s.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,i){var r={list:[],map:{}};return e.list.forEach(function(n){n!==i&&(r.list.push(n),r.map[n.getInstanceId()]=n)}),r},t.prototype.onMouseEvent=function(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}},t.prototype.createRowEvent=function(e,i){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:i}},t.prototype.createRowEventWithSource=function(e,i){var r=this.createRowEvent(e,i);return r.source=this,r},t.prototype.onRowDblClick=function(e){if(!St(e)){var i=this.createRowEventWithSource(g.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=ri(e.target,"ag-row-drag",3),this.isFullWidth()){var i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!St(e)&&!this.lastMouseDownOnDragger){var r=this.createRowEventWithSource(g.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);var n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(!(this.beans.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var l=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),u=!this.beans.gridOptionsService.is("suppressRowDeselection"),d="rowClicked";this.rowNode.isSelected()?l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:d}):n?u&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!n,rangeSelect:s,event:e,source:d})}}},t.prototype.setupDetailRowAutoHeight=function(e){var i=this;if(this.rowType===at.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var r=function(){var s=e.clientHeight;null!=s&&s>0&&i.beans.frameworkOverrides.setTimeout(function(){i.rowNode.setRowHeight(s),i.beans.clientSideRowModel?i.beans.clientSideRowModel.onRowHeightChanged():i.beans.serverSideRowModel&&i.beans.serverSideRowModel.onRowHeightChanged()},0)},n=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc(n),r()}},t.prototype.createFullWidthParams=function(e,i){var r=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return r.addFullWidthRowDragging(s,a,l,u)}}},t.prototype.addFullWidthRowDragging=function(e,i,r,n){if(void 0===r&&(r=""),this.isFullWidth()){var s=new Kr(function(){return r},this.rowNode,void 0,e,i,n);this.createManagedBean(s,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var i="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass(i,!0),n.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-last",i)}))},t.prototype.stopEditing=function(e){var i,r;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var n=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],i=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),u=l.next();!u.done;u=l.next()){var c=u.value.stopEditing(e);s&&!e&&!a&&c&&(a=!0)}}catch(y){i={error:y}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}if(a){var p=this.createRowEvent(g.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(p)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var i=this.createRowEvent(e?g.EVENT_ROW_EDITING_STARTED:g.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)},t.prototype.startRowEditing=function(e,i,r,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=null),this.editingRow||this.getAllCellCtrls().reduce(function(a,l){var u=l===r;return u?l.startEditing(e,i,u,n):l.startEditing(null,null,u,n),!!a||l.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;var e=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(eh(arguments[t]));return o}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(function(r){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(r,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(i){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!0)})},function(i){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!1)})})},t.prototype.setStylesFromGridOptions=function(e){var i=this.processStylesFromGridOptions();this.forEachGui(e,function(r){return r.rowComp.setUserStyles(i)})},t.prototype.getPinnedForContainer=function(e){return e===Ue.LEFT?"left":e===Ue.RIGHT?"right":null},t.prototype.getInitialRowClasses=function(e){var i=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsService.get("rowStyle");if(!e||"function"!=typeof e){var r,i=this.beans.gridOptionsService.getCallback("getRowStyle");return i&&(r=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},e,r)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var i=this,r=!!this.rowNode.isSelected();this.forEachGui(e,function(n){n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Ci(n.element,!!r||void 0);var s=i.createAriaLabel();ii(n.element,s??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var i=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return i.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ue.EVENT_MOUSE_ENTER,function(){!i.beans.dragService.isDragging()&&!i.beans.gridOptionsService.is("suppressRowHoverHighlight")&&e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,ue.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.applyPaginationOffset(r.top,!0)-100,s=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(n,e),s)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,i){(e?[e]:this.allRowGuis).forEach(i)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),s=this.beans.gridOptionsService.isGetRowHeightFunction()?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(r,s)-2+"px":void 0;this.forEachGui(e,function(l){l.element.style.height=i+"px",a&&l.element.style.setProperty("--ag-line-height",a)})}},t.prototype.addEventListener=function(e,i){o.prototype.addEventListener.call(this,e,i)},t.prototype.removeEventListener=function(e,i){o.prototype.removeEventListener.call(this,e,i)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(g.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),o.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(i){return i.list.forEach(function(r){return r.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var i=this;this.forEachGui(e,function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,i){return void 0===i&&(i=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&x(e)){var i=this.applyPaginationOffset(e),r=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i);this.setRowTopStyle(r+"px")}},t.prototype.getInitialRowTop=function(e){return this.beans.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.beans.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(e)+")"},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return i+"px"},t.prototype.setRowTopStyle=function(e){var i=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(r){return i?r.rowComp.setTop(e):r.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var i=null;return this.getAllCellCtrls().forEach(function(r){r.getColumn()==e&&(i=r)}),null!=i||this.getAllCellCtrls().forEach(function(r){r.getColSpanningList().indexOf(e)>=0&&(i=r)}),i},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(e){var i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount(),n=this.rowNode.rowIndex%2==0,s=r+this.rowNode.rowIndex+1;this.forEachGui(e,function(a){a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",n),a.rowComp.addOrRemoveCssClass("ag-row-odd",!n),Qn(a.element,s)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(I),rh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},oh=function(o){function t(e){var i=o.call(this)||this;return i.element=e,i}return rh(t,o),t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(r){var n=e.processKeyboardEvent.bind(e,r);e.addManagedListener(e.element,r,n)})},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",Nn("touchstart")?"touchstart":"mousedown"].forEach(function(n){var s=e.processMouseEvent.bind(e,n);e.addManagedListener(e.element,n,s)})},t.prototype.processMouseEvent=function(e,i){if(this.mouseEventService.isEventFromThisGrid(i)&&!St(i)){var r=this.getRowForEvent(i),n=this.mouseEventService.getRenderedCellForEvent(i);"contextmenu"===e?this.handleContextMenuMouseEvent(i,null,r,n):(n&&n.onMouseEvent(e,i),r&&r.onMouseEvent(e,i))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(Kt()){var i=new ot(this.element);this.addManagedListener(i,ot.EVENT_LONG_TAP,function(n){var s=e.getRowForEvent(n.touchEvent),a=e.mouseEventService.getRenderedCellForEvent(n.touchEvent);e.handleContextMenuMouseEvent(null,n.touchEvent,s,a)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.getRowForEvent=function(e){for(var i=e.target;i;){var r=this.gridOptionsService.getDomData(i,ci.DOM_DATA_KEY_ROW_CTRL);if(r)return r;i=i.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,i,r,n){var s=r?r.getRowNode():null,a=n?n.getColumn():null,l=null;a&&(n.dispatchCellContextMenuEvent(e||i),l=this.valueService.getValue(a,s));var d=this.ctrlsService.getGridBodyCtrl(),c=n?n.getGui():d.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,i,s,a,l,c)},t.prototype.processKeyboardEvent=function(e,i){var r=Or(this.gridOptionsService,i,di.DOM_DATA_KEY_CELL_CTRL),n=Or(this.gridOptionsService,i,ci.DOM_DATA_KEY_ROW_CTRL);i.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,i):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,i))},t.prototype.processCellKeyboardEvent=function(e,i,r){var n=e.getRowNode(),s=e.getColumn(),a=e.isEditing();if(!Hr(this.gridOptionsService,r,n,s,a))switch(i){case"keydown":!a&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing());break;case"keypress":e.onKeyPress(r)}if("keydown"===i){var d=e.createEvent(r,g.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(d)}if("keypress"===i){var c=e.createEvent(r,g.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(c)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,i,r){var n=e.getRowNode(),s=this.focusService.getFocusedCell();if(!Hr(this.gridOptionsService,r,n,s&&s.column,!1)&&"keydown"===i)switch(r.key){case F.PAGE_HOME:case F.PAGE_END:this.navigationService.handlePageScrollingKey(r);break;case F.UP:case F.DOWN:e.onKeyboardNavigate(r);break;case F.TAB:e.onTabKeyDown(r)}if("keydown"===i){var d=e.createRowEvent(g.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(d)}if("keypress"===i){var c=e.createRowEvent(g.EVENT_CELL_KEY_PRESS,r);this.eventService.dispatchEvent(c)}},t.prototype.doGridOperations=function(e,i){if((e.ctrlKey||e.metaKey)&&!i&&this.mouseEventService.isEventFromThisGrid(e)){var r=Ra(e);if(r===F.A)return this.onCtrlAndA(e);if(r===F.C)return this.onCtrlAndC(e);if(r===F.X)return this.onCtrlAndX(e);if(r===F.V)return this.onCtrlAndV();if(r===F.D)return this.onCtrlAndD(e);if(r===F.Z)return this.onCtrlAndZ(e);if(r===F.Y)return this.onCtrlAndY()}},t.prototype.onCtrlAndA=function(e){var i=this,r=i.pinnedRowModel,s=i.rangeService;if(s&&i.paginationProxy.isRowsToRender()){var a=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n}([r.isEmpty("top"),r.isEmpty("bottom")],2),d=a[0]?null:"top",c=void 0,p=void 0;a[1]?(c=null,p=this.paginationProxy.getRowCount()-1):(c="bottom",p=r.getPinnedBottomRowData().length-1);var y=this.columnModel.getAllDisplayedColumns();if(Le(y))return;s.setCellRange({rowStartIndex:0,rowStartPinned:d,rowEndIndex:p,rowEndPinned:c,columnStart:y[0],columnEnd:fe(y)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndX=function(e){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard")||(this.clipboardService.cutToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){q.isRegistered(k.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){q.isRegistered(k.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},lt([h("mouseEventService")],t.prototype,"mouseEventService",void 0),lt([h("valueService")],t.prototype,"valueService",void 0),lt([ve("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),lt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),lt([h("navigationService")],t.prototype,"navigationService",void 0),lt([h("focusService")],t.prototype,"focusService",void 0),lt([h("undoRedoService")],t.prototype,"undoRedoService",void 0),lt([h("columnModel")],t.prototype,"columnModel",void 0),lt([h("paginationProxy")],t.prototype,"paginationProxy",void 0),lt([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),lt([ve("rangeService")],t.prototype,"rangeService",void 0),lt([ve("clipboardService")],t.prototype,"clipboardService",void 0),lt([G],t.prototype,"postConstruct",null),t}(I),sh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ah=function(o){function t(e){var i=o.call(this)||this;return i.centerContainerCtrl=e,i}return sh(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,g.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,i=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(i),this.gridBodyCtrl.registerBodyViewportResizeListener(i)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var i=Vi(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==i&&(this.bodyHeight=i,this.eventService.dispatchEvent({type:g.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,i)},Jr([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Jr([h("columnModel")],t.prototype,"columnModel",void 0),Jr([h("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Jr([G],t.prototype,"postConstruct",null),t}(I),lh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},uh=function(o){function t(e){var i=o.call(this)||this;return i.element=e,i}return lh(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,g.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth();le(this.element,e>0),ht(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},hl([h("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),hl([G],t.prototype,"postConstruct",null),t}(I),dh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ch=function(o){function t(e){var i=o.call(this)||this;return i.element=e,i}return dh(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,g.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth();le(this.element,e>0),ht(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},fl([h("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),fl([G],t.prototype,"postConstruct",null),t}(I),ph=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},gl=function(o){function t(e,i){var r=o.call(this)||this;return r.eContainer=e,r.eWrapper=i,r}return ph(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,g.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),i=null!=e?e+"px":"";this.eContainer.style.height=i,this.eWrapper&&(this.eWrapper.style.height=i)},vl([h("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),vl([G],t.prototype,"postConstruct",null),t}(I),hh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qo=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},fh=function(o){function t(e){var i=o.call(this)||this;return i.eContainer=e,i}return hh(t,o),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsService.isEnableRangeSelection()&&!Q(this.rangeService)){var i={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(i),this.addDestroyFunc(function(){return e.dragService.removeDragSource(i)})}},Qo([ve("rangeService")],t.prototype,"rangeService",void 0),Qo([h("dragService")],t.prototype,"dragService",void 0),Qo([G],t.prototype,"postConstruct",null),t}(I),vh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},qo=function(o){function t(e){var i=o.call(this)||this;return i.callback=e,i}return vh(t,o),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,i=this.gridOptionsService.isDomLayout("print"),r=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();this.callback(i?r+n+s:r)},yl([h("columnModel")],t.prototype,"columnModel",void 0),yl([G],t.prototype,"postConstruct",null),t}(I),gh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pi=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},yh=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},A=function(o){return o.LEFT="left",o.RIGHT="right",o.CENTER="center",o.FULL_WIDTH="fullWidth",o.TOP_LEFT="topLeft",o.TOP_RIGHT="topRight",o.TOP_CENTER="topCenter",o.TOP_FULL_WIDTH="topFullWidth",o.STICKY_TOP_LEFT="stickyTopLeft",o.STICKY_TOP_RIGHT="stickyTopRight",o.STICKY_TOP_CENTER="stickyTopCenter",o.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",o.BOTTOM_LEFT="bottomLeft",o.BOTTOM_RIGHT="bottomRight",o.BOTTOM_CENTER="bottomCenter",o.BOTTOM_FULL_WIDTH="bottomFullWidth",o}(A||{}),Ue=function(o){return o.LEFT="left",o.RIGHT="right",o.CENTER="center",o.FULL_WIDTH="fullWidth",o}(Ue||{}),wh=xt([[A.CENTER,"ag-center-cols-container"],[A.LEFT,"ag-pinned-left-cols-container"],[A.RIGHT,"ag-pinned-right-cols-container"],[A.FULL_WIDTH,"ag-full-width-container"],[A.TOP_CENTER,"ag-floating-top-container"],[A.TOP_LEFT,"ag-pinned-left-floating-top"],[A.TOP_RIGHT,"ag-pinned-right-floating-top"],[A.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[A.STICKY_TOP_CENTER,"ag-sticky-top-container"],[A.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[A.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[A.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[A.BOTTOM_CENTER,"ag-floating-bottom-container"],[A.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[A.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[A.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Sh=xt([[A.CENTER,"ag-center-cols-viewport"],[A.TOP_CENTER,"ag-floating-top-viewport"],[A.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[A.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),_h=xt([[A.CENTER,"ag-center-cols-clipper"]]),Cl=function(o){function t(e){var i=o.call(this)||this;return i.visible=!0,i.EMPTY_CTRLS=[],i.name=e,i.isFullWithContainer=i.name===A.TOP_FULL_WIDTH||i.name===A.STICKY_TOP_FULL_WIDTH||i.name===A.BOTTOM_FULL_WIDTH||i.name===A.FULL_WIDTH,i}return gh(t,o),t.getRowContainerCssClasses=function(e){return{container:wh.get(e),viewport:Sh.get(e),wrapper:_h.get(e)}},t.getPinned=function(e){switch(e){case A.BOTTOM_LEFT:case A.TOP_LEFT:case A.STICKY_TOP_LEFT:case A.LEFT:return"left";case A.BOTTOM_RIGHT:case A.TOP_RIGHT:case A.STICKY_TOP_RIGHT:case A.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([A.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new ah(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case A.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case A.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case A.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case A.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case A.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case A.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case A.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case A.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case A.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case A.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case A.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case A.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,i){e.indexOf(this.name)>=0&&i()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,i,r,n){var s=this;this.comp=e,this.eContainer=i,this.eViewport=r,this.eWrapper=n,this.createManagedBean(new oh(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var c=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(yh(arguments[t]));return o}([A.TOP_CENTER,A.TOP_LEFT,A.TOP_RIGHT],[A.BOTTOM_CENTER,A.BOTTOM_LEFT,A.BOTTOM_RIGHT],[A.CENTER,A.LEFT,A.RIGHT],[A.STICKY_TOP_CENTER,A.STICKY_TOP_LEFT,A.STICKY_TOP_RIGHT]),p=[A.CENTER,A.LEFT,A.RIGHT,A.FULL_WIDTH],y=[A.CENTER,A.TOP_CENTER,A.STICKY_TOP_CENTER,A.BOTTOM_CENTER],_=[A.RIGHT,A.BOTTOM_RIGHT,A.TOP_RIGHT,A.STICKY_TOP_RIGHT];this.forContainers([A.LEFT,A.BOTTOM_LEFT,A.TOP_LEFT,A.STICKY_TOP_LEFT],function(){s.pinnedWidthFeature=s.createManagedBean(new uh(s.eContainer)),s.addManagedListener(s.eventService,g.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return s.onPinnedWidthChanged()})}),this.forContainers(_,function(){s.pinnedWidthFeature=s.createManagedBean(new ch(s.eContainer)),s.addManagedListener(s.eventService,g.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return s.onPinnedWidthChanged()})}),this.forContainers(p,function(){return s.createManagedBean(new gl(s.eContainer,s.eWrapper))}),this.forContainers(c,function(){return s.createManagedBean(new fh(s.eContainer))}),this.forContainers(y,function(){return s.createManagedBean(new qo(function(E){return s.comp.setContainerWidth(E+"px")}))}),Gi()&&(this.forContainers([A.CENTER],function(){s.addManagedListener(s.eventService,s.enableRtl?g.EVENT_LEFT_PINNED_WIDTH_CHANGED:g.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return s.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},t.prototype.refreshPaddingForFakeScrollbar=function(){var e=this,i=e.enableRtl,r=e.columnModel,n=e.name,s=e.eWrapper,a=e.eContainer,l=i?A.LEFT:A.RIGHT;this.forContainers([A.CENTER,l],function(){var u=r.getContainerWidth(l),d=i?"marginLeft":"marginRight";n===A.CENTER?s.style[d]=u?"0px":"16px":a.style[d]=u?"16px":"0px"})},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return e.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_ROWS_CHANGED,function(){return e.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([A.STICKY_TOP_CENTER,A.STICKY_TOP_LEFT,A.STICKY_TOP_RIGHT,A.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var n=function(){var s=e.gridOptionsService.is("ensureDomOrder"),a=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",n),n()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([A.TOP_CENTER,A.STICKY_TOP_CENTER,A.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([A.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([A.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onScrollVisibilityChanged=function(){if(this.name===A.CENTER){var i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsService.getScrollbarWidth()||0;this.comp.setViewportHeight(0==i?"100%":"calc(100% + "+i+"px)")}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,i=function(r){e.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",i,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",i)})},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,i)},t.prototype.getCenterWidth=function(){return Ir(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Wi(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return i()})},t.prototype.isViewportVisible=function(){return Si(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return Co(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Wi(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||Co(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){Gr(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){return!t.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),Gi()&&this.refreshPaddingForFakeScrollbar()},t.prototype.onDisplayedRowsChanged=function(){var e=this;if(this.visible){var i=this.gridOptionsService.isDomLayout("print"),n=this.getRowCtrls().filter(function(s){var a=s.isFullWidth(),l=e.embedFullWidthRows||i;return e.isFullWithContainer?!l&&a:l||!a});this.comp.setRowCtrls(n)}else this.comp.setRowCtrls(this.EMPTY_CTRLS)},t.prototype.getRowCtrls=function(){switch(this.name){case A.TOP_CENTER:case A.TOP_LEFT:case A.TOP_RIGHT:case A.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case A.STICKY_TOP_CENTER:case A.STICKY_TOP_LEFT:case A.STICKY_TOP_RIGHT:case A.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case A.BOTTOM_CENTER:case A.BOTTOM_LEFT:case A.BOTTOM_RIGHT:case A.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},pi([h("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),pi([h("dragService")],t.prototype,"dragService",void 0),pi([h("ctrlsService")],t.prototype,"ctrlsService",void 0),pi([h("columnModel")],t.prototype,"columnModel",void 0),pi([h("resizeObserverService")],t.prototype,"resizeObserverService",void 0),pi([h("rowRenderer")],t.prototype,"rowRenderer",void 0),pi([G],t.prototype,"postConstruct",null),t}(I),Eh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Rh='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+A.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+A.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+A.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+A.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+A.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+A.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+A.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+A.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+A.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+A.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+A.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+A.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+A.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+A.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+A.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+A.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Oh=function(o){function t(){return o.call(this,Rh)||this}return Eh(t,o),t.prototype.init=function(){var e=this,i=function(n,s){var a=n+"px";s.style.minHeight=a,s.style.height=a},r={setRowAnimationCssOnBodyViewport:function(n,s){return e.setRowAnimationCssOnBodyViewport(n,s)},setColumnCount:function(n){return na(e.getGui(),n)},setRowCount:function(n){return ra(e.getGui(),n)},setTopHeight:function(n){return i(n,e.eTop)},setBottomHeight:function(n){return i(n,e.eBottom)},setTopDisplay:function(n){return e.eTop.style.display=n},setBottomDisplay:function(n){return e.eBottom.style.display=n},setStickyTopHeight:function(n){return e.eStickyTop.style.height=n},setStickyTopTop:function(n){return e.eStickyTop.style.top=n},setStickyTopWidth:function(n){return e.eStickyTop.style.width=n},setColumnMovingCss:function(n,s){return e.addOrRemoveCssClass(n,s)},updateLayoutClasses:function(n,s){[e.eBodyViewport.classList,e.eBodyClipper.classList,e.eBody.classList].forEach(function(l){l.toggle(Fe.AUTO_HEIGHT,s.autoHeight),l.toggle(Fe.NORMAL,s.normal),l.toggle(Fe.PRINT,s.print)}),e.addOrRemoveCssClass(Fe.AUTO_HEIGHT,s.autoHeight),e.addOrRemoveCssClass(Fe.NORMAL,s.normal),e.addOrRemoveCssClass(Fe.PRINT,s.print)},setAlwaysVerticalScrollClass:function(n,s){return e.eBodyViewport.classList.toggle(cl,s)},registerBodyViewportResizeListener:function(n){var s=e.resizeObserverService.observeResize(e.eBodyViewport,n);e.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(n){return e.eTop.style.overflowY=e.eBottom.style.overflowY=n},setCellSelectableCss:function(n,s){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(a){return a.classList.toggle(dl,s)})},setBodyViewportWidth:function(n){return e.eBodyViewport.style.width=n}};this.ctrl=this.createManagedBean(new mp),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&ia(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,i){var r=this.eBodyViewport.classList;r.toggle(er.ANIMATION_ON,i),r.toggle(er.ANIMATION_OFF,!i)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Tt([h("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Tt([ve("rangeService")],t.prototype,"rangeService",void 0),Tt([H("eBodyViewport")],t.prototype,"eBodyViewport",void 0),Tt([H("eStickyTop")],t.prototype,"eStickyTop",void 0),Tt([H("eTop")],t.prototype,"eTop",void 0),Tt([H("eBottom")],t.prototype,"eBottom",void 0),Tt([H("gridHeader")],t.prototype,"headerRootComp",void 0),Tt([H("eBodyClipper")],t.prototype,"eBodyClipper",void 0),Tt([H("eBody")],t.prototype,"eBody",void 0),Tt([G],t.prototype,"init",null),t}(oe),Th=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xo=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Dh=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Th(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:g.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Xo([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Xo([G],t.prototype,"postConstruct",null),Xo([U("scrollVisibleService")],t)}(I),Ph=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ml=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},bh=function(o){function t(){var i=null!==o&&o.apply(this,arguments)||this;return i.gridInstanceId=e.gridInstanceSequence.next(),i}var e;return Ph(t,o),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(i){i[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(i){return Or(this.gridOptionsService,i,di.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(i){return this.isElementInThisGrid(i.target)},t.prototype.isElementInThisGrid=function(i){for(var r=i;r;){var n=r[e.GRID_DOM_KEY];if(x(n))return n===this.gridInstanceId;r=r.parentElement}return!1},t.prototype.getCellPositionForEvent=function(i){var r=this.getRenderedCellForEvent(i);return r?r.getCellPosition():null},t.prototype.getNormalisedPosition=function(i){var s,a,r=this.gridOptionsService.isDomLayout("normal");if(null!=i.clientX||null!=i.clientY?(s=i.clientX,a=i.clientY):(s=i.x,a=i.y),r){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition();s+=l.getScrollFeature().getHScrollPosition().left,a+=u.top}return{x:s,y:a}},t.gridInstanceSequence=new Eo,t.GRID_DOM_KEY="__ag_grid_instance",ml([h("ctrlsService")],t.prototype,"ctrlsService",void 0),e=ml([U("mouseEventService")],t)}(I),Ah=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$r=function(){return $r=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},$r.apply(this,arguments)},Je=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Fh=function(o){function t(){var e=o.call(this)||this;return e.onPageDown=An(e.onPageDown,100),e.onPageUp=An(e.onPageUp,100),e}return Ah(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e){var i=e.key,r=e.altKey,n=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e),l=!1;switch(i){case F.PAGE_HOME:case F.PAGE_END:!n&&!r&&(this.onHomeOrEndKey(i),l=!0);break;case F.LEFT:case F.RIGHT:case F.UP:case F.DOWN:if(!a)return!1;n&&!r&&!s&&(this.onCtrlUpDownLeftRight(i,a),l=!0);break;case F.PAGE_DOWN:if(!a)return!1;!n&&!r&&(this.onPageDown(a),l=!0);break;case F.PAGE_UP:if(!a)return!1;!n&&!r&&(this.onPageUp(a),l=!0)}return l&&e.preventDefault(),l},t.prototype.navigateTo=function(e){var i=e.scrollIndex,r=e.scrollType,n=e.scrollColumn,s=e.focusIndex,a=e.focusColumn;x(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),x(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:null,column:a})},t.prototype.onPageDown=function(e){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRowIndexAtPixel(r.top+n+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRowIndexAtPixel(r.top+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a,!0):this.navigateToNextPage(e,a,!0)},t.prototype.navigateToNextPage=function(e,i,r){void 0===r&&(r=!1);var S,n=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(e.rowIndex),d=r?u?.rowHeight-n-l:n-l,p=this.paginationProxy.getRowIndexAtPixel(u?.rowTop+d+l);p===e.rowIndex&&(i=p=e.rowIndex+(r?-1:1)),r?(S="bottom",p<s&&(p=s),i<s&&(i=s)):(S="top",p>a&&(p=a),i>a&&(i=a)),this.isRowTallerThanView(p)&&(i=p,S="top"),this.navigateTo({scrollIndex:i,scrollType:S,scrollColumn:null,focusIndex:p,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,i,r){var n=this;void 0===r&&(r=!1),this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(function(){var s=n.getNextFocusIndexForAutoHeight(e,r);n.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,i){var r;void 0===i&&(i=!1);for(var n=i?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=a;){var d=this.paginationProxy.getRow(u);if(d){var c=null!==(r=d.rowHeight)&&void 0!==r?r:0;if(l+c>s)break;l+=c}u+=n}return Math.max(0,Math.min(u,a))},t.prototype.getViewportHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),n=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=r),n},t.prototype.isRowTallerThanView=function(e){var i=this.paginationProxy.getRow(e);if(!i)return!1;var r=i.rowHeight;return"number"==typeof r&&r>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,i){var r=this.cellNavigationService.getNextCellToFocus(e,i,!0),n=r.rowIndex,s=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})},t.prototype.onHomeOrEndKey=function(e){var i=e===F.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),n=i?r[0]:fe(r),s=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})},t.prototype.onTabKeyDown=function(e,i){var r=i.shiftKey;if(this.tabToNextCellCommon(e,r,i))i.preventDefault();else if(r){var s=e.getRowPosition(),a=s.rowIndex;(s.rowPinned?0===a:a===this.paginationProxy.getPageFirstRow())&&(i.preventDefault(),this.focusService.focusLastHeader(i))}else e instanceof di&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&i.preventDefault()},t.prototype.tabToNextCell=function(e,i){var r=this.focusService.getFocusedCell();if(!r)return!1;var n=this.getCellByPosition(r);return!!(n||(n=this.rowRenderer.getRowByPosition(r),n&&n.isFullWidth()))&&this.tabToNextCellCommon(n,e,i)},t.prototype.tabToNextCellCommon=function(e,i,r){var n=e.isEditing();if(!n&&e instanceof di){var a=e.getRowCtrl();a&&(n=a.isEditing())}return(n?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,i,r):this.moveToNextEditingCell(e,i,r):this.moveToNextCellNotEditing(e,i))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,i,r){void 0===r&&(r=null);var n=e.getCellPosition();e.getGui().focus(),e.stopEditing();var s=this.findNextCellToFocusOn(n,i,!0);return null!=s&&(s.startEditing(null,null,!0,r),s.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,i,r){void 0===r&&(r=null);var n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,i,!0);if(null==s)return!1;var a=s.getCellPosition(),l=this.isCellEditable(n),u=this.isCellEditable(a),d=a&&n.rowIndex===a.rowIndex&&n.rowPinned===a.rowPinned;return l&&e.setFocusOutOnEditor(),d||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,void 0,r)),u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,i){var n,r=this.columnModel.getAllDisplayedColumns();n=e instanceof ci?$r($r({},e.getRowPosition()),{column:i?r[0]:fe(r)}):e.getCellPosition();var s=this.findNextCellToFocusOn(n,i,!1);if(s instanceof di)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),i);return x(s)},t.prototype.findNextCellToFocusOn=function(e,i,r){for(var n=e;;){e!==n&&(e=n),i||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,i);var s=this.gridOptionsService.getCallback("tabToNextCell");if(x(s)){var l=s({backwards:i,editing:r,previousCellPosition:e,nextCellPosition:n||null});x(l)?(l.floating&&(te(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),n={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+n.rowIndex,column:n.column}}),null}var d="fullRow"===this.gridOptionsService.get("editType");if(!r||d||this.isCellEditable(n)){this.ensureCellVisible(n);var p=this.getCellByPosition(n);if(!p){var y=this.rowRenderer.getRowByPosition(n);if(!y||!y.isFullWidth()||r)continue;return y}if(!p.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),p}}},t.prototype.isCellEditable=function(e){var i=this.lookupRowNodeForCell(e);return!!i&&e.column.isCellEditable(i)},t.prototype.getCellByPosition=function(e){var i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,i,r,n){for(var s=r,a=!1;s&&(s===r||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?i===F.LEFT&&(s=this.getLastCellOfColSpan(s)):i===F.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=Q(s=this.cellNavigationService.getNextCellToFocus(i,s));if(a&&e&&e.key===F.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),n){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(x(l)){var d=l({key:i,previousCellPosition:r,nextCellPosition:s||null,event:e});x(d)?(d.floating&&(te(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),d.rowPinned=d.floating),s={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}):s=null}}if(s){if(s.rowIndex<0){var c=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+s.rowIndex,column:r.column},event:e||void 0})}var p=this.getNormalisedPosition(s);p?this.focusPosition(p):this.tryToFocusFullWidthRow(s)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,i){void 0===i&&(i=!1);var r=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?fe(r):r[0])};this.focusPosition(a);var l=null!=s&&this.rowPositionUtils.before(a,s);return this.eventService.dispatchEvent({type:g.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var i=this.getCellByPosition(e);if(!i)return e;var r=i.getColSpanningList();return 1===r.length?e:{rowIndex:e.rowIndex,column:fe(r),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var i=this.gridOptionsService.is("groupRowsSticky"),r=this.rowModel.getRow(e.rowIndex);!(i&&r?.sticky)&&Q(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Je([h("mouseEventService")],t.prototype,"mouseEventService",void 0),Je([h("paginationProxy")],t.prototype,"paginationProxy",void 0),Je([h("focusService")],t.prototype,"focusService",void 0),Je([ve("rangeService")],t.prototype,"rangeService",void 0),Je([h("columnModel")],t.prototype,"columnModel",void 0),Je([h("rowModel")],t.prototype,"rowModel",void 0),Je([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Je([h("rowRenderer")],t.prototype,"rowRenderer",void 0),Je([h("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Je([h("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Je([h("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Je([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Je([G],t.prototype,"postConstruct",null),Je([U("navigationService")],t)}(I),Lh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mh=function(o){function t(e){var i=o.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=e,i}return Lh(t,o),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,i=this.getGui(),r=this.params;this.addManagedListener(i,"keydown",function(s){Hr(e.gridOptionsService,s,r.node,r.column,!0)||r.onKeyDown(s)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(Qi),Ih=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nh=function(o){function t(e,i,r,n,s){var a=o.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=e,a.column=i.getColumn(),a.rowNode=i.getRowNode(),a.rowCtrl=i.getRowCtrl(),a.eRow=n,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var l=a.getGui();a.forceWrapper=i.isForceWrapper(),a.refreshWrapper(!1);var u=function(c,p,y){var S=y||l;null!=p&&""!=p?S.setAttribute(c,p):S.removeAttribute(c)},d={addOrRemoveCssClass:function(c,p){return a.addOrRemoveCssClass(c,p)},setUserStyles:function(c){return yo(l,c)},getFocusableElement:function(){return a.getFocusableElement()},setTabIndex:function(c){return u("tabindex",c.toString())},setRole:function(c){return Ie(l,c)},setColId:function(c){return u("col-id",c)},setTitle:function(c){return u("title",c)},setIncludeSelection:function(c){return a.includeSelection=c},setIncludeRowDrag:function(c){return a.includeRowDrag=c},setIncludeDndSource:function(c){return a.includeDndSource=c},setRenderDetails:function(c,p,y){return a.setRenderDetails(c,p,y)},setEditDetails:function(c,p,y){return a.setEditDetails(c,p,y)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return a.cellCtrl=i,i.setComp(d,a.getGui(),a.eCellWrapper,r,s),a}return Ih(t,o),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,i,r){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!r&&!s&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}},t.prototype.setEditDetails=function(e,i,r){e?this.createCellEditorInstance(e,i,r):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,n=r&&null==this.eCellWrapper;n&&(this.eCellWrapper=He('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!r&&null!=this.eCellWrapper;s&&(It(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var a=!e&&r,l=a&&null==this.eCellValue;l&&(this.eCellValue=He('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!a&&null!=this.eCellValue;u&&(It(this.eCellValue),this.eCellValue=void 0);var d=n||s||l||u;return d&&this.removeControls(),e||i&&this.addControls(),d},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,i,r){var n=this,s=this.editorVersion,a=e.newAgStackInstance();if(a){var l=e.params;a.then(function(d){return n.afterCellEditorCreated(s,d,l,i,r)}),Q(this.cellEditor)&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var i=this.getParentOfValue();rt(i);var r=null!=e?Et(e):null;null!=r&&(i.innerHTML=r)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),It(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),It(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var i=this.cellRenderer.refresh(e.params);return!0===i||void 0===i},t.prototype.createCellRendererInstance=function(e){var i=this,r=this.beans.gridOptionsService.is("suppressAnimationFrame"),s=this.rendererVersion,a=e.componentClass,l=function(){if(i.rendererVersion===s&&i.isAlive()){var d=e.newAgStackInstance(),c=i.afterCellRendererCreated.bind(i,s,a);d&&d.then(c)}};!r&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,i,r){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var s=this.getParentOfValue();rt(s),s.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(r)},t.prototype.afterCellEditorCreated=function(e,i,r,n,s){if(e!==this.editorVersion)this.beans.context.destroyBean(i);else{if(i.isCancelBeforeStart&&i.isCancelBeforeStart())return this.beans.context.destroyBean(i),void this.cellCtrl.stopEditing(!0);if(!i.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(i);this.cellEditor=i,this.cellEditorGui=i.getGui();var u=n||void 0!==i.isPopup&&i.isPopup();u?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),i.afterGuiAttached&&i.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),null===(r=this.rowCtrl)||void 0===r||r.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,i){var r=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Mh(e));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),u=i??(n.getPopupPosition?n.getPopupPosition():"over"),d=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:d?"right":"left",keepWithinBounds:!0},p=a.positionPopupByComponent.bind(a,c),y=this.beans.localeService.getLocaleTextFunc(),S=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:y("ariaLabelCellEditor","Cell Editor")});S&&(this.hideEditorPopup=S.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),o.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&Fr()&&e.focus({preventScroll:!0}),rt(this.getParentOfValue())},t}(oe),Gh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hh=function(o){function t(e,i,r){var n=o.call(this)||this;n.cellComps={},n.beans=i,n.rowCtrl=e,n.setTemplate('<div comp-id="'+n.getCompId()+'" style="'+n.getInitialStyle(r)+'"/>');var s=n.getGui(),a=s.style;return e.setComp({setDomOrder:function(u){return n.domOrder=u},setCellCtrls:function(u){return n.setCellCtrls(u)},showFullWidth:function(u){return n.showFullWidth(u)},getFullWidthCellRenderer:function(){return n.getFullWidthCellRenderer()},addOrRemoveCssClass:function(u,d){return n.addOrRemoveCssClass(u,d)},setUserStyles:function(u){return yo(s,u)},setTop:function(u){return a.top=u},setTransform:function(u){return a.transform=u},setRowIndex:function(u){return s.setAttribute("row-index",u)},setRole:function(u){return Ie(s,u)},setRowId:function(u){return s.setAttribute("row-id",u)},setRowBusinessKey:function(u){return s.setAttribute("row-business-key",u)},setTabIndex:function(u){return s.setAttribute("tabindex",u.toString())}},n.getGui(),r),n.addDestroyFunc(function(){e.unsetComp(r)}),n}return Gh(t,o),t.prototype.getInitialStyle=function(e){var i=this.rowCtrl.getInitialTransform(e),r=this.rowCtrl.getInitialRowTop(e);return i?"transform: "+i:"top: "+r},t.prototype.showFullWidth=function(e){var i=this,n=e.newAgStackInstance();n&&n.then(function(s){if(i.isAlive()){var a=s.getGui();i.getGui().appendChild(a),i.rowCtrl.setupDetailRowAutoHeight(a),i.setFullWidthRowComp(s)}else i.beans.context.destroyBean(s)})},t.prototype.setCellCtrls=function(e){var i=this,r=Object.assign({},this.cellComps);e.forEach(function(s){var a=s.getInstanceId();null==i.cellComps[a]?i.newCellComp(s):r[a]=null});var n=R(r).filter(function(s){return null!=s});this.destroyCells(n),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var i=this;if(this.domOrder){var r=[];e.forEach(function(n){var s=i.cellComps[n.getInstanceId()];s&&r.push(s.getGui())}),go(this.getGui(),r)}},t.prototype.newCellComp=function(e){var i=new Nh(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=R(this.cellComps).filter(function(i){return null!=i});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var i=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){i.fullWidthCellRenderer=i.beans.context.destroyBean(i.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var i=this;e.forEach(function(r){if(r){var n=r.getCtrl().getInstanceId();i.cellComps[n]===r&&(r.detach(),r.destroy(),i.cellComps[n]=null)}})},t}(oe),Vh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zo=function(){return Zo=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Zo.apply(this,arguments)},Di=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Wh=function(o){function t(){var e=o.call(this,function Bh(){var o=oe.elementGettingCreated.getAttribute("name"),t=Cl.getRowContainerCssClasses(o);return o===A.CENTER?'<div class="'+t.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+t.container+'" ref="eContainer"></div>\n                </div>\n            </div>':o===A.TOP_CENTER||o===A.STICKY_TOP_CENTER||o===A.BOTTOM_CENTER?'<div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+t.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+t.container+'" ref="eContainer"></div>'}())||this;return e.rowComps={},e.name=oe.elementGettingCreated.getAttribute("name"),e.type=function mh(o){switch(o){case A.CENTER:case A.TOP_CENTER:case A.STICKY_TOP_CENTER:case A.BOTTOM_CENTER:return Ue.CENTER;case A.LEFT:case A.TOP_LEFT:case A.STICKY_TOP_LEFT:case A.BOTTOM_LEFT:return Ue.LEFT;case A.RIGHT:case A.TOP_RIGHT:case A.STICKY_TOP_RIGHT:case A.BOTTOM_RIGHT:return Ue.RIGHT;case A.FULL_WIDTH:case A.TOP_FULL_WIDTH:case A.STICKY_TOP_FULL_WIDTH:case A.BOTTOM_FULL_WIDTH:return Ue.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return Vh(t,o),t.prototype.postConstruct=function(){var e=this,i={setViewportHeight:function(n){return e.eViewport.style.height=n},setRowCtrls:function(n){return e.setRowCtrls(n)},setDomOrder:function(n){e.domOrder=n},setContainerWidth:function(n){return e.eContainer.style.width=n}};this.createManagedBean(new Cl(this.name)).setComp(i,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var i=this,r=Zo({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(s){var a=s.getInstanceId(),l=r[a];if(l)i.rowComps[a]=l,delete r[a],i.ensureDomOrder(l.getGui());else{var u=new Hh(s,i.beans,i.type);i.rowComps[a]=u,i.appendRow(u.getGui())}}),R(r).forEach(function(s){i.eContainer.removeChild(s.getGui()),s.destroy()}),Ie(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?ya(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(vo(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Di([h("beans")],t.prototype,"beans",void 0),Di([H("eViewport")],t.prototype,"eViewport",void 0),Di([H("eContainer")],t.prototype,"eContainer",void 0),Di([H("eWrapper")],t.prototype,"eWrapper",void 0),Di([G],t.prototype,"postConstruct",null),Di([qe],t.prototype,"preDestroy",null),t}(oe),wl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},jh=function(){function o(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return o.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var i=t.dragItem.columns;i&&i.forEach(function(r){r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?e.columnsToAggregate.push(r):r.isAllowRowGroup()?e.columnsToGroup.push(r):r.isAllowPivot()&&e.columnsToPivot.push(r)))})}},o.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ve.ICON_PINNED:Ve.ICON_MOVE:null},o.prototype.onDragLeave=function(t){this.clearColumnsList()},o.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},o.prototype.onDragging=function(t){},o.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},wl([h("columnModel")],o.prototype,"columnModel",void 0),wl([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),o}(),rr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Uh=function(){function o(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!x(t)}return o.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},o.prototype.getIconName=function(){return this.pinned?Ve.ICON_PINNED:Ve.ICON_MOVE},o.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Ze.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var r=t.dragItem.visibleState,n=(e||[]).filter(function(s){return r[s.getId()]});this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},o.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},o.prototype.setColumnsVisible=function(t,e,i){if(void 0===i&&(i="api"),t){var r=t.filter(function(n){return!n.getColDef().lockVisible});this.columnModel.setColumnsVisible(r,e,i)}},o.prototype.setColumnsPinned=function(t,e,i){if(void 0===i&&(i="api"),t){var r=t.filter(function(n){return!n.getColDef().lockPinned});this.columnModel.setColumnsPinned(r,e,i)}},o.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},o.prototype.normaliseX=function(t){return this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},o.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},o.prototype.onDragging=function(t,e,i,r){var s,n=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),r){if(this.lastMovedInfo){var a=this.lastMovedInfo;this.moveColumns(a.columns,a.toIndex,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=t,!Q(t.hDirection)){var d=this.normaliseX(t.x);e||this.checkCenterForScrolling(d);var c=this.normaliseDirection(t.hDirection),p=t.dragSource.type,y=(null===(s=t.dragSource.getDragItem().columns)||void 0===s?void 0:s.filter(function(S){return!S.getColDef().lockPinned||S.getPinned()==n.pinned}))||[];this.attemptMoveColumns({dragSourceType:p,allMovingColumns:y,hDirection:c,mouseX:d,fromEnter:e,fakeEvent:i})}},o.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case Ht.Left:return Ht.Right;case Ht.Right:return Ht.Left;default:console.error("AG Grid: Unknown direction "+t)}},o.prototype.attemptMoveColumns=function(t){var e=t.dragSourceType,i=t.hDirection,r=t.mouseX,n=t.fromEnter,s=t.fakeEvent,a=i===Ht.Left,l=i===Ht.Right,u=t.allMovingColumns;if(e===Ze.HeaderCell){var d=[];u.forEach(function(z){for(var $=null,re=z.getParent();null!=re&&1===re.getDisplayedLeafColumns().length;)$=re,re=re.getParent();null!=$?$.getLeafColumns().forEach(function(ge){d.includes(ge)||d.push(ge)}):d.includes(z)||d.push(z)}),u=d}var c=u.slice();this.columnModel.sortColumnsLikeGridColumns(c);var p=this.calculateValidMoves(c,l,r),y=this.calculateOldIndex(c);if(0!==p.length){var S=p[0],_=null!==y&&!n;if(e==Ze.HeaderCell&&(_=null!==y),!_||s||!(a&&S>=y||l&&S<=y)){for(var E=this.columnModel.getAllDisplayedColumns(),O=[],D=null,L=0;L<p.length;L++){var N=p[L],j=this.columnModel.getProposedColumnOrder(c,N);if(this.columnModel.doesOrderPassRules(j)){var X=j.filter(function(z){return E.includes(z)});if(null===D)D=X;else if(!Nt.areEqual(X,D))break;var Z=this.groupFragCount(j);O.push({move:N,fragCount:Z})}}0!==O.length&&(O.sort(function(z,$){return z.fragCount-$.fragCount}),this.moveColumns(u,O[0].move,"uiColumnMoved",!1))}}},o.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),i=Ms(t.map(function(l){return e.indexOf(l)})),r=i[0];return fe(i)-r!=i.length-1?null:r},o.prototype.moveColumns=function(t,e,i,r){this.columnModel.moveColumns(t,e,i,r),this.lastMovedInfo=r?null:{columns:t,toIndex:e}},o.prototype.groupFragCount=function(t){function e(s){for(var a=[],l=s.getOriginalParent();null!=l;)a.push(l),l=l.getOriginalParent();return a}for(var i=0,r=function(s){var a,l=e(t[s]),u=e(t[s+1]);a=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n}(l.length>u.length?[l,u]:[u,l],2),u=a[1],(l=a[0]).forEach(function(d){-1===u.indexOf(d)&&i++})},n=0;n<t.length-1;n++)r(n);return i},o.prototype.calculateValidMoves=function(t,e,i){if(this.gridOptionsService.is("suppressMovableColumns")||t.some(function(Z){return Z.getColDef().suppressMovable}))return[];var _,n=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=n.filter(function(Z){return ct(t,Z)}),l=n.filter(function(Z){return!ct(t,Z)}),u=s.filter(function(Z){return!ct(t,Z)}),d=0,c=i;if(e){var p=0;a.forEach(function(Z){return p+=Z.getActualWidth()}),c-=p}if(c>0){for(var y=0;y<l.length&&!((c-=l[y].getActualWidth())<0);y++)d++;e&&d++}d>0?_=u.indexOf(l[d-1])+1:-1===(_=u.indexOf(l[0]))&&(_=0);var O=[_],D=function(Z,z){return Z-z};if(e){for(var L=_+1,N=s.length-1;L<=N;)O.push(L),L++;O.sort(D)}else{N=s.length-1;for(var j=s[L=_];L<=N&&this.isColumnHidden(n,j);)L++,O.push(L),j=s[L];for(L=_-1;L>=0;)O.push(L),L--;O.sort(D).reverse()}return O},o.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},o.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ve.ICON_LEFT:Ve.ICON_RIGHT,!0))},o.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ve.ICON_MOVE))},o.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter(function(a){return!a.getColDef().lockPinned});n.length>0&&(this.dragAndDropService.setGhostIcon(Ve.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(n,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},rr([h("columnModel")],o.prototype,"columnModel",void 0),rr([h("dragAndDropService")],o.prototype,"dragAndDropService",void 0),rr([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),rr([h("ctrlsService")],o.prototype,"ctrlsService",void 0),rr([G],o.prototype,"init",null),o}(),zh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Kh=function(o){function t(e,i){var r=o.call(this)||this;return r.pinned=e,r.eContainer=i,r}return zh(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){switch(e.pinned){case"left":e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.leftRowContainerCtrl.getContainerElement()],[i.bottomLeftRowContainerCtrl.getContainerElement()],[i.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.rightRowContainerCtrl.getContainerElement()],[i.bottomRightRowContainerCtrl.getContainerElement()],[i.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.centerRowContainerCtrl.getViewportElement()],[i.bottomCenterRowContainerCtrl.getViewportElement()],[i.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===Ze.HeaderCell||e===Ze.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Uh(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new jh(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Ze.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},nr([h("dragAndDropService")],t.prototype,"dragAndDropService",void 0),nr([h("columnModel")],t.prototype,"columnModel",void 0),nr([h("ctrlsService")],t.prototype,"ctrlsService",void 0),nr([G],t.prototype,"postConstruct",null),nr([G],t.prototype,"init",null),t}(I),Yh=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Sl=function(){function o(){}return o.getHeaderClassesFromColDef=function(t,e,i,r){return Q(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,r)},o.getToolPanelClassesFromColDef=function(t,e,i,r){return Q(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,r)},o.getClassParams=function(t,e,i,r){return{colDef:t,column:i,columnGroup:r,api:e.api,columnApi:e.columnApi,context:e.context}},o.getColumnClassesFromCollDef=function(t,e,i,r,n){return Q(t)?[]:"string"==typeof(s="function"==typeof t?t(this.getClassParams(e,i,r,n)):t)?[s]:Array.isArray(s)?function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Yh(arguments[t]));return o}(s):[];var s},o}(),qh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),en=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Xh=function(o){function t(e){var i=o.call(this,t.TEMPLATE,e)||this;return i.headerCompVersion=0,i.column=e.getColumnGroupChild(),i.pinned=e.getPinned(),i}return qh(t,o),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),r=function(a,l,u){var d=u||i;null!=l&&""!=l?d.setAttribute(a,l):d.removeAttribute(a)};this.ctrl.setComp({setWidth:function(a){return i.style.width=a},addOrRemoveCssClass:function(a,l){return e.addOrRemoveCssClass(a,l)},setColId:function(a){return r("col-id",a)},setTitle:function(a){return r("title",a)},setAriaDescription:function(a){return Zs(i,a)},setAriaSort:function(a){return a?sa(i,a):aa(i)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var i=this;this.headerCompVersion++;var r=this.headerCompVersion;e.newAgStackInstance().then(function(n){return i.afterCompCreated(r,n)})},t.prototype.afterCompCreated=function(e,i){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',en([H("eResize")],t.prototype,"eResize",void 0),en([H("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),en([G],t.prototype,"postConstruct",null),en([qe],t.prototype,"destroyHeaderComp",null),t}(ko),Zh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jo=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Jh=function(o){function t(e){return o.call(this,t.TEMPLATE,e)||this}return Zh(t,o),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),r=function(s,a){return null!=a?i.setAttribute(s,a):i.removeAttribute(s)};this.ctrl.setComp({addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return le(e.eResize,s)},setWidth:function(s){return i.style.width=s},setColId:function(s){return i.setAttribute("col-id",s)},setAriaExpanded:function(s){return r("aria-expanded",s)},setTitle:function(s){return r("title",s)},setUserCompDetails:function(s){return e.setUserCompDetails(s)}},i,this.eResize)},t.prototype.setUserCompDetails=function(e){var i=this;e.newAgStackInstance().then(function(r){return i.afterHeaderCompCreated(r)})},t.prototype.afterHeaderCompCreated=function(e){var i=this,r=function(){return i.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(r),this.ctrl.setDragSource(e.getGui())):r()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Jo([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Jo([H("eResize")],t.prototype,"eResize",void 0),Jo([G],t.prototype,"postConstruct",null),t}(ko),$h=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_l=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},je=function(o){return o.COLUMN_GROUP="group",o.COLUMN="column",o.FLOATING_FILTER="filter",o}(je||{}),ef=function(o){function t(e){var i=o.call(this)||this;i.headerComps={};var r=e.getType()==je.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==je.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return i.setTemplate('<div class="ag-header-row '+r+'" role="row"></div>'),i.ctrl=e,i}return $h(t,o),t.prototype.init=function(){var e=this;this.ctrl.setComp({setTransform:function(r){return e.getGui().style.transform=r},setHeight:function(r){return e.getGui().style.height=r},setTop:function(r){return e.getGui().style.top=r},setHeaderCtrls:function(r){return e.setHeaderCtrls(r)},setWidth:function(r){return e.getGui().style.width=r},setAriaRowIndex:function(r){return Qn(e.getGui(),r)}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var i=this;if(this.isAlive()){var r=this.headerComps;this.headerComps={},e.forEach(function(u){var d=u.getInstanceId(),c=r[d];delete r[d],null==c&&(c=i.createHeaderComp(u),i.getGui().appendChild(c.getGui())),i.headerComps[d]=c}),me(r,function(u,d){i.getGui().removeChild(d.getGui()),i.destroyBean(d)});var n=this.gridOptionsService.is("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");if(n||s){var a=R(this.headerComps);a.sort(function(u,d){return u.getCtrl().getColumnGroupChild().getLeft()-d.getCtrl().getColumnGroupChild().getLeft()});var l=a.map(function(u){return u.getGui()});go(this.getGui(),l)}}},t.prototype.createHeaderComp=function(e){var i;switch(this.ctrl.getType()){case je.COLUMN_GROUP:i=new Jh(e);break;case je.FLOATING_FILTER:i=new ap(e);break;default:i=new Xh(e)}return this.createBean(i),i.setParentComponent(this),i},_l([G],t.prototype,"init",null),_l([qe],t.prototype,"destroyHeaderCtrls",null),t}(oe),tf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$o=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},rf=0,tn=function(o){function t(e,i){var r=o.call(this)||this;return r.lastFocusEvent=null,r.columnGroupChild=e,r.parentRowCtrl=i,r.instanceId=e.getUniqueId()+"-"+rf++,r}return tf(t,o),t.prototype.shouldStopEventPropagation=function(e){var i=this.focusService.getFocusedHeader();return Ea(this.gridOptionsService,e,i.headerRowIndex,i.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var i=this.getWrapperHasFocus();switch(e.key){case F.PAGE_DOWN:case F.PAGE_UP:case F.PAGE_HOME:case F.PAGE_END:i&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,i=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,i,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,i,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",$o([h("focusService")],t.prototype,"focusService",void 0),$o([h("beans")],t.prototype,"beans",void 0),$o([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(I),nf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),es=function(o){function t(e,i,r,n){var s=o.call(this)||this;return s.columnOrGroup=e,s.eCell=i,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=n,s.beans=r,s}return nf(t,o),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?fe(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,_e.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),i=x(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,i=this.getColumnOrGroup(),r=i.getLeft(),n=i.getOldLeft(),s=this.modifyLeftForPrintLayout(i,n),a=this.modifyLeftForPrintLayout(i,r);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===a&&e.setLeft(a)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,i){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return i;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+i:n+i},t.prototype.setLeft=function(e){var i;if(x(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof _e)i=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&oa(this.ariaEl,n.length),i=n[0]}var s=this.beans.columnModel.getAriaColumnIndex(i);qn(this.ariaEl,s)},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(I),sf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),El=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ts=function(o){function t(e,i){var r=o.call(this)||this;return r.columns=e,r.element=i,r}return sf(t,o),t.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},El([h("columnHoverService")],t.prototype,"columnHoverService",void 0),El([G],t.prototype,"postConstruct",null),t}(I),af=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),is=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},lf=function(o){function t(e,i){var r=o.call(this,e,i)||this;return r.column=e,r}return af(t,o),t.prototype.setComp=function(e,i,r,n){o.prototype.setGui.call(this,i),this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n;var s=this.column.getColDef();this.active=!(!s.filter&&!s.filterFramework||!s.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,_e.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=be("filter",this.gridOptionsService,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new Qt(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void s.focus();var a=this.findNextColumnWithFloatingFilter(e.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var i=this.beans.columnModel,r=this.column;do{if(!(r=e?i.getDisplayedColBefore(r):i.getDisplayedColAfter(r)))break}while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},t.prototype.handleKeyDown=function(e){o.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();switch(e.key){case F.UP:case F.DOWN:i||e.preventDefault();case F.LEFT:case F.RIGHT:if(i)return;e.stopPropagation();case F.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case F.ESCAPE:i||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&ri(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){var s=this.lastFocusEvent;s&&s&&s.key===F.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new ts([this.column],this.eGui));var i=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var r=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,g.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.setupLeft=function(){var e=new es(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var i=this.column.getColDef();this.suppressFilterButton=!!i.floatingFilterComponentParams&&!!i.floatingFilterComponentParams.suppressFilterButton;var r=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});r&&this.comp.setCompDetails(r)}},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var i=function(r){var n=e.comp.getFloatingFilterComp();if(n){var s=e.filterManager.getCurrentFloatingFilterParentModel(e.column);n.then(function(a){a&&a.onParentModelChanged(s,r)})}};this.addManagedListener(this.column,_e.EVENT_FILTER_CHANGED,i),this.filterManager.isFilterActive(this.column)&&i(null)}},t.prototype.setupWidth=function(){var e=this,i=function(){var r=e.column.getActualWidth()+"px";e.comp.setWidth(r)};this.addManagedListener(this.column,_e.EVENT_WIDTH_CHANGED,i),i()},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},is([h("filterManager")],t.prototype,"filterManager",void 0),is([h("columnHoverService")],t.prototype,"columnHoverService",void 0),is([h("menuFactory")],t.prototype,"menuFactory",void 0),t}(tn),uf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},df=function(o){function t(e,i,r,n,s){var a=o.call(this)||this;return a.pinned=e,a.column=i,a.eResize=r,a.comp=n,a.ctrl=s,a}return uf(t,o),t.prototype.postConstruct=function(){var n,s,e=this,i=this.column.getColDef(),r=[],l=function(){r.forEach(function(d){return d()}),r.length=0},u=function(){var d=e.column.isResizable(),c=!e.gridOptionsService.is("suppressAutoSize")&&!i.suppressAutoSize;(d!==n||c!==s)&&(n=d,s=c,l(),function(){if(le(e.eResize,n),n){var d=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(r.push(d),s){var c=e.gridOptionsService.is("skipHeaderOnAutoSize"),p=function(){e.columnModel.autoSizeColumn(e.column,c,"uiColumnResized")};e.eResize.addEventListener("dblclick",p);var y=new ot(e.eResize);y.addEventListener(ot.EVENT_DOUBLE_TAP,p),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",p),y.removeEventListener(ot.EVENT_DOUBLE_TAP,p),y.destroy()})}}}())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},t.prototype.onResizing=function(e,i){var r=this.normaliseResizeAmount(i);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+r}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var i=e,r="left"!==this.pinned,n="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?r&&(i*=-1):n&&(i*=-1),i},rs([h("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),rs([h("columnModel")],t.prototype,"columnModel",void 0),rs([G],t.prototype,"postConstruct",null),t}(I),cf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},pf=function(o){function t(e){var i=o.call(this)||this;i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=e;var r=e.getColDef();return i.filteredOnly=!!r?.headerCheckboxSelectionFilteredOnly,i.currentPageOnly=!!r?.headerCheckboxSelectionCurrentPageOnly,i}return cf(t,o),t.prototype.onSpaceKeyPressed=function(e){var i=this.cbSelectAll,r=this.gridOptionsService.getDocument();i.isDisplayed()&&!i.getGui().contains(r.activeElement)&&(e.preventDefault(),i.setValue(!i.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Yi),this.cbSelectAll.addCssClass("ag-header-select-all"),Ie(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,g.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,g.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Yi.EVENT_CHANGED,this.onCbSelectAll.bind(this)),br(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState();this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",n+" ("+r+")"),this.cbSelectAll.setInputAriaLabel(n+" ("+r+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkRightRowModelType=function(e){var i=this.rowModel.getType();return!("clientSide"!==i&&"serverSide"!==i&&(console.warn("AG Grid: "+e+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+i+"."),1))},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),i="uiSelectAll";this.currentPageOnly?i="uiSelectAllCurrentPage":this.filteredOnly&&(i="uiSelectAllFiltered");var r={source:i,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!e&&this.checkRightRowModelType("headerCheckboxSelection")},rn([h("gridApi")],t.prototype,"gridApi",void 0),rn([h("columnApi")],t.prototype,"columnApi",void 0),rn([h("rowModel")],t.prototype,"rowModel",void 0),rn([h("selectionService")],t.prototype,"selectionService",void 0),t}(I),hf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ff=function(o){function t(e,i){var r=o.call(this,e,i)||this;return r.refreshFunctions=[],r.userHeaderClasses=new Set,r.ariaDescriptionProperties=new Map,r.column=e,r}return hf(t,o),t.prototype.setComp=function(e,i,r,n){var s=this;o.prototype.setGui.call(this,i),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new df(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new ts([this.column],i)),this.createManagedBean(new es(this.column,i,this.beans)),this.createManagedBean(new Qt(i,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,_e.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)},t.prototype.createParams=function(){var e=this,i=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:i.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(n){e.gridApi.showColumnMenuAfterButtonClick(e.column,n)},progressSort:function(n){e.sortController.progressSort(e.column,!!n,"uiColumnSorted")},setSort:function(n,s){e.sortController.setSortForColumn(e.column,n,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new pf(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){o.prototype.handleKeyDown.call(this,e),e.key===F.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===F.ENTER&&this.onEnterKeyPressed(e)},t.prototype.onEnterKeyPressed=function(e){var i=this.comp.getUserCompInstance();i&&(e.ctrlKey||e.metaKey?this.menuEnabled&&i.showMenu&&(e.preventDefault(),i.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,r=this.createManagedBean(new Yo({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));r.setComp(this.comp),this.refreshFunctions.push(function(){return r.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,i=function(){var r=e.column.getColDef(),n=Sl.getHeaderClassesFromColDef(r,e.gridOptionsService,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(n),n.forEach(function(a){s.has(a)?s.delete(a):e.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(i),i()},t.prototype.setDragSource=function(e){var i=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var r=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Ze.HeaderCell,eElement:e,defaultIconName:r?Ve.ICON_HIDE:Ve.ICON_NOT_ALLOWED,getDragItem:function(){return i.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return i.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return i.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(n){var s;if(r){var a=(null===(s=n?.columns)||void 0===s?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:function(n){var s;if(r){var a=(null===(s=n?.columns)||void 0===s?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onColDefChanged=function(){this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var i=this.comp.getUserCompInstance();return!(!i||!i.refresh)&&i.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,i=function(){var r=e.column.getActualWidth();e.comp.setWidth(r+"px")};this.addManagedListener(this.column,_e.EVENT_WIDTH_CHANGED,i),i()},t.prototype.setupMovingCss=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,_e.EVENT_MOVING_CHANGED,i),i()},t.prototype.setupMenuClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,_e.EVENT_MENU_VISIBLE_CHANGED,i),i()},t.prototype.setupSortableClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};i(),this.addRefreshFunction(i),this.addManagedListener(this.eventService,_e.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,i=function(){var r=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",r)};i(),this.addRefreshFunction(i)},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,i=e.eGui,n=e.comp,s=e.columnModel,a=e.gridOptionsService;if(e.column.isSpanHeaderHeight()){var l=this.getColumnGroupPaddingInfo(),u=l.numberOfParents,d=l.isSpanningTotal;if(n.addOrRemoveCssClass("ag-header-span-height",u>0),0!==u){n.addOrRemoveCssClass("ag-header-span-total",d);var p=a.is("pivotMode")?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),y=s.getColumnHeaderRowHeight(),S=u*p;i.style.setProperty("top",-S+"px"),i.style.setProperty("height",y+S+"px")}}},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var i=e.getPaddingLevel()+1,r=!0;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:r}},t.prototype.setupAutoHeight=function(e){var s,i=this,r=function(d){if(i.isAlive()){var c=ni(i.getGui()),D=e.offsetHeight+(c.paddingTop+c.paddingBottom+c.borderBottomWidth+c.borderTopWidth);if(d<5){var L=i.beans.gridOptionsService.getDocument();if(!L||!L.contains(e)||0==D)return void i.beans.frameworkOverrides.setTimeout(function(){return r(d+1)},0)}i.columnModel.setColumnHeaderHeight(i.column,D)}},n=!1,a=function(){var d=i.column.isSpanHeaderHeight(),c=i.column.isAutoHeaderHeight();d?(u(),c&&te(function(){return console.warn("AG Grid: The properties `spanHeaderHeight` and `autoHeaderHeight` cannot be used together in the same column.")},"HeaderCellCtrl.spanHeaderHeightAndAutoHeaderHeight")):(c&&!n&&l(),!c&&n&&u())},l=function(){n=!0,r(0),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=i.resizeObserverService.observeResize(e,function(){return r(0)})},u=function(){n=!1,s&&s(),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,_e.EVENT_WIDTH_CHANGED,function(){return n&&r(0)}),this.addManagedListener(this.eventService,_e.EVENT_SORT_CHANGED,function(){n&&i.beans.frameworkOverrides.setTimeout(function(){return r(0)})}),this.addRefreshFunction(a)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),i=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Qs(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,i){null!=i?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,i=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var r=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,g.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.setupFilterCss=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,_e.EVENT_FILTER_ACTIVE_CHANGED,i),i()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,i=function(r){return e.setActiveHeader("mouseenter"===r.type)};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},Vt([h("columnModel")],t.prototype,"columnModel",void 0),Vt([h("columnHoverService")],t.prototype,"columnHoverService",void 0),Vt([h("sortController")],t.prototype,"sortController",void 0),Vt([h("menuFactory")],t.prototype,"menuFactory",void 0),Vt([h("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Vt([h("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Vt([h("gridApi")],t.prototype,"gridApi",void 0),Vt([h("columnApi")],t.prototype,"columnApi",void 0),Vt([qe],t.prototype,"removeDragSource",null),t}(tn),vf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},gf=function(o){function t(e,i,r,n){var s=o.call(this)||this;return s.eResize=i,s.comp=e,s.pinned=r,s.columnGroup=n,s}return vf(t,o),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(i),!this.gridOptionsService.is("suppressAutoSize")){var r=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var n=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(a){a.getColDef().suppressAutoSize||n.push(a.getColId())}),n.length>0&&e.columnModel.autoSizeColumns({columns:n,skipHeader:r,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var i=this;this.calculateInitialValues();var r=null;if(e&&(r=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),r){var n=r.getDisplayedLeafColumns();this.resizeTakeFromCols=n.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return i.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return i.resizeTakeFromRatios.push(s.getActualWidth()/i.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,i){var r=this.normaliseDragChange(i);this.resizeColumns(this.resizeStartWidth+r,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,i){void 0===i&&(i=!0);var r=[];r.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&r.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:r,finished:i,source:"uiColumnDragged"}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,i=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=i.filter(function(r){return r.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(r){return e.resizeStartWidth+=r.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(r){return e.resizeRatios.push(r.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var i=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(i*=-1):"right"===this.pinned&&(i*=-1),i},nn([h("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),nn([h("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),nn([h("columnModel")],t.prototype,"columnModel",void 0),nn([G],t.prototype,"postConstruct",null),t}(I),yf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mf=function(o){function t(e,i){var r=o.call(this)||this;return r.removeChildListenersFuncs=[],r.columnGroup=i,r.comp=e,r}return yf(t,o),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,it.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var i=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(r){r.addEventListener("widthChanged",i),r.addEventListener("visibleChanged",i),e.removeChildListenersFuncs.push(function(){r.removeEventListener("widthChanged",i),r.removeEventListener("visibleChanged",i)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth(e+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(I),wf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),on=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Sf=function(o){function t(e,i){var r=o.call(this,e,i)||this;return r.columnGroup=e,r}return wf(t,o),t.prototype.setComp=function(e,i,r){o.prototype.setGui.call(this,i),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var n=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new ts(s,i)),this.createManagedBean(new es(this.columnGroup,i,this.beans)),this.createManagedBean(new mf(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new gf(e,r,n,this.columnGroup)),this.createManagedBean(new Qt(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){var e,i;null===(e=this.groupResizeFeature)||void 0===e||e.onResizeStart(!1),null===(i=this.groupResizeFeature)||void 0===i||i.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,i=this.displayName,r={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!i){for(var n=this.columnGroup,s=n.getLeafColumns();n.getParent()&&n.getParent().getLeafColumns().length===s.length;)n=n.getParent();var a=n.getColGroupDef();a&&(i=a.headerName),i||(i=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(l)},t.prototype.setupTooltip=function(){var e=this,i=this.columnGroup.getColGroupDef(),r={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return i&&i.headerTooltip}};i&&(r.getColDef=function(){return i}),this.createManagedBean(new Yo(r,this.beans)).setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,De.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,De.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var i=e.isExpanded();this.comp.setAriaExpanded(this.expandable?i?"true":"false":void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,i=this.columnGroup.getColGroupDef(),r=Sl.getHeaderClassesFromColDef(i,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(r.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(function(s){return s.isSpanHeaderHeight()})&&r.push("ag-header-span-height")):r.push("ag-header-group-cell-with-group"),r.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!0)})},t.prototype.setupMovingCss=function(){var e=this,r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};r.forEach(function(s){e.addManagedListener(s,_e.EVENT_MOVING_CHANGED,n)}),n()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.columnGroup)}},t.prototype.handleKeyDown=function(e){o.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();if(this.expandable&&i&&e.key===F.ENTER){var r=this.columnGroup,n=!r.isExpanded();this.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var i=this;if(!this.isSuppressMoving()){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:Ze.HeaderCell,eElement:e,defaultIconName:n?Ve.ICON_HIDE:Ve.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return r.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return r.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var l;if(n){var u=(null===(l=a?.columns)||void 0===l?void 0:l.filter(function(d){return!d.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(u,!0,"uiColumnMoved")}},onGridExit:function(a){var l;if(n){var u=(null===(l=a?.columns)||void 0===l?void 0:l.filter(function(d){return!d.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(u,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(s)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i={};e.forEach(function(n){return i[n.getId()]=n.isVisible()});var r=[];return this.columnModel.getAllDisplayedColumns().forEach(function(n){e.indexOf(n)>=0&&(r.push(n),We(e,n))}),e.forEach(function(n){return r.push(n)}),{columns:r,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(r){(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")},on([h("columnModel")],t.prototype,"columnModel",void 0),on([h("dragAndDropService")],t.prototype,"dragAndDropService",void 0),on([h("gridApi")],t.prototype,"gridApi",void 0),on([h("columnApi")],t.prototype,"columnApi",void 0),t}(tn),_f=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ef=0,ns=function(o){function t(e,i,r){var n=o.call(this)||this;return n.instanceId=Ef++,n.headerCellCtrls={},n.rowIndex=e,n.pinned=i,n.type=r,n}return _f(t,o),t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Rt()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,g.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return $t(this.headerCellCtrls).find(function(i){return i.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.columnModel.getHeaderRowCount(),i=[],r=0;this.columnModel.hasFloatingFilters()&&(e++,r=1);for(var n=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),l=e-(1+r),u=0;u<l;u++)i.push(n);for(i.push(s),u=0;u<r;u++)i.push(this.columnModel.getFloatingFiltersHeight());var d=0;for(u=0;u<this.rowIndex;u++)d+=i[u];var c=i[this.rowIndex]+"px";this.comp.setTop(d+"px"),this.comp.setHeight(c)},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,i=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(a){if(!a.isEmptyGroup()){var l=a.getUniqueId(),u=i[l];if(delete i[l],u&&u.getColumnGroupChild()!=a&&(e.destroyBean(u),u=void 0),null==u)switch(e.type){case je.FLOATING_FILTER:u=e.createBean(new lf(a,e));break;case je.COLUMN_GROUP:u=e.createBean(new Sf(a,e));break;default:u=e.createBean(new ff(a,e))}e.headerCellCtrls[l]=u}}),me(i,function(a,l){var u=function(a){return!!e.focusService.isHeaderWrapperFocused(a)&&e.columnModel.isDisplayed(a.getColumnGroupChild())}(l);u?e.headerCellCtrls[a]=l:e.destroyBean(l)});var s=R(this.headerCellCtrls);this.comp.setHeaderCtrls(s)},t.prototype.getColumnsInViewport=function(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var i=[],r=this.getActualDepth();return["left",null,"right"].forEach(function(n){var s=e.columnModel.getVirtualHeaderGroupRow(n,r);i=i.concat(s)}),i},t.prototype.getActualDepth=function(){return this.type==je.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,i){var n=R(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()==e});return!!n&&(n.focus(i),!0)},t.prototype.destroy=function(){var e=this;me(this.headerCellCtrls,function(i,r){e.destroyBean(r)}),this.headerCellCtrls={},o.prototype.destroy.call(this)},Rl([h("columnModel")],t.prototype,"columnModel",void 0),Rl([h("focusService")],t.prototype,"focusService",void 0),t}(I),Rf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),or=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Of=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Df=function(o){function t(e){var i=o.call(this)||this;return i.hidden=!1,i.groupsRowCtrls=[],i.pinned=e,i}return Rf(t,o),t.prototype.setComp=function(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,g.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var i=new Kh(this.pinned,e);this.createManagedBean(i)},t.prototype.refresh=function(e){var i=this;void 0===e&&(e=!1);var d,c,r=new Eo,n=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var d=i.columnModel.getHeaderRowCount()-1;i.groupsRowCtrls=i.destroyBeans(i.groupsRowCtrls);for(var c=0;c<d;c++){var p=i.createBean(new ns(r.next(),i.pinned,je.COLUMN_GROUP));i.groupsRowCtrls.push(p)}})(),d=r.next(),((c=!(i.hidden||null!=i.columnsRowCtrl&&e&&i.columnsRowCtrl.getRowIndex()===d))||i.hidden)&&(i.columnsRowCtrl=i.destroyBean(i.columnsRowCtrl)),c&&(i.columnsRowCtrl=i.createBean(new ns(d,i.pinned,je.COLUMN))),function(){var c=function(){i.filtersRowCtrl=i.destroyBean(i.filtersRowCtrl)};if(i.columnModel.hasFloatingFilters()&&!i.hidden){var p=r.next();if(i.filtersRowCtrl){var y=i.filtersRowCtrl.getRowIndex()!==p;(!e||y)&&c()}i.filtersRowCtrl||(i.filtersRowCtrl=i.createBean(new ns(p,i.pinned,je.FLOATING_FILTER)))}else c()}();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(n)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Of(arguments[t]));return o}(this.groupsRowCtrls);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new qo(function(i){return e.comp.setCenterWidth(i+"px")}))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var i="left"===this.pinned,r="right"===this.pinned;this.hidden=!0;var n=function(){var s=i?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=s){var a=0==s,l=e.hidden!==a,u=e.gridOptionsService.is("enableRtl"),d=e.gridOptionsService.getScrollbarWidth(),c=e.scrollVisibleService.isVerticalScrollShowing()&&(u&&i||!u&&r);e.comp.setPinnedContainerWidth((c?s+d:s)+"px"),e.comp.setDisplayed(!a),l&&(e.hidden=a,e.refresh())}};this.addManagedListener(this.eventService,g.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,g.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,g.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,g.EVENT_SCROLLBAR_WIDTH_CHANGED,n)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof _e)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var i=0;i<this.groupsRowCtrls.length;i++){var r=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(r)return r}},t.prototype.getHtmlElementForColumnHeader=function(e){var i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null},t.prototype.getRowType=function(e){var r=this.getAllCtrls()[e];return r?r.getType():void 0},t.prototype.focusHeader=function(e,i,r){var s=this.getAllCtrls()[e];return!!s&&s.focusHeader(i,r)},t.prototype.getRowCount=function(){return this.getAllCtrls().length},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),o.prototype.destroy.call(this)},or([h("ctrlsService")],t.prototype,"ctrlsService",void 0),or([h("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),or([h("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),or([h("columnModel")],t.prototype,"columnModel",void 0),or([h("focusService")],t.prototype,"focusService",void 0),t}(I),Pf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),os=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ss=function(o){function t(e){var i=o.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=e,i}return Pf(t,o),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var i={setDisplayed:function(n){return e.setDisplayed(n)},setCtrls:function(n){return e.setCtrls(n)},setCenterWidth:function(n){return e.eCenterContainer.style.width=n},setContainerTransform:function(n){return e.eCenterContainer.style.transform=n},setPinnedContainerWidth:function(n){var s=e.getGui();s.style.width=n,s.style.maxWidth=n,s.style.minWidth=n}};this.createManagedBean(new Df(this.pinned)).setComp(i,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?t.PINNED_LEFT_TEMPLATE:"right"==this.pinned?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var n,i=this,r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(a){var l=a.getInstanceId(),u=r[l];delete r[l];var d=u||i.createBean(new ef(a));i.headerRowComps[l]=d,i.rowCompsList.push(d),function(a){var l=a.getGui();l.parentElement!=i.eRowContainer&&i.eRowContainer.appendChild(l),n&&vo(i.eRowContainer,l,n),n=l}(d)}),R(r).forEach(function(a){return i.destroyRowComp(a)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',os([H("eCenterContainer")],t.prototype,"eCenterContainer",void 0),os([G],t.prototype,"init",null),os([qe],t.prototype,"destroyRowComps",null),t}(oe),bf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Bt=function(o){return o[o.UP=0]="UP",o[o.DOWN=1]="DOWN",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT",o}(Bt||{}),Af=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return bf(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,i,r){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;var n=i.headerRowIndex,s=i.column,a=this.getHeaderRowCount(),u=e===Bt.UP?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),d=u.nextRow,c=u.nextFocusColumn,p=!1;return d<0&&(d=0,c=s,p=!0),d>=a&&(d=-1),!(!p&&!c)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:c},allowUserOverride:!0,event:r})},t.prototype.navigateHorizontally=function(e,i,r){void 0===i&&(i=!1);var l,u,n=this.focusService.getFocusedHeader();return(l=e===Bt.LEFT!==this.gridOptionsService.is("enableRtl")?this.headerPositionUtils.findHeader(n,u="Before"):this.headerPositionUtils.findHeader(n,u="After"))||!i?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:i,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(n,u,r)},t.prototype.focusNextHeaderRow=function(e,i,r){var n=e.headerRowIndex,s=null;return"Before"===i?n>0&&(s=this.headerPositionUtils.findColAtEdgeForHeaderRow(n-1,"end")):s=this.headerPositionUtils.findColAtEdgeForHeaderRow(n+1,"start"),this.focusService.focusHeaderPosition({headerPosition:s,direction:i,fromTab:!0,allowUserOverride:!0,event:r})},t.prototype.scrollToColumn=function(e,i){if(void 0===i&&(i="After"),!e.getPinned()){var r;if(e instanceof it){var n=e.getDisplayedLeafColumns();r="Before"===i?fe(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},sr([h("focusService")],t.prototype,"focusService",void 0),sr([h("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),sr([h("ctrlsService")],t.prototype,"ctrlsService",void 0),sr([G],t.prototype,"postConstruct",null),sr([U("headerNavigationService")],t)}(I),Ff=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Lf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ff(t,o),t.prototype.setComp=function(e,i,r){this.comp=e,this.eGui=i,this.createManagedBean(new Qt(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,g.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,g.EVENT_GRID_STYLES_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var n,e=this.columnModel,i=0,r=e.getHeaderRowCount();e.hasFloatingFilters()&&(r++,i=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),d=r-(1+i);n=i*e.getFloatingFiltersHeight(),n+=d*a,this.headerHeight!==(n+=l)&&(this.headerHeight=n,this.comp.setHeightAndMinHeight(n+1+"px"),this.eventService.dispatchEvent({type:g.EVENT_HEADER_HEIGHT_CHANGED}))},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var i=this.columnModel.getAllDisplayedColumns().some(function(r){return r.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)},t.prototype.onTabKeyDown=function(e){var i=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==i?Bt.LEFT:Bt.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var i=null;switch(e.key){case F.LEFT:i=Bt.LEFT;case F.RIGHT:x(i)||(i=Bt.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,e);break;case F.UP:i=Bt.UP;case F.DOWN:x(i)||(i=Bt.DOWN),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var i=this.gridOptionsService.getDocument(),r=e.relatedTarget;!r&&this.eGui.contains(i.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},sn([h("headerNavigationService")],t.prototype,"headerNavigationService",void 0),sn([h("focusService")],t.prototype,"focusService",void 0),sn([h("columnModel")],t.prototype,"columnModel",void 0),sn([h("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(I),xf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),If=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return xf(t,o),t.prototype.postConstruct=function(){var e=this,i={addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){e.getGui().style.height=s,e.getGui().style.minHeight=s}};this.createManagedBean(new Lf).setComp(i,this.getGui(),this.getFocusableElement());var n=function(s){e.createManagedBean(s),e.appendChild(s)};n(new ss("left")),n(new ss(null)),n(new ss("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(oe),Nf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),as=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Gf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Nf(t,o),t.prototype.addResizeBar=function(e){var i=this,r={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(r,!0),function(){return i.dragService.removeDragSource(r)}},t.prototype.onDragStart=function(e,i){this.dragStartX=i.clientX,this.setResizeIcons();var r=i instanceof MouseEvent&&!0===i.shiftKey;e.onResizeStart(r)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,i){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},as([h("dragService")],t.prototype,"dragService",void 0),as([h("ctrlsService")],t.prototype,"ctrlsService",void 0),as([U("horizontalResizeService")],t)}(I),Hf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ar=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Vf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Hf(t,o),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,i){var r=this;this.showPopup(e,function(n){r.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:i,ePopup:n})},"columnMenu",i.target)},t.prototype.showMenuAfterButtonClick=function(e,i,r){var n=this;this.showPopup(e,function(s){n.popupService.positionPopupByComponent({type:r,eventSource:i,ePopup:s,keepWithinBounds:!0,position:"under",column:e,shouldSetMaxHeight:!0})},r,i)},t.prototype.showPopup=function(e,i,r,n){var s=this,a=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");Ie(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(_){return s.trapFocusWithin(_,l)}),a.guiPromise.then(function(_){return l.appendChild(_)});var u,c=n||this.ctrlsService.getGridBodyCtrl().getGui(),y=this.localeService.getLocaleTextFunc(),S=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(_){e.setMenuVisible(!1,"contextMenu");var E=_ instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),E&&n&&Si(n)){var O=s.focusService.findTabbableParent(n);O&&O.focus()}!function(){var _;null===(_=a.filterPromise)||void 0===_||_.then(function(E){var O;return null===(O=E?.afterGuiDetached)||void 0===O?void 0:O.call(E)})}()},positionCallback:function(){return i(l)},anchorToElement:c,ariaLabel:y("ariaLabelColumnMenu","Column Menu")});S&&(this.hidePopup=u=S.hideFunc),a.filterPromise.then(function(_){i(l),_.afterGuiAttached&&_.afterGuiAttached({container:r,hidePopup:u})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,i){e.key!==F.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},ar([h("filterManager")],t.prototype,"filterManager",void 0),ar([h("popupService")],t.prototype,"popupService",void 0),ar([h("focusService")],t.prototype,"focusService",void 0),ar([h("ctrlsService")],t.prototype,"ctrlsService",void 0),ar([U("menuFactory")],t)}(I),Bf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),an=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n};!function(o){function t(e){var i=o.call(this,t.getTemplate(e.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=e,e.items&&e.items.forEach(function(r){return i.addItem(r)}),i}Bf(t,o),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new Qt(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var i,r,n;return null===(n=null===(r=null===(i=e.activeItem)||void 0===i?void 0:i.tabbedItem)||void 0===r?void 0:r.afterDetachedCallback)||void 0===n?void 0:n.call(r)})},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsService.getDocument();switch(e.key){case F.RIGHT:case F.LEFT:if(!this.eHeader.contains(i.activeElement))return;var r=e.key===F.RIGHT,n=this.gridOptionsService.is("enableRtl"),s=this.items.indexOf(this.activeItem),a=r!==n?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;e.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case F.UP:case F.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var i=this,r=i.focusService,n=i.eHeader,s=i.eBody,a=i.activeItem,u=this.gridOptionsService.getDocument().activeElement,d=e.target;if(e.preventDefault(),n.contains(u))return void r.focusInto(s,e.shiftKey);var c=null;r.isTargetUnderManagedComponent(s,d)&&(e.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(s,d)),c||(c=a.eHeaderButton)),!c&&s.contains(u)&&((c=r.findNextFocusableElement(s,!1,e.shiftKey))||(c=a.eHeaderButton)),c&&c.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var i=document.createElement("span");Ie(i,"tab"),i.setAttribute("tabIndex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eHeader.appendChild(i),ii(i,e.titleLabel);var r={tabbedItem:e,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))},t.prototype.showItem=function(e){var i=this.items.find(function(r){return r.tabbedItem===e});i&&this.showItemWrapper(i)},t.prototype.showItemWrapper=function(e){var r,n,i=this,s=e.tabbedItem,a=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),rt(this.eBody),s.bodyPromise.then(function(l){i.eBody.appendChild(l);var u=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var d=s.getScrollableContainer&&s.getScrollableContainer()||l;i.lastScrollListener=i.addManagedListener(d,"scroll",function(){i.tabbedItemScrollMap.set(s.name,d.scrollTop)});var c=i.tabbedItemScrollMap.get(s.name);void 0!==c&&setTimeout(function(){d.scrollTop=c},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(n=(r=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===n||n.call(r)),a.classList.add("ag-tab-selected"),this.activeItem=e):Ps(this.params.onActiveItemClicked)},an([h("focusService")],t.prototype,"focusService",void 0),an([H("eHeader")],t.prototype,"eHeader",void 0),an([H("eBody")],t.prototype,"eBody",void 0),an([G],t.prototype,"postConstruct",null)}(oe);var Wf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kf=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return Wf(t,o),t.prototype.observeResize=function(e,i){var p,r=this,s=this.gridOptionsService.getDocument().defaultView||window,a=Qe(i,50),d=this.gridOptionsService.is("suppressBrowserResizeObserver");return s.ResizeObserver&&!d?((p=new s.ResizeObserver(a)).observe(e),function(){return p.disconnect()}):function(){var p=fo(e),y=ho(e),S=!0,_=function(){if(S){var E=fo(e),O=ho(e);(E!==p||O!==y)&&(p=E,y=O,i()),r.doNextPolyfillTurn(_)}};return _(),function(){return S=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var r=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],r.forEach(function(n){return n()})},50))},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("resizeObserverService")],t),t}(I),Uf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ln=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},zf=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Uf(t,o),t.prototype.setScrollTop=function(e){var i=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&0===e){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,i,r){this.verifyAnimationFrameOn(r);var n={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,i){e.list.push(i),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var i=this.scrollGoingDown?1:-1;e.list.sort(function(r,n){return r.index!==n.index?i*(n.index-r.index):n.createOrder-r.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var i=this.createTasksP1,r=i.list,n=this.createTasksP2,s=n.list,a=this.destroyTasks,l=(new Date).getTime(),u=(new Date).getTime()-l,d=e<=0,c=this.ctrlsService.getGridBodyCtrl();d||u<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){var y=void 0;if(r.length)this.sortTaskList(i),y=r.pop().task;else if(s.length)this.sortTaskList(n),y=s.pop().task;else{if(!a.length){this.cancelledTasks.clear();break}y=a.pop()}this.cancelledTasks.has(y)||y()}u=(new Date).getTime()-l}r.length||s.length||a.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),r=this.gridOptionsService.getDocument().defaultView||window;r.requestAnimationFrame?r.requestAnimationFrame(e):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(e):r.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var i=this,r=!1;return function(){i.isOn()?r||(r=!0,i.addDestroyTask(function(){r=!1,e()})):i.getFrameworkOverrides().setTimeout(e,0)}},ln([h("ctrlsService")],t.prototype,"ctrlsService",void 0),ln([h("paginationProxy")],t.prototype,"paginationProxy",void 0),ln([G],t.prototype,"init",null),ln([U("animationFrameService")],t)}(I),Kf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Yf=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Kf(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCtrl=i.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,i){var r=this.getHeaderCellForColumn(e);if(!r)return-1;var n=this.rowRenderer.getAllCellsForColumn(e);return i||n.push(r),this.addElementsToContainerAndGetWidth(n)},t.prototype.getPreferredWidthForColumnGroup=function(e){var i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var i=this,r=document.createElement("form");r.style.position="fixed";var n=this.centerRowContainerCtrl.getContainerElement();n.appendChild(r),e.forEach(function(l){return i.cloneItemIntoDummy(l,r)});var s=r.offsetWidth;return n.removeChild(r),s+this.getAutoSizePadding()},t.prototype.getAutoSizePadding=function(){var e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20},t.prototype.getHeaderCellForColumn=function(e){var i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){var n=r.getHtmlElementForColumnHeader(e);null!=n&&(i=n)}),i},t.prototype.cloneItemIntoDummy=function(e,i){var r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(function(p){return r.classList.contains(p)})?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");for(var l=e.parentElement;l;){if(["ag-header-row","ag-row"].some(function(p){return l.classList.contains(p)})){for(var d=0;d<l.classList.length;d++){var c=l.classList[d];"ag-row-position-absolute"!=c&&s.add(c)}break}l=l.parentElement}n.appendChild(r),i.appendChild(n)},lr([h("rowRenderer")],t.prototype,"rowRenderer",void 0),lr([h("ctrlsService")],t.prototype,"ctrlsService",void 0),lr([h("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),lr([G],t.prototype,"postConstruct",null),lr([U("autoWidthCalculator")],t)}(I),Qf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),un=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Xf=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Jf=function(o){function t(e,i){var r=o.call(this)||this;return r.createRowCon=e,r.destroyRowCtrls=i,r.stickyRowCtrls=[],r.containerHeight=0,r}return Qf(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=0;if(this.gridOptionsService.is("groupRowsSticky")){for(var i=[],r=this.rowRenderer.getFirstVisibleVerticalPixel(),n=function(p){i.push(p);for(var y=p;y.expanded;)y=fe(y.childrenAfterSort);var S=y.rowTop+y.rowHeight,_=r+e+p.rowHeight;p.stickyRowTop=S<_?e+(S-_):e,e=0,i.forEach(function(E){var O=E.stickyRowTop+E.rowHeight;e<O&&(e=O)})};;){var s=r+e,a=this.rowModel.getRowIndexAtPixel(s),l=this.rowModel.getRow(a);if(null==l||l.level<0)break;for(var u=[],d=l.parent;d.level>=0;)u.push(d),d=d.parent;var c=u.reverse().find(function(p){return i.indexOf(p)<0&&p.displayed});if(c)n(c);else{if(!(l.group&&l.expanded&&!l.footer&&l.rowTop<s))break;n(l)}}this.refreshNodesAndContainerHeight(i,e)}else this.refreshNodesAndContainerHeight([],e)},t.prototype.refreshNodesAndContainerHeight=function(e,i){var r,n,s,a=this,l=this.stickyRowCtrls.filter(function(_){return-1===e.indexOf(_.getRowNode())}),u=e.filter(function(_){return-1===a.stickyRowCtrls.findIndex(function(E){return E.getRowNode()===_})}),d={};l.forEach(function(_){d[_.getRowNode().id]=_,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(E){return E!==_})});try{for(var c=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],i=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(d)),p=c.next();!p.done;p=c.next())p.value.getRowNode().sticky=!1}catch(_){r={error:_}}finally{try{p&&!p.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}this.destroyRowCtrls(d,!1);var S=u.map(function(_){return _.sticky=!0,a.createRowCon(_,!1,!1)});(s=this.stickyRowCtrls).push.apply(s,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Xf(arguments[t]));return o}(S)),this.stickyRowCtrls.forEach(function(_){return _.setRowTop(_.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(_,E){return E.getRowNode().rowIndex-_.getRowNode().rowIndex}),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i))},un([h("rowModel")],t.prototype,"rowModel",void 0),un([h("rowRenderer")],t.prototype,"rowRenderer",void 0),un([h("ctrlsService")],t.prototype,"ctrlsService",void 0),un([G],t.prototype,"postConstruct",null),t}(I),$f=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ev=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},ls=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(ev(arguments[t]));return o},rv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return $f(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){this.addManagedListener(this.eventService,g.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,g.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,g.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")&&("clientSide"!=this.rowModel.getType()?te(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsService.isTreeData()?te(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new Jf(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new nv(e??3)}},t.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptionsService.getNum("keepDetailRowsCount");return x(e)&&e>0?e:10},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=R(this.rowCtrlsByRowIndex),i=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");(i||r)&&e.sort(function(a,l){return a.getRowNode().rowIndex-l.getRowNode.rowIndex});var n=R(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=ls(e,n,s)},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(i){return i.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(i){return i.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_CELL_FOCUSED,function(r){e.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,g.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,g.EVENT_FLASH_CELLS,function(r){e.getAllCellCtrls().forEach(function(n){return n.onFlashCells(r)})}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onColumnHover()})}),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(r){return r.onLeftChanged()})}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,g.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(r){return r.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(r){return r.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(r){return r.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,g.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var i=this.columnModel.getAllGridColumns();i&&i.forEach(function(r){var n=function(c){e.getAllCellCtrls().forEach(function(p){p.getColumn()===r&&c(p)})},s=function(){n(function(c){return c.onLeftChanged()})},a=function(){n(function(c){return c.onWidthChanged()})},l=function(){n(function(c){return c.onFirstRightPinnedChanged()})},u=function(){n(function(c){return c.onLastLeftPinnedChanged()})},d=function(){n(function(c){return c.onColDefChanged()})};r.addEventListener("leftChanged",s),r.addEventListener("widthChanged",a),r.addEventListener("firstRightPinnedChanged",l),r.addEventListener("lastLeftPinnedChanged",u),r.addEventListener("colDefChanged",d),e.destroyFuncsForColumnListeners.push(function(){r.removeEventListener("leftChanged",s),r.removeEventListener("widthChanged",a),r.removeEventListener("firstRightPinnedChanged",l),r.removeEventListener("lastLeftPinnedChanged",u),r.removeEventListener("colDefChanged",d)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),i=e||this.gridOptionsService.is("embedFullWidthRows"),r=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var i=[];return this.getAllRowCtrls().forEach(function(r){var n=r.getCellElement(e);n&&i.push(n)}),i},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,i){var r=this;e.forEach(function(n){n.destroyFirstPass(),n.destroySecondPass()}),e.length=0,i&&i.forEach(function(n){var s=new ci(n,r.beans,!1,!1,r.printLayout);e.push(s)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var i=[];return Q(e)||me(this.rowCtrlsByRowIndex,function(r,n){var s=n.getRowNode();e.indexOf(s)>=0&&i.push(r)}),i},t.prototype.redrawRows=function(e){var i=null!=e&&e.length>0;if(i){var r=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(r)}this.redrawAfterModelUpdate({recycleRows:i})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var i=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==i)return null;var n=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(n,di.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(n,ci.DOM_DATA_KEY_ROW_CTRL);return s||a?i:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gridOptionsService.isAnimateRows(),s=r?this.recycleRows():null;r||this.removeAllRowComps(),this.redraw(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=i&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var i=e.newData||e.newPage,r=this.gridOptionsService.is("suppressScrollOnNewData");i&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"})},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(i){i.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],i=this.getAllRowCtrls(),r=i.length,n=0;n<r;n++)for(var s=i[n].getAllCellCtrls(),a=s.length,l=0;l<a;l++)e.push(s[l]);return e},t.prototype.getAllRowCtrls=function(){var e,i,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],n=ls(this.topRowCtrls,this.bottomRowCtrls,r);try{for(var s=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],i=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next())n.push(this.rowCtrlsByRowIndex[a.value])}catch(u){e={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return n},t.prototype.addRenderedRowListener=function(e,i,r){var n=this.rowCtrlsByRowIndex[i];n&&n.addEventListener(e,r)},t.prototype.flashCells=function(e){void 0===e&&(e={});var i=e.flashDelay,r=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(n){return n.flashCell({flashDelay:i,fadeDelay:r})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){if(r.refreshShouldDestroy()){var n=r.getRowCtrl();n&&n.refreshCell(r)}else r.refreshCell(i)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(r){r.refreshFullWidth()})},t.prototype.getCellRendererInstances=function(e){var r,i=this,n=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l});if(null!==(r=e.columns)&&void 0!==r&&r.length)return n;var s=[],a=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if((!a||i.isRowInMap(l.getRowNode(),a))&&l.isFullWidth()){var u=l.getFullWidthCellRenderer();u&&s.push(u)}}),ls(s,n)},t.prototype.getCellEditorInstances=function(e){var i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){var n=r.getCellEditor();n&&i.push(n)}),i},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(i){if(i.isEditing()){var r=i.getCellPosition();e.push(r)}}),e},t.prototype.mapRowNodes=function(e){if(e){var i={top:{},bottom:{},normal:{}};return e.forEach(function(r){var n=r.id;"top"===r.rowPinned?i.top[n]=r:"bottom"===r.rowPinned?i.bottom[n]=r:i.normal[n]=r}),i}},t.prototype.isRowInMap=function(e,i){var r=e.id,n=e.rowPinned;return"bottom"===n?null!=i.bottom[r]:"top"===n?null!=i.top[r]:null!=i.normal[r]},t.prototype.getCellCtrls=function(e,i){var a,r=this,n=this.mapRowNodes(e),s=[];return x(i)&&(a={},i.forEach(function(u){var d=r.columnModel.getGridColumn(u);x(d)&&(a[d.getId()]=!0)})),this.getAllRowCtrls().forEach(function(u){return function(u){var d=u.getRowNode();null!=n&&!r.isRowInMap(d,n)||u.getAllCellCtrls().forEach(function(c){var p=c.getColumn().getId();a&&!a[p]||s.push(c)})}(u)}),s},t.prototype.destroy=function(){this.removeAllRowComps(),o.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];me(this.rowCtrlsByRowIndex,function(r,n){null==n.getRowNode().id&&e.push(r)}),this.removeRowCtrls(e);var i={};return me(this.rowCtrlsByRowIndex,function(r,n){var s=n.getRowNode();i[s.id]=n}),this.rowCtrlsByRowIndex={},i},t.prototype.removeRowCtrls=function(e){var i=this;e.forEach(function(r){var n=i.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete i.rowCtrlsByRowIndex[r]})},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redrawAfterScroll()},t.prototype.redrawAfterScroll=function(){var e;if(this.stickyRowFeature&&Fr()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=e){var i=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==i&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}},t.prototype.removeRowCompsNotToDraw=function(e){var i={};e.forEach(function(s){return i[s]=!0});var n=Object.keys(this.rowCtrlsByRowIndex).filter(function(s){return!i[s]});this.removeRowCtrls(n)},t.prototype.calculateIndexesToDraw=function(e){var i=this,r=fa(this.firstRenderedRow,this.lastRenderedRow),n=function(s,a){var l=a.getRowNode().rowIndex;null!=l&&(l<i.firstRenderedRow||l>i.lastRenderedRow)&&i.doNotUnVirtualiseRow(a)&&r.push(l)};return me(this.rowCtrlsByRowIndex,n),me(e,n),r.sort(function(s,a){return s-a}),r=r.filter(function(s){var a=i.paginationProxy.getRow(s);return a&&!a.sticky})},t.prototype.redraw=function(e,i,r){var n=this;void 0===i&&(i=!1),void 0===r&&(r=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var s=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(s),this.printLayout&&(i=!1);var a=[];s.forEach(function(u){var d=n.createOrUpdateRowCtrl(u,e,i,r);x(d)&&a.push(d)}),e&&(!r||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,i):this.beans.animationFrameService.addDestroyTask(function(){n.destroyRowCtrls(e,i),n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:g.EVENT_DISPLAYED_ROWS_CHANGED})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(i){var r=i.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var i=this,r=this.mapRowNodes(e);return R(this.rowCtrlsByRowIndex).filter(function(n){if(!n.isFullWidth())return!1;var s=n.getRowNode();return!(null!=r&&!i.isRowInMap(s,r))})},t.prototype.refreshFullWidthRows=function(e){var i=[],r=!!e,n=r?{}:void 0;r&&n&&e.forEach(function(s){return n[s.id]=!0}),this.getFullWidthRowCtrls().forEach(function(s){var a=s.getRowNode();if((!r||!n||n[a.id]||n[a.level>0&&a.parent?a.parent.id:void 0])&&!s.refreshFullWidth()){var c=s.getRowNode().rowIndex;i.push(c.toString())}}),this.removeRowCtrls(i),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,i,r,n){var s,a=this.rowCtrlsByRowIndex[e];if(a||x(s=this.paginationProxy.getRow(e))&&x(i)&&i[s.id]&&s.alreadyRendered&&(a=i[s.id],i[s.id]=null),!a){if(s||(s=this.paginationProxy.getRow(e)),!x(s))return;a=this.createRowCon(s,r,n)}return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a},t.prototype.destroyRowCtrls=function(e,i){var r=this,n=[];me(e,function(s,a){if(a){if(r.cachedRowCtrls&&a.isCacheable())return void r.cachedRowCtrls.addRow(a);a.destroyFirstPass(),i?(r.zombieRowCtrls[a.getInstanceId()]=a,n.push(function(){a.destroySecondPass(),delete r.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),i&&(n.push(function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()}),jt(n))},t.prototype.getRowBuffer=function(){var e=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof e?e<0&&(te(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,i;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),n=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.is("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var d=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getCurrentPagePixelRange(),p=c.pageFirstPixel,y=c.pageLastPixel,S=this.rowContainerHeightService.getDivStretchOffset(),_=n.getScrollFeature().getVScrollPosition(),E=_.top,O=_.bottom;s?(l=p+S,u=y+S):(l=Math.max(E+d-r,p)+S,u=Math.min(O+d+r,y)+S),this.firstVisibleVPixel=Math.max(E+d,p)+S,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var D=this.paginationProxy.getRowIndexAtPixel(l),L=this.paginationProxy.getRowIndexAtPixel(u),N=this.paginationProxy.getPageFirstRow(),j=this.paginationProxy.getPageLastRow();D<N&&(D=N),L>j&&(L=j),e=D,i=L}else e=0,i=-1;var X=this.gridOptionsService.isDomLayout("normal"),Z=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),z=Math.max(this.getRowBuffer(),500);X&&!Z&&i-e>z&&(i=e+z),(e!==this.firstRenderedRow||i!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=i,this.eventService.dispatchEvent({type:g.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:i}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var i={type:g.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(i)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,i){var r=this.paginationProxy.ensureRowHeightsValid(e,i,-1,-1);return r&&this.updateContainerHeights(),r},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),a=e.isEditing();return!!(s||a||n.detail)&&!!this.paginationProxy.isRowPresent(n)},t.prototype.createRowCon=function(e,i,r){var n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;var s=this.gridOptionsService.is("suppressAnimationFrame");return new ci(e,this.beans,i,r&&!s&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(i){return e[i].getRowNode()})},t.prototype.getRowByPosition=function(e){var i,r=e.rowIndex;switch(e.rowPinned){case"top":i=this.topRowCtrls[r];break;case"bottom":i=this.bottomRowCtrls[r];break;default:(i=this.rowCtrlsByRowIndex[r])||(i=this.getStickyTopRowCtrls().find(function(n){return n.getRowNode().rowIndex===r})||null)}return i},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,i){return!(null==e||null==i||i<this.firstRenderedRow||e>this.lastRenderedRow)},wt([h("animationFrameService")],t.prototype,"animationFrameService",void 0),wt([h("paginationProxy")],t.prototype,"paginationProxy",void 0),wt([h("columnModel")],t.prototype,"columnModel",void 0),wt([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),wt([h("rowModel")],t.prototype,"rowModel",void 0),wt([h("focusService")],t.prototype,"focusService",void 0),wt([h("beans")],t.prototype,"beans",void 0),wt([h("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),wt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),wt([G],t.prototype,"postConstruct",null),wt([U("rowRenderer")],t)}(I),nv=function(){function o(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return o.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},o.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},o.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],We(this.entriesList,t)},o.prototype.getEntries=function(){return this.entriesList},o}(),ov=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},sv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ov(t,o),t.prototype.formatValue=function(e,i,r,n,s){void 0===s&&(s=!0);var l,a=null,u=e.getColDef();if(n?l=n:s&&(l=u.valueFormatter),l){var d={value:r,node:i,data:i?i.data:null,colDef:u,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};a="function"==typeof l?l(d):this.expressionService.evaluate(l,d)}else if(u.refData)return u.refData[r]||"";return null==a&&Array.isArray(r)&&(a=r.join(", ")),a},Tl([h("expressionService")],t.prototype,"expressionService",void 0),Tl([U("valueFormatterService")],t)}(I),av=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),us=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},lv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return av(t,o),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},t.prototype.isEmpty=function(e){return Le("top"===e?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,i){var r="top"===i?this.pinnedTopRows:this.pinnedBottomRows;if(Le(r))return 0;for(var n=0;n<r.length;n++){var s=r[n];if(s.rowTop+s.rowHeight-1>=e)return n}return r.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:g.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:g.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,i){var r=this,n=[];if(e){var s=0;e.forEach(function(a,l){var u=new ue(r.beans);u.data=a,u.id=(i?ue.ID_PREFIX_TOP_PINNED:ue.ID_PREFIX_BOTTOM_PINNED)+l,u.rowPinned=i?"top":"bottom",u.setRowTop(s),u.setRowHeight(r.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,n.push(u)})}return n},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Le(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Le(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var i=fe(e);return i.rowTop+i.rowHeight},us([h("beans")],t.prototype,"beans",void 0),us([G],t.prototype,"init",null),us([U("pinnedRowModel")],t)}(I),ds=function(){function o(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return o.prototype.setInactive=function(){this.active=!1},o.prototype.isActive=function(){return this.active},o.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)},o.prototype.depthFirstSearchEverything=function(t,e,i){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var n=t.childrenAfterGroup[r];n.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,i):i&&e(n)}e(t)},o.prototype.forEachChangedNodeDepthFirst=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},o.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},o.prototype.createPathItems=function(t){for(var e=t,i=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},i++,e=e.parent;return i},o.prototype.populateColumnsMap=function(t,e){var i=this;if(this.keepingColumns&&e)for(var r=t;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),e.forEach(function(n){return i.nodeIdsToColumns[r.id][n.getId()]=!0}),r=r.parent},o.prototype.linkPathItems=function(t,e){for(var i=t,r=0;r<e;r++){var n=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(n),i=i.parent}},o.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}},o.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},o.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var i=this.nodeIdsToColumns[t.id];return e.filter(function(n){return i[n.getId()]})},o.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[t.id];return e.filter(function(n){return!i[n.getId()]})},o}(),dv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dl=function(o){function t(e){var i=o.call(this)||this;return i.state=t.STATE_WAITING_TO_LOAD,i.version=0,i.id=e,i}return dv(t,o),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,i){this.successCommon(e,i)},t.prototype.pageLoaded=function(e,i,r){this.successCommon(e,{rowData:i,rowCount:r})},t.prototype.isRequestMostRecentAndLive=function(e){var i=e===this.version,r=this.isAlive();return i&&r},t.prototype.successCommon=function(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(i))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(I),cv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},pv=function(o,t){return function(e,i){t(e,i,o)}},hv=function(o){function t(){var i=null!==o&&o.apply(this,arguments)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i}var e;return cv(t,o),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var i=this.gridOptionsService.getNum("blockLoadDebounceMillis");i&&i>0&&(this.checkBlockToLoadDebounce=Nt.debounce(this.performCheckBlocksToLoad.bind(this),i))},t.prototype.setBeans=function(i){this.logger=i.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var i=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==i?2:i<=0?void 0:i},t.prototype.addBlock=function(i){this.blocks.push(i),i.addEventListener(Dl.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(i){Nt.removeFromArray(this.blocks,i)},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var i=this.getAvailableLoadingCount(),r=this.blocks.filter(function(n){return n.getState()===Dl.STATE_WAITING_TO_LOAD}).slice(0,i);this.registerLoads(r.length),r.forEach(function(n){return n.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var r={};return this.blocks.forEach(function(n){var s=n.getBlockStateJson();r[s.id]=s.state}),r},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(i){this.activeBlockLoadsCount+=i},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",dn([h("rowModel")],t.prototype,"rowModel",void 0),dn([G],t.prototype,"postConstruct",null),dn([pv(0,Xe("loggerFactory"))],t.prototype,"setBeans",null),e=dn([U("rowNodeBlockLoader")],t)}(I),fv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},vv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return fv(t,o),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,g.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,i,r,n){var s=this.rowModel.ensureRowHeightsValid(e,i,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},t.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:g.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:g.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:g.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return Q(this.topRowBounds)||Q(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var i=this.getPageFirstRow(),r=this.getPageLastRow(),n=i;n<=r;n++){var s=this.getRow(n);s&&e(s)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var i=this.rowModel.getRowBounds(e);return i.rowIndex=e,i},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var i=this.getPageForIndex(e);this.goToPage(i)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(x(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:g.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},cs([h("rowModel")],t.prototype,"rowModel",void 0),cs([G],t.prototype,"postConstruct",null),cs([U("paginationProxy")],t)}(I),gv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},yv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return gv(t,o),t.prototype.processAllCellClasses=function(e,i,r,n){this.processClassRules(e.cellClassRules,i,r,n),this.processStaticCellClasses(e,i,r)},t.prototype.processClassRules=function(e,i,r,n){if(null!=e){for(var s=Object.keys(e),a={},l={},u=function(p){var _,y=s[p],S=e[y];"string"==typeof S?_=d.expressionService.evaluate(S,i):"function"==typeof S&&(_=S(i)),y.split(" ").forEach(function(E){null==E||""==E.trim()||(_?a[E]=!0:l[E]=!0)})},d=this,c=0;c<s.length;c++)u(c);n&&Object.keys(l).forEach(n),Object.keys(a).forEach(r)}},t.prototype.getStaticCellClasses=function(e,i){var n,r=e.cellClass;return r?("string"==typeof(n="function"==typeof r?r(i):r)&&(n=[n]),n||[]):[]},t.prototype.processStaticCellClasses=function(e,i,r){this.getStaticCellClasses(e,i).forEach(function(s){r(s)})},Pl([h("expressionService")],t.prototype,"expressionService",void 0),Pl([U("stylingService")],t)}(I),Cv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mv=function(o){function t(e){return o.call(this,e,"ag-toggle-button")||this}return Cv(t,o),t.prototype.setValue=function(e,i){return o.prototype.setValue.call(this,e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Yi),wv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sv=function(o){function t(e){return o.call(this,e,"ag-text-area",null,"textarea")||this}return wv(t,o),t.prototype.setValue=function(e,i){var r=o.prototype.setValue.call(this,e,i);return this.eInput.value=e,r},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Gt),_v=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ev=function(o){function t(e){return o.call(this,e,"ag-range-field","range")||this}return _v(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this);var e=this.config,i=e.min,r=e.max,n=e.step;null!=i&&this.setMinValue(i),null!=r&&this.setMaxValue(r),this.setStep(n||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){e.setValue(i.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,i){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var r=o.prototype.setValue.call(this,e,i);return this.eInput.value=e,r},t}(Gt),Rv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ov=function(o){function t(e){var i=o.call(this,e,t.TEMPLATE)||this;return i.labelAlignment="top",i}return Rv(t,o),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var i=this,r=_i.EVENT_CHANGED;return this.addManagedListener(this.eText,r,function(){var n=parseFloat(i.eText.getValue());i.eSlider.setValue(n.toString(),!0),e(n||0)}),this.addManagedListener(this.eSlider,r,function(){var n=i.eSlider.getValue();i.eText.setValue(n,!0),e(parseFloat(n))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:_i.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',cn([H("eLabel")],t.prototype,"eLabel",void 0),cn([H("eSlider")],t.prototype,"eSlider",void 0),cn([H("eText")],t.prototype,"eText",void 0),cn([G],t.prototype,"init",null),t}(Ia),Tv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Dv=function(o){function t(e){void 0===e&&(e={});var i=o.call(this,t.getTemplate(e))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var n=e.enabled,s=e.items,a=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return i.title=e.title,i.cssIdentifier=e.cssIdentifier||"default",i.enabled=n??!0,i.items=s||[],i.alignItems=e.alignItems||"center",null!=a&&(i.suppressEnabledCheckbox=a),null!=l&&(i.suppressOpenCloseIcons=l),i}return Tv(t,o),t.getTemplate=function(e){var i=e.cssIdentifier||"default";return'<div class="ag-group ag-'+i+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+i+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+i+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+i+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+i+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+i+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+i+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var i=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(i("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(ft("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ft("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(i){switch(i.key){case F.ENTER:case F.SPACE:i.preventDefault(),e.toggleGroupExpand();break;case F.RIGHT:case F.LEFT:i.preventDefault(),e.toggleGroupExpand(i.key===F.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||mt(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;le(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),le(this.eGroupOpenedIcon,e&&this.expanded),le(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),le(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),le(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var i=this;e.forEach(function(r){return i.addItem(r)})},t.prototype.addItem=function(e){var i=this.eContainer,r=e instanceof oe?e.getGui():e;r.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),i.appendChild(r),this.items.push(r)},t.prototype.hideItem=function(e,i){le(this.items[i],!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,i){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),i||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var i=this;return this.cbGroupEnabled.onValueChange(function(r){i.setEnabled(r,!0),e(r)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Xt([H("eTitleBar")],t.prototype,"eTitleBar",void 0),Xt([H("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Xt([H("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Xt([H("eToolbar")],t.prototype,"eToolbar",void 0),Xt([H("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Xt([H("eTitle")],t.prototype,"eTitle",void 0),Xt([H("eContainer")],t.prototype,"eContainer",void 0),Xt([G],t.prototype,"postConstruct",null),t}(oe),Pv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ur=function(o){return o.TAB_GUARD="ag-tab-guard",o.TAB_GUARD_TOP="ag-tab-guard-top",o.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",o}(ur||{}),bv=function(o){function t(e){var i=o.call(this)||this;i.skipTabGuardFocus=!1;var n=e.eTopGuard,s=e.eBottomGuard,a=e.focusInnerElement,l=e.onFocusIn,u=e.onFocusOut,d=e.shouldStopEventPropagation,c=e.onTabKeyDown,p=e.handleKeyDown,y=e.eFocusableElement;return i.comp=e.comp,i.eTopGuard=n,i.eBottomGuard=s,i.providedFocusInnerElement=a,i.eFocusableElement=y,i.providedFocusIn=l,i.providedFocusOut=u,i.providedShouldStopEventPropagation=d,i.providedOnTabKeyDown=c,i.providedHandleKeyDown=p,i}return Pv(t,o),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new Qt(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)},onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(i){return e.addManagedListener(i,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var i=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var n=this.getNextFocusableElement(e.shiftKey);r&&setTimeout(function(){return i.activateTabGuards()},0),n&&(n.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,i.focus()},bl([h("focusService")],t.prototype,"focusService",void 0),bl([G],t.prototype,"postConstruct",null),t}(I),Av=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fv=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},pn=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Av(t,o),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(n){i.forEach(function(s){return null!=n?s.setAttribute("tabIndex",n):s.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new bv({comp:r,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var i=document.createElement("div");return i.classList.add(ur.TAB_GUARD,"top"===e?ur.TAB_GUARD_TOP:ur.TAB_GUARD_BOTTOM),Ie(i,"presentation"),i},t.prototype.addTabGuards=function(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];rt(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Fv(arguments[t]));return o}(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,i){ki(e)||(e=e.getGui());var r=this.eBottomGuard;r?r.insertAdjacentElement("beforebegin",e):o.prototype.appendChild.call(this,e,i)},t}(oe),xv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hn=function(){return hn=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},hn.apply(this,arguments)},Al=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Mv=function(o){function t(e){void 0===e&&(e=1);var i=o.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=e,i.menuItems=[],i}return xv(t,o),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}})},t.prototype.onTabKeyDown=function(e){var i=this.getParentComponent(),r=i&&i.getGui();r&&r.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case F.UP:case F.RIGHT:case F.DOWN:case F.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case F.ESCAPE:var i=this.findTopMenu();i&&this.focusService.focusInto(i.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var i=this;e?.forEach(function(r){"separator"===r?i.addSeparator():"string"==typeof r?console.warn("AG Grid: unrecognised menu item "+r):i.addItem(r)})},t.prototype.addItem=function(e){var i=this,r=this.createManagedBean(new dr(hn(hn({},e),{isAnotherSubMenuOpen:function(){return i.menuItems.some(function(n){return n.isSubMenuOpen()})}})));r.setParentComponent(this),ea(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,dr.EVENT_MENU_ITEM_SELECTED,function(n){i.dispatchEvent(n)}),this.addManagedListener(r,dr.EVENT_MENU_ITEM_ACTIVATED,function(n){i.activeMenuItem&&i.activeMenuItem!==n.menuItem&&i.activeMenuItem.deactivate(),i.activeMenuItem=n.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(i){return!i.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(He('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var i=e&&e.getParentComponent&&e.getParentComponent();if(!i||!(i instanceof t||i instanceof dr))break;e=i}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case F.UP:case F.DOWN:var i=this.findNextItem(e===F.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsService.is("enableRtl")?F.RIGHT:F.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var i=this.getParentComponent();i&&i instanceof dr&&(e&&e.preventDefault(),i.closeSubMenu(),i.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var i=this.menuItems.filter(function(l){return!l.isDisabled()});if(i.length){if(!this.activeMenuItem)return e?fe(i):i[0];e&&i.reverse();for(var r,n=!1,s=0;s<i.length;s++){var a=i[s];if(n){r=a;break}a===this.activeMenuItem&&(n=!0)}return r||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),o.prototype.destroy.call(this)},Al([h("focusService")],t.prototype,"focusService",void 0),Al([G],t.prototype,"postConstruct",null),t}(pn),Iv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gv=function(o){function t(e){var i=o.call(this)||this;return i.wrappedComponent=e,i.setTemplateFromElement(e.getGui()),i}return Iv(t,o),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}})},t.prototype.handleKeyDown=function(e){e.key===F.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(pn),Hv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},dr=function(o){function t(e){var i=o.call(this)||this;return i.params=e,i.isActive=!1,i.subMenuIsOpen=!1,i.setTemplate('<div class="'+i.getClassName()+'" tabindex="-1" role="treeitem"></div>'),i}return Hv(t,o),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var i=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),zn(i,!0)):(this.addGuiEventListener("click",function(r){return e.onItemSelected(r)}),this.addGuiEventListener("keydown",function(r){(r.key===F.ENTER||r.key===F.SPACE)&&(r.preventDefault(),e.onItemSelected(r))}),this.addGuiEventListener("mousedown",function(r){r.stopPropagation(),r.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(r){return e.addCssClass(r)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var i=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var n,r=He('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var s=qs(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new Mv(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),r.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(D){return i.dispatchEvent(D)}),l.addGuiEventListener("mouseenter",function(){return i.cancelDeactivate()}),n=function(){return i.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,d=this.createBean(new Gv(u));d.setParentComponent(this);var c=d.getGui(),p="mouseenter",y=function(){return i.cancelDeactivate()};c.addEventListener(p,y),n=function(){return c.removeEventListener(p,y)},r.appendChild(c),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var S=this.getGui(),_=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:S,ePopup:r,shouldSetMaxHeight:this.params.shouldSetMaxHeight}),E=this.localeService.getLocaleTextFunc(),O=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:_,anchorToElement:S,ariaLabel:E("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,mt(S,!0),this.hideSubMenu=function(){O&&O.hideFunc(),i.subMenuIsOpen=!1,mt(S,!1),n()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,mt(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var i=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){i.isAlive()&&i.isActive&&i.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=He('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(be("check",this.gridOptionsService)):this.params.icon&&(ki(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=He('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Oo(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=He('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=He('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),i=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";mt(i,!1),e.appendChild(be(r,this.gridOptionsService))}i.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?i+"-"+e:i},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,Fl([h("popupService")],t.prototype,"popupService",void 0),Fl([G],t.prototype,"init",null),t}(oe),Vv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ll=function(o){function t(e){var i=o.call(this,t.getTemplate(e))||this;return i.closable=!0,i.config=e,i}return Vv(t,o),t.getTemplate=function(e){var i=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+i+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+i+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+i+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+i+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+i+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,i=this.config,r=i.component,n=i.closable,s=i.hideTitleBar,a=i.title,l=i.minWidth,u=void 0===l?250:l,d=i.width,c=i.minHeight,p=void 0===c?250:c,y=i.height,S=i.centered,_=i.popup,E=i.x,O=i.y;this.positionableFeature=new Ma(this.getGui(),{minWidth:u,width:d,minHeight:p,height:y,centered:S,x:E,y:O,popup:_,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var D=this.getGui();r&&this.setBodyComponent(r),s?le(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(n??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(L){var N=e.gridOptionsService.getDocument();if(D.contains(L.relatedTarget)||D.contains(N.activeElement)||e.eTitleBarButtons.contains(L.target))L.preventDefault();else{var j=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");j&&j.focus()}}),(!_||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,i=this.getGui();i.focus(),this.close=function(){i.parentElement.removeChild(i),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var i=this.closeButtonComp=new oe(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var r=i.getGui(),n=be("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(n),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,i){var r=this.eTitleBarButtons,n=r.children,s=n.length;null==i&&(i=s),i=Math.max(0,Math.min(i,s)),e.addCssClass("ag-panel-title-bar-button");var a=e.getGui();0===i?r.insertAdjacentElement("afterbegin",a):i===s?r.insertAdjacentElement("beforeend",a):n[i-1].insertAdjacentElement("afterend",a),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Vi(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return Ir(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),o.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',cr([H("eContentWrapper")],t.prototype,"eContentWrapper",void 0),cr([H("eTitleBar")],t.prototype,"eTitleBar",void 0),cr([H("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),cr([H("eTitle")],t.prototype,"eTitle",void 0),cr([G],t.prototype,"postConstruct",null),t}(oe),Bv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fn=function(){return fn=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},fn.apply(this,arguments)},jv=function(o){function t(e){var i=o.call(this,fn(fn({},e),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return Bv(t,o),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),r=this.config,n=r.movable,s=r.resizable,a=r.maximizable;this.addCssClass("ag-dialog"),o.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",function(l){i.contains(l.relatedTarget)||e.popupService.bringPopupToFront(i)}),n&&this.setMovable(n),a&&this.setMaximizable(a),s&&this.setResizable(s)},t.prototype.renderComponent=function(){var e=this.getGui(),i=this.config,r=i.alwaysOnTop,n=i.modal,s=i.title,a=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({modal:n,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:s||a("ariaLabelDialog","Dialog")});l&&(this.close=l.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var i=this.lastPosition,r=i.x,n=i.y,a=i.height;this.setWidth(i.width),this.setHeight(a),this.positionableFeature.offsetElement(r,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){le(this.maximizeIcon,!this.isMaximized),le(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),o.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var i=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var r=this.eTitleBar;if(r&&e!==this.isMaximizable){var n=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),n.addManagedListener(n.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){i.isMaximized=!1,i.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new oe('<div class="ag-dialog-button"></span>')),i=e.getGui();return this.maximizeIcon=be("maximize",this.gridOptionsService),i.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=be("minimize",this.gridOptionsService),i.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([h("popupService")],t.prototype,"popupService",void 0),t}(Ll),kv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pr=function(){return pr=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},pr.apply(this,arguments)},Dt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Uv=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},hr=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return kv(t,o),e=t,t.addKeyboardModeEvents=function(i,r){var n=e.instancesMonitored.get(i);n&&n.length>0?-1===n.indexOf(r)&&n.push(r):(e.instancesMonitored.set(i,[r]),i.addEventListener("keydown",e.toggleKeyboardMode),i.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(i,r){var n=e.instancesMonitored.get(i),s=[];n&&n.length&&(s=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Uv(arguments[t]));return o}(n).filter(function(a){return a!==r}),e.instancesMonitored.set(i,s)),0===s.length&&(i.removeEventListener("keydown",e.toggleKeyboardMode),i.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(i){var r=e.keyboardModeActive,n="keydown"===i.type;if(!(n&&(i.ctrlKey||i.metaKey||i.altKey)||r&&n||!r&&!n)){e.keyboardModeActive=n;var s=i.target.ownerDocument;if(s){var a=e.instancesMonitored.get(s);a&&a.forEach(function(l){l.dispatchEvent({type:n?g.EVENT_KEYBOARD_FOCUS:g.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var i=this,r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,g.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,g.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.ctrlsService.whenReady(function(n){i.gridCtrl=n.gridCtrl;var s=i.gridOptionsService.getDocument();e.addKeyboardModeEvents(s,i.gridCtrl),i.addDestroyFunc(function(){return i.unregisterGridCompController(i.gridCtrl)})})},t.prototype.unregisterGridCompController=function(i){var r=this.gridOptionsService.getDocument();e.removeKeyboardModeEvents(r,i)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var i=this.focusedCellPosition.column,r=this.columnModel.getGridColumn(i.getId());i!==r&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(i.activeElement,ci.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(i.activeElement,tn.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(i,r){for(var n=i;n;){if(this.gridOptionsService.getDomData(n,r))return!1;n=n.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.getFocusEventParams=function(){var i=this.focusedCellPosition,r=i.rowIndex,n=i.rowPinned,a={rowIndex:r,rowPinned:n,column:i.column,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});return l&&(a.isFullWidthCell=l.isFullWidth()),a},t.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var i=pr({type:g.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(i)}},t.prototype.setFocusedCell=function(i){var n=i.rowIndex,s=i.rowPinned,a=i.forceBrowserFocus,l=void 0!==a&&a,u=i.preventScrollOnBrowserFocus,d=void 0!==u&&u,c=this.columnModel.getGridColumn(i.column);if(c){this.focusedCellPosition=c?{rowIndex:n,rowPinned:Ge(s),column:c}:null;var p=pr(pr({type:g.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:d,floating:null});this.eventService.dispatchEvent(p)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(i){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===i.column&&this.isRowFocused(i.rowIndex,i.rowPinned)},t.prototype.isRowNodeFocused=function(i){return this.isRowFocused(i.rowIndex,i.rowPinned)},t.prototype.isHeaderWrapperFocused=function(i){if(null==this.focusedHeaderPosition)return!1;var r=i.getColumnGroupChild(),n=i.getRowIndex(),s=i.getPinned(),a=this.focusedHeaderPosition,l=a.column;return r===l&&n===a.headerRowIndex&&s==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(i,r){this.focusedHeaderPosition={headerRowIndex:i,column:r}},t.prototype.focusHeaderPosition=function(i){var r=i.direction,n=i.fromTab,a=i.event,l=i.headerPosition;if(i.allowUserOverride){var c,u=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();n?(c=this.gridOptionsService.getCallback("tabToNextHeader"))&&(l=c({backwards:"Before"===r,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:d})):(c=this.gridOptionsService.getCallback("navigateToNextHeader"))&&a&&(l=c({key:a.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:d,event:a}))}return!!l&&(-1===l.headerRowIndex?this.focusGridView(l.column):(this.headerNavigationService.scrollToColumn(l.column,r),this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()).focusHeader(l.headerRowIndex,l.column,a)))},t.prototype.focusFirstHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];return!!i&&(i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:i}}))},t.prototype.focusLastHeader=function(i){var r=this.headerNavigationService.getHeaderRowCount()-1,n=fe(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:n},event:i})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(i,r){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===Ge(r)},t.prototype.findFocusableElements=function(i,r,n){void 0===n&&(n=!1);var a=uo;r&&(a+=", "+r),n&&(a+=', [tabindex="-1"]');var p,l=Array.prototype.slice.apply(i.querySelectorAll(va)),u=Array.prototype.slice.apply(i.querySelectorAll(a));return u.length?(p=u,l.filter(function(y){return-1===p.indexOf(y)})):l},t.prototype.focusInto=function(i,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);var s=this.findFocusableElements(i,null,n),a=r?fe(s):s[0];return!!a&&(a.focus(),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(i,r){if(!r)return null;var n=this.findFocusableElements(i),s=n.indexOf(r);if(-1===s)return null;for(var a=-1,l=s-1;l>=0;l--)if(n[l].classList.contains(ur.TAB_GUARD_TOP)){a=l;break}return a<=0?null:n[a-1]},t.prototype.findNextFocusableElement=function(i,r,n){void 0===i&&(i=this.eGridDiv);var s=this.findFocusableElements(i,r?':not([tabindex="-1"])':null),l=this.gridOptionsService.getDocument().activeElement,d=(r?s.findIndex(function(c){return c.contains(l)}):s.indexOf(l))+(n?-1:1);return d<0||d>=s.length?null:s[d]},t.prototype.isTargetUnderManagedComponent=function(i,r){if(!r)return!1;var n=i.querySelectorAll("."+Qt.FOCUS_MANAGED_CLASS);if(!n.length)return!1;for(var s=0;s<n.length;s++)if(n[s].contains(r))return!0;return!1},t.prototype.findTabbableParent=function(i,r){void 0===r&&(r=5);for(var n=0;i&&null===Lr(i)&&++n<=r;)i=i.parentElement;return null===Lr(i)?null:i},t.prototype.focusGridView=function(i,r){if(this.gridOptionsService.is("suppressCellFocus"))return r?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var n=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var s=n.rowIndex,a=n.rowPinned,l=this.getFocusedHeader();return!i&&l&&(i=l.column),!(null==s||!i)&&(this.navigationService.ensureCellVisible({rowIndex:s,column:i,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:i,rowPinned:Ge(a),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:a,column:i}),!0)},t.prototype.focusNextGridCoreContainer=function(i){return!!this.gridCtrl.focusNextInnerContainer(i)||(!i&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Dt([h("eGridDiv")],t.prototype,"eGridDiv",void 0),Dt([h("columnModel")],t.prototype,"columnModel",void 0),Dt([h("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Dt([h("rowRenderer")],t.prototype,"rowRenderer",void 0),Dt([h("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Dt([ve("rangeService")],t.prototype,"rangeService",void 0),Dt([h("navigationService")],t.prototype,"navigationService",void 0),Dt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Dt([G],t.prototype,"init",null),e=Dt([U("focusService")],t)}(I),Kv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Yv=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},hi=function(o){return o[o.vertical=0]="vertical",o[o.horizontal=1]="horizontal",o}(hi||{}),qv=0,Xv=function(o){function t(){var i=null!==o&&o.apply(this,arguments)||this;return i.popupList=[],i}var e;return Kv(t,o),e=t,t.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(r){i.gridCtrl=r.gridCtrl,i.addManagedListener(i.gridCtrl,g.EVENT_KEYBOARD_FOCUS,function(){i.popupList.forEach(function(n){return n.element.classList.add(hr.AG_KEYBOARD_FOCUS)})}),i.addManagedListener(i.gridCtrl,g.EVENT_MOUSE_FOCUS,function(){i.popupList.forEach(function(n){return n.element.classList.remove(hr.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(i){var r=i.eventSource.getBoundingClientRect(),n=this.getParentRect();this.checkClearMaxHeight(i.ePopup,i.shouldSetMaxHeight);var s=this.keepXYWithinBounds(i.ePopup,r.top-n.top,hi.vertical),a=i.ePopup.clientWidth>0?i.ePopup.clientWidth:200;i.ePopup.style.minWidth=a+"px";var d,u=n.right-n.left-a;function c(){return r.right-n.left-2}function p(){return r.left-n.left-a}this.gridOptionsService.is("enableRtl")?((d=p())<0&&(d=c()),d>u&&(d=0)):((d=c())>u&&(d=p()),d<0&&(d=0)),i.ePopup.style.left=d+"px",i.ePopup.style.top=s+"px",this.checkSetMaxHeight(i.ePopup,s,i.shouldSetMaxHeight)},t.prototype.positionPopupUnderMouseEvent=function(i){var r=this;this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,keepWithinBounds:!0,skipObserver:i.skipObserver,shouldSetMaxHeight:i.shouldSetMaxHeight,updatePosition:function(){return r.calculatePointerAlign(i.mouseEvent)},postProcessCallback:function(){return r.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)}})},t.prototype.calculatePointerAlign=function(i){var r=this.getParentRect();return{x:i.clientX-r.left,y:i.clientY-r.top}},t.prototype.positionPopupByComponent=function(i){var r=this,n=i.eventSource.getBoundingClientRect(),s=i.alignSide||"left",a=i.position||"over",l=this.getParentRect();this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,keepWithinBounds:i.keepWithinBounds,shouldSetMaxHeight:i.shouldSetMaxHeight,updatePosition:function(){var d=n.left-l.left;return"right"===s&&(d-=i.ePopup.offsetWidth-n.width),{x:d,y:"over"===a?n.top-l.top:n.top-l.top+n.height}},postProcessCallback:function(){return r.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)}})},t.prototype.callPostProcessPopup=function(i,r,n,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");u&&u({column:a,rowNode:l,ePopup:r,type:i,eventSource:n,mouseEvent:s})},t.prototype.positionPopup=function(i){var r=this,n=i.ePopup,s=i.keepWithinBounds,a=i.nudgeX,l=i.nudgeY,u=i.skipObserver,d=i.shouldSetMaxHeight,c=i.updatePosition,p={width:0,height:0},y=function(_){void 0===_&&(_=!1);var E=c(),O=E.x,D=E.y;_&&n.clientWidth===p.width&&n.clientHeight===p.height||(p.width=n.clientWidth,p.height=n.clientHeight,a&&(O+=a),l&&(D+=l),r.checkClearMaxHeight(n,d),s&&(O=r.keepXYWithinBounds(n,O,hi.horizontal),D=r.keepXYWithinBounds(n,D,hi.vertical)),n.style.left=O+"px",n.style.top=D+"px",r.checkSetMaxHeight(n,D,d),i.postProcessCallback&&i.postProcessCallback())};if(y(),!u){var S=this.resizeObserverService.observeResize(n,function(){return y(!0)});setTimeout(function(){return S()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var i=this.gridOptionsService.getDocument(),r=this.getPopupParent();r===i.body?r=i.documentElement:"static"===getComputedStyle(r).position&&(r=r.offsetParent);var n=getComputedStyle(r),s=r.getBoundingClientRect();return{top:s.top+parseFloat(n.borderTopWidth)||0,left:s.left+parseFloat(n.borderLeftWidth)||0,right:s.right+parseFloat(n.borderRightWidth)||0,bottom:s.bottom+parseFloat(n.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(i,r,n){var s=n===hi.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",d=s?"scrollTop":"scrollLeft",c=this.gridOptionsService.getDocument(),p=c.documentElement,y=this.getPopupParent(),S=y.getBoundingClientRect(),_=c.documentElement.getBoundingClientRect(),E=y===c.body,O=i[u],L=E?(s?po:Nr)(p)+p[d]:y[a];E&&(L-=Math.abs(_[l]-S[l]));var N=L-O;return Math.min(Math.max(r,0),Math.abs(N))},t.prototype.keepPopupPositionedRelativeTo=function(i){var r=this,n=this.getPopupParent(),s=n.getBoundingClientRect(),a=i.element.getBoundingClientRect(),l=s.top-a.top,u=s.left-a.left,d=l,c=u,p=i.ePopup.style.top,y=parseInt(p.substring(0,p.length-1),10),S=i.ePopup.style.left,_=parseInt(S.substring(0,S.length-1),10);return new nt(function(E){r.getFrameworkOverrides().setInterval(function(){var O=n.getBoundingClientRect(),D=i.element.getBoundingClientRect();if(0==D.top&&0==D.left&&0==D.height&&0==D.width)i.hidePopup();else{var N=O.top-D.top;if(N!=d){var j=r.keepXYWithinBounds(i.ePopup,y+l-N,hi.vertical);i.ePopup.style.top=j+"px"}d=N;var X=O.left-D.left;if(X!=c){var Z=r.keepXYWithinBounds(i.ePopup,_+u-X,hi.horizontal);i.ePopup.style.left=Z+"px"}c=X}},200).then(function(O){E(function(){null!=O&&window.clearInterval(O)})})})},t.prototype.addPopup=function(i){var r,n=this,s=i.modal,a=i.eChild,l=i.closeOnEsc,u=i.closedCallback,d=i.click,c=i.alwaysOnTop,p=i.afterGuiAttached,y=i.positionCallback,S=i.anchorToElement,_=i.ariaLabel,E=this.gridOptionsService.getDocument(),O=new nt(function(pe){return pe(function(){})});if(!E)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:O};var D=this.popupList.findIndex(function(pe){return pe.element===a});if(-1!==D){var L=this.popupList[D];return{hideFunc:L.hideFunc,stopAnchoringPromise:L.stopAnchoringPromise}}var N=this.getPopupParent();null==a.style.top&&(a.style.top="0px"),null==a.style.left&&(a.style.left="0px");var j=document.createElement("div"),X=this.environment.getTheme().allThemes;X.length&&(r=j.classList).add.apply(r,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Yv(arguments[t]));return o}(X)),j.classList.add("ag-popup"),a.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),a.hasAttribute("role")||Ie(a,"dialog"),ii(a,_),this.focusService.isKeyboardMode()&&a.classList.add(hr.AG_KEYBOARD_FOCUS),j.appendChild(a),N.appendChild(j),c?this.setAlwaysOnTop(j,!0):this.bringPopupToFront(j);var Z=!1,z=function(pe){j.contains(E.activeElement)&&pe.key===F.ESCAPE&&ge({keyboardEvent:pe})},$=function(pe){return ge({mouseEvent:pe})},re=function(pe){return ge({touchEvent:pe})},ge=function(pe){void 0===pe&&(pe={});var Be=pe.mouseEvent,$e=pe.touchEvent,Te=pe.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:Be,touchEvent:$e},a)||n.isEventSameChainAsOriginalEvent({originalMouseEvent:d,mouseEvent:Be,touchEvent:$e})||Z||(Z=!0,N.removeChild(j),E.removeEventListener("keydown",z),E.removeEventListener("mousedown",$),E.removeEventListener("touchstart",re),E.removeEventListener("contextmenu",$),n.eventService.removeEventListener(g.EVENT_DRAG_STARTED,$),u&&u(Be||$e||Te),n.popupList=n.popupList.filter(function(ye){return ye.element!==a}),O&&O.then(function(ye){return ye&&ye()}))};return p&&p({hidePopup:ge}),window.setTimeout(function(){l&&E.addEventListener("keydown",z),s&&(E.addEventListener("mousedown",$),n.eventService.addEventListener(g.EVENT_DRAG_STARTED,$),E.addEventListener("touchstart",re),E.addEventListener("contextmenu",$))},0),y&&y(),S&&(O=this.keepPopupPositionedRelativeTo({element:S,ePopup:a,hidePopup:ge})),this.popupList.push({element:a,wrapper:j,hideFunc:ge,stopAnchoringPromise:O,instanceId:qv++,isAnchored:!!S}),{hideFunc:ge,stopAnchoringPromise:O}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},t.prototype.isEventFromCurrentPopup=function(i,r){var a=i.mouseEvent||i.touchEvent;if(!a)return!1;var l=this.popupList.findIndex(function(c){return c.element===r});if(-1===l)return!1;for(var u=l;u<this.popupList.length;u++)if(Tr(this.popupList[u].element,a))return!0;return this.isElementWithinCustomPopup(a.target)},t.prototype.isElementWithinCustomPopup=function(i){for(var r=this.gridOptionsService.getDocument();i&&i!==r.body;){if(i.classList.contains("ag-custom-component-popup")||null===i.parentElement)return!0;i=i.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(i){var r=i.originalMouseEvent,n=i.mouseEvent,s=i.touchEvent,a=null;if(n?a=n:s&&(a=s.touches[0]),a&&r){var u=n?n.screenY:0,d=Math.abs(r.screenX-(n?n.screenX:0))<5,c=Math.abs(r.screenY-u)<5;if(d&&c)return!0}return!1},t.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},t.prototype.setAlwaysOnTop=function(i,r){var n=this.getWrapper(i);n&&(n.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(n))},t.prototype.bringPopupToFront=function(i){var r=this.getPopupParent(),n=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),s=n.length,a=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(i);if(u&&!(s<=1)&&r.contains(i)){var d=n.indexOf(u),c=u.querySelectorAll("div"),p=[];for(c.forEach(function(E){0!==E.scrollTop&&p.push([E,E.scrollTop])}),l?u.classList.contains("ag-always-on-top")?d!==s-1&&fe(a).insertAdjacentElement("afterend",u):d!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u):d!==s-1&&fe(n).insertAdjacentElement("afterend",u);p.length;){var S=p.pop();S[0].scrollTop=S[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:u})}},t.prototype.checkClearMaxHeight=function(i,r){r&&i.style.removeProperty("max-height")},t.prototype.checkSetMaxHeight=function(i,r,n){n&&"100%"===getComputedStyle(i).maxHeight&&(i.style.maxHeight="calc(100% - "+r+"px)")},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,fr([h("focusService")],t.prototype,"focusService",void 0),fr([h("ctrlsService")],t.prototype,"ctrlsService",void 0),fr([h("resizeObserverService")],t.prototype,"resizeObserverService",void 0),fr([G],t.prototype,"postConstruct",null),e=fr([U("popupService")],t)}(I),Zv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ps=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Jv=(function(o){function t(e,i,r){void 0===e&&(e="default"),void 0===i&&(i="listbox");var n=o.call(this,t.getTemplate(e))||this;return n.cssIdentifier=e,n.ariaRole=i,n.listName=r,n.renderedRows=new Map,n.rowHeight=20,n}Zv(t,o),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)},focusInnerElement:function(i){return e.focusInnerElement(i)},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,g.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),r=this.eContainer;Ie(r,this.ariaRole),ii(r,i)},t.prototype.addResizeObserver=function(){var e=this,r=this.resizeObserverService.observeResize(this.getGui(),function(){return e.drawVirtualRows()});this.addDestroyFunc(r)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var i=e.target;return i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Xs(i)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case F.UP:case F.DOWN:this.navigate(e.key===F.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.forceFocusOutOfContainer(e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var i=this.lastFocusedRowIndex+(e?-1:1);return!(i<0||i>=this.model.getRowCount()||(this.focusRow(i),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var i=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(i.isAlive()){var r=i.renderedRows.get(e);r&&r.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var i=this.renderedRows.get(e);return i&&i.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(i,r){return e(i.rowComponent,r)})},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var r=e*this.rowHeight,n=r+this.rowHeight,s=this.getGui(),a=s.scrollTop,l=s.offsetHeight,c=a+l<n;a>r?s.scrollTop=r:c&&(s.scrollTop=n-l)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var i=this;if(null!=this.model&&this.isAlive()){var r=this.model.getRowCount();this.eContainer.style.height=r*this.rowHeight+"px",Ds(function(){return i.eContainer.clientHeight>=r*i.rowHeight},function(){i.isAlive()&&(i.canSoftRefresh(e)?i.drawVirtualRows(!0):(i.clearVirtualRows(),i.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(i,r){return e.removeRow(r)})},t.prototype.drawVirtualRows=function(e){if(this.isAlive()){var i=this.getGui(),r=i.scrollTop,n=r+i.offsetHeight,s=Math.floor(r/this.rowHeight),a=Math.floor(n/this.rowHeight);this.ensureRowsRendered(s,a,e)}},t.prototype.ensureRowsRendered=function(e,i,r){var n=this;this.renderedRows.forEach(function(a,l){(l<e||l>i)&&l!==n.lastFocusedRowIndex&&n.removeRow(l)}),r&&this.refreshRows();for(var s=e;s<=i;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},t.prototype.insertRow=function(e){var i=this,r=this.model.getRow(e),n=document.createElement("div");if(n.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Ie(n,"tree"===this.ariaRole?"treeitem":"option"),Kn(n,this.model.getRowCount()),Yn(n,e+1),n.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var s=this.model.isRowSelected(e);Ci(n,!!s),la(n,s)}n.style.height=this.rowHeight+"px",n.style.top=this.rowHeight*e+"px";var a=this.componentCreator(r,n);a.addGuiEventListener("focusin",function(){return i.lastFocusedRowIndex=e}),n.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(e,{rowComponent:a,eDiv:n,value:r})},t.prototype.removeRow=function(e){var i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,i=this.model.getRowCount();this.renderedRows.forEach(function(r,n){var s,a;if(n>=i)e.removeRow(n);else{var l=e.model.getRow(n);null!==(a=(s=e.model).areRowsEqual)&&void 0!==a&&a.call(s,r.value,l)?e.componentUpdater(l,r.rowComponent):e.removeRow(n)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),o.prototype.destroy.call(this))},ps([h("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ps([H("eContainer")],t.prototype,"eContainer",void 0),ps([G],t.prototype,"postConstruct",null)}(pn),["mouseover","mouseout","mouseenter","mouseleave"]),$v=["touchstart","touchend","touchmove","touchcancel"],xl=function(){function o(){this.isOutsideAngular=function(t){return ct(Jv,t)}}return o.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},o.prototype.setInterval=function(t,e){return new nt(function(i){i(window.setInterval(t,e))})},o.prototype.addEventListener=function(t,e,i,r){var n=ct($v,e);t.addEventListener(e,i,{capture:!!r,passive:n})},o.prototype.dispatchEvent=function(t,e,i){void 0===i&&(i=!1),e()},o.prototype.frameworkComponent=function(t){return null},o.prototype.isFrameworkComponent=function(t){return!1},o}(),eg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pi=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},tg=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},rg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return eg(t,o),t.prototype.getNextCellToFocus=function(e,i,r){return void 0===r&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,i){var a,l,r=e===F.UP,s=e===F.LEFT;if(r||e===F.DOWN)l=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=i.column;else{var u=this.columnModel.getAllDisplayedColumns(),d=this.gridOptionsService.is("enableRtl");l=i.rowIndex,a=s!==d?u[0]:fe(u)}return{rowIndex:l,rowPinned:null,column:a}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,i){for(var r=i,n=!1;!n;){switch(e){case F.UP:r=this.getCellAbove(r);break;case F.DOWN:r=this.getCellBelow(r);break;case F.RIGHT:r=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(r):this.getCellToRight(r);break;case F.LEFT:r=this.gridOptionsService.is("enableRtl")?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e)}n=!r||this.isCellGoodToFocusOn(r)}return r},t.prototype.isCellGoodToFocusOn=function(e){var r,i=e.column;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex)}return!!r&&!i.isSuppressNavigable(r)},t.prototype.getCellToLeft=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var i=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var n=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(n)||{rowIndex:i+1,rowPinned:r}},t.prototype.getNextStickyPosition=function(e,i){if(this.gridOptionsService.is("groupRowsSticky")&&e&&e.sticky){var r=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(tg(arguments[t]));return o}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),n=i?-1:1,s=r.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),a=r[s+n];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var i=e.rowPinned,r=e.rowIndex;return"top"===i?this.pinnedRowModel.getPinnedTopRowData().length-1<=r:"bottom"===i?this.pinnedRowModel.getPinnedBottomRowData().length-1<=r:this.paginationProxy.getPageLastRow()<=r},t.prototype.getRowAbove=function(e){var i=e.rowIndex,r=e.rowPinned;if(r?0===i:i===this.paginationProxy.getPageFirstRow())return"top"===r?null:r&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(s,!0)||{rowIndex:i-1,rowPinned:r}},t.prototype.getCellAbove=function(e){if(!e)return null;var i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=i[0];var a=this.getRowBelow(e);if(Q(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}},t.prototype.getNextTabbedCellBackwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=fe(i);var a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Q(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}},Pi([h("columnModel")],t.prototype,"columnModel",void 0),Pi([h("rowModel")],t.prototype,"rowModel",void 0),Pi([h("rowRenderer")],t.prototype,"rowRenderer",void 0),Pi([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Pi([h("paginationProxy")],t.prototype,"paginationProxy",void 0),Pi([U("cellNavigationService")],t)}(I),ng=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},og=function(o,t){return function(e,i){t(e,i,o)}},sg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.consuming=!1,e}return ng(t,o),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,g.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,g.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,g.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var i=this.gridOptionsService.get("alignedGrids");i&&i.forEach(function(r){if(r.api){var n=r.api.__getAlignedGridService();e(n)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(i){i.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(i){i.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var i=this;this.onEvent(function(){i.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var i=[];return e.columns?e.columns.forEach(function(r){i.push(r)}):e.column&&i.push(e.column),i},t.prototype.getColumnIds=function(e){var i=[];return e.columns?e.columns.forEach(function(r){i.push(r.getColId())}):e.column&&i.push(e.column.getColId()),i},t.prototype.onColumnEvent=function(e){var i=this;this.onEvent(function(){switch(e.type){case g.EVENT_COLUMN_MOVED:case g.EVENT_COLUMN_VISIBLE:case g.EVENT_COLUMN_PINNED:case g.EVENT_COLUMN_RESIZED:i.processColumnEvent(e);break;case g.EVENT_COLUMN_GROUP_OPENED:i.processGroupOpenedEvent(e);break;case g.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var i=e.columnGroup,r=null;if(i){var n=i.getGroupId();r=this.columnModel.getProvidedColumnGroup(n)}i&&!r||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),this.columnModel.setColumnGroupOpened(r,i.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var r,i=this,n=e.column,s=null;if(n&&(s=this.columnModel.getPrimaryColumn(n.getColId())),!n||s){var a=this.getMasterColumns(e);switch(e.type){case g.EVENT_COLUMN_MOVED:var l=e,d=e.columnApi.getColumnState().map(function(D){return{colId:D.colId}});this.columnModel.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+l.toIndex);break;case g.EVENT_COLUMN_VISIBLE:var c=e;d=e.columnApi.getColumnState().map(function(N){return{colId:N.colId,hide:N.hide}}),this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+c.visible);break;case g.EVENT_COLUMN_PINNED:var p=e;d=e.columnApi.getColumnState().map(function(N){return{colId:N.colId,pinned:N.pinned}}),this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+p.pinned);break;case g.EVENT_COLUMN_RESIZED:var y=e,S={};a.forEach(function(D){i.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+D.getActualWidth()),S[D.getId()]={key:D.getColId(),newWidth:D.getActualWidth()}}),null===(r=y.flexColumns)||void 0===r||r.forEach(function(D){S[D.getId()]&&delete S[D.getId()]}),this.columnModel.setColumnWidths(Object.values(S),!1,y.finished,"alignedGridChanged")}var E=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),O=this.gridOptionsService.get("alignedGrids");O&&O.forEach(function(D){D.api&&D.api.setAlwaysShowVerticalScroll(E)})}},vr([h("columnModel")],t.prototype,"columnModel",void 0),vr([h("ctrlsService")],t.prototype,"ctrlsService",void 0),vr([og(0,Xe("loggerFactory"))],t.prototype,"setBeans",null),vr([G],t.prototype,"init",null),vr([U("alignedGridsService")],t)}(I),ag=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vn=function(){return vn=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},vn.apply(this,arguments)},gr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},lg=function(o,t){return function(e,i){t(e,i,o)}},dg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ag(t,o),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){var e=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(i){return e.groupSelectsChildren=i.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(i){return e.rowSelection=i.currentValue}),this.addManagedListener(this.eventService,g.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodeSelected=function(e){var i,r=e.newValue,n=e.clearSelection,s=e.suppressFinishActions,a=e.rangeSelect,u=e.node,d=e.source,c=void 0===d?"api":d,p=this.groupSelectsChildren&&!0===e.groupSelectsFiltered;if(void 0===u.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(u.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(u.footer)return this.setNodeSelected(vn(vn({},e),{node:u.sibling}));var y=this.getLastSelectedNode();if(a&&y&&y!==u&&this.isMultiselect()){var _=this.selectRange(u,y,e.newValue,c);return this.setLastSelectedNode(u),_}var O=0;return p&&u.group||u.selectThisNode(r,e.event,c)&&O++,this.groupSelectsChildren&&!(null===(i=u.childrenAfterGroup)||void 0===i)&&i.length&&(O+=this.selectChildren(u,r,p,c)),s||(r&&(n||!this.isMultiselect())&&(O+=this.clearOtherNodes(u,c)),O>0&&(this.updateGroupsFromChildrenSelections(c),this.eventService.dispatchEvent({type:g.EVENT_SELECTION_CHANGED,source:c})),r&&this.setLastSelectedNode(u)),O},t.prototype.selectRange=function(e,i,r,n){var s=this;void 0===r&&(r=!0);var a=this.rowModel.getNodesInRangeForSelection(e,i),l=0;return a.forEach(function(d){d.group&&s.groupSelectsChildren||!1===r&&e===d||d.selectThisNode(r,void 0,n)&&l++}),this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:g.EVENT_SELECTION_CHANGED,source:n}),l},t.prototype.selectChildren=function(e,i,r,n){var s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;if(Nt.missing(s))return 0;for(var a=0,l=0;l<s.length;l++)a+=s[l].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n});return a},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return me(this.selectedNodes,function(i,r){r&&e.push(r)}),e},t.prototype.getSelectedRows=function(){var e=[];return me(this.selectedNodes,function(i,r){r&&r.data&&e.push(r.data)}),e},t.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},t.prototype.filterFromSelection=function(e){var i={};Object.entries(this.selectedNodes).forEach(function(r){var n=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n}(r,2),s=n[0],a=n[1];a&&e(a)&&(i[s]=a)}),this.selectedNodes=i},t.prototype.updateGroupsFromChildrenSelections=function(e,i){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var n=this.rowModel.getRootNode();i||(i=new ds(!0,n)).setInactive();var s=!1;return i.forEachChangedNodeDepthFirst(function(a){if(a!==n){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(null!==l&&l,void 0,e)||s}}),s},t.prototype.clearOtherNodes=function(e,i){var r=this,n={},s=0;return me(this.selectedNodes,function(a,l){l&&l.id!==e.id&&(s+=r.selectedNodes[l.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),r.groupSelectsChildren&&l.parent&&(n[l.parent.id]=l.parent))}),me(n,function(a,l){var u=l.calculateSelectedFromChildren();l.selectThisNode(null!==u&&u,void 0,i)}),s},t.prototype.onRowSelected=function(e){var i=e.node;this.groupSelectsChildren&&i.group||(this.selectedNodes[i.id]=i.isSelected()?i:void 0)},t.prototype.syncInRowNode=function(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,i){x(i)&&e.id!==i.id&&i&&this.selectedNodes[i.id]==e&&(this.selectedNodes[i.id]=i)},t.prototype.syncInNewRowNode=function(e){x(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var i=this.rowModel.getTopLevelNodes();if(null!==i){var r=[];return function n(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];u.isSelected()?r.push(u):u.group&&u.children&&n(u.children)}}(i),r}}},t.prototype.isEmpty=function(){var e=0;return me(this.selectedNodes,function(i,r){r&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){var i=function(u){return u.selectThisNode(!1,void 0,n)},r="clientSide"===this.rowModel.getType(),n=e.source,s=e.justFiltered,a=e.justCurrentPage;if(a||s){if(!r)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(s,a).forEach(i)}else me(this.selectedNodes,function(u,d){d&&i(d)}),this.reset();r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:g.EVENT_SELECTION_CHANGED,source:n})},t.prototype.getSelectAllState=function(e,i){var r=this,n=0,s=0;return this.getNodesToSelect(e,i).forEach(function(l){r.groupSelectsChildren&&l.group||(l.isSelected()?n++:l.selectable&&s++)}),(0!==n||0!==s)&&(n>0&&s>0?null:n>0)},t.prototype.getNodesToSelect=function(e,i){var r=this;if(void 0===e&&(e=!1),void 0===i&&(i=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var n=[];if(i)return this.paginationProxy.forEachNodeOnPage(function(a){if(a.group)if(a.expanded)r.groupSelectsChildren||n.push(a);else{var l=function(u){var d;n.push(u),null!==(d=u.childrenAfterFilter)&&void 0!==d&&d.length&&u.childrenAfterFilter.forEach(l)};l(a)}else n.push(a)}),n;var s=this.rowModel;return e?(s.forEachNodeAfterFilter(function(a){n.push(a)}),n):(s.forEachNode(function(a){n.push(a)}),n)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var i=e.source;this.getNodesToSelect(e.justFiltered,e.justCurrentPage).forEach(function(l){return l.selectThisNode(!0,void 0,i)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:g.EVENT_SELECTION_CHANGED,source:i})},t.prototype.getServerSideSelectionState=function(){return null},t.prototype.setServerSideSelectionState=function(e){},gr([h("rowModel")],t.prototype,"rowModel",void 0),gr([h("paginationProxy")],t.prototype,"paginationProxy",void 0),gr([lg(0,Xe("loggerFactory"))],t.prototype,"setBeans",null),gr([G],t.prototype,"init",null),gr([U("selectionService")],t)}(I),hs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},cg=function(){function o(){}return o.prototype.sizeColumnsToFit=function(t){typeof t>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},o.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},o.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},o.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},o.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},o.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},o.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},o.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},o.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},o.prototype.getColumnState=function(){return this.columnModel.getColumnState()},o.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},o.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},o.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},o.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},o.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},o.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},o.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},o.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},o.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},o.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},o.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},o.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},o.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},o.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},o.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},o.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},o.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},o.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},o.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},o.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},o.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},o.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},o.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},o.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},o.prototype.setColumnWidth=function(t,e,i,r){void 0===i&&(i=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,r)},o.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,i)},o.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},o.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},o.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},o.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},o.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},o.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},o.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},o.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},o.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},o.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},o.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},o.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},o.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},o.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},o.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},o.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},o.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},o.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},o.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},o.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},o.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},o.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},o.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},o.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},o.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},o.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},o.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},o.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},o.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},o.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Nt.removeAllReferences.bind(window,this,"Column API"),100)},o.prototype.getAllColumns=function(){return xe("28.0","getAllColumns","getColumns"),this.getColumns()},o.prototype.getOriginalColumnGroup=function(t){return xe("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},o.prototype.getPrimaryColumns=function(){return xe("28.0","getPrimaryColumns","getColumns"),this.getColumns()},o.prototype.getSecondaryColumns=function(){return xe("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},o.prototype.setSecondaryColumns=function(t){xe("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)},o.prototype.getSecondaryPivotColumn=function(t,e){return xe("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)},hs([h("columnModel")],o.prototype,"columnModel",void 0),hs([qe],o.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),hs([U("columnApi")],o)}(),pg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},hg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.initialised=!1,e}return pg(t,o),t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(g.EVENT_CELL_VALUE_CHANGED,function(i){return e.callColumnCellValueChangedHandler(i)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(i){return e.isTreeData=i.currentValue})},t.prototype.getValue=function(e,i,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=!1),this.initialised||this.init(),i){var d,s=e.getColDef(),a=s.field,l=e.getColId(),u=i.data,c=i.groupData&&void 0!==i.groupData[l],p=!n&&i.aggData&&void 0!==i.aggData[l];if(r&&s.filterValueGetter?d=this.executeFilterValueGetter(s.filterValueGetter,u,e,i):this.isTreeData&&p?d=i.aggData[l]:this.isTreeData&&s.valueGetter?d=this.executeValueGetter(s.valueGetter,u,e,i):this.isTreeData&&a&&u?d=Y(u,a,e.isFieldContainsDots()):c?d=i.groupData[l]:p?d=i.aggData[l]:s.valueGetter?d=this.executeValueGetter(s.valueGetter,u,e,i):a&&u&&(d=Y(u,a,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof d&&0===d.indexOf("=")){var y=d.substring(1);d=this.executeValueGetter(y,u,e,i)}if(null==d){var S=this.getOpenedGroup(i,e);if(null!=S)return S}return d}},t.prototype.getOpenedGroup=function(e,i){if(this.gridOptionsService.is("showOpenedGroup")&&i.getColDef().showRowGroup)for(var n=i.getColDef().showRowGroup,s=e.parent;null!=s;){if(s.rowGroupColumn&&(!0===n||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}},t.prototype.setValue=function(e,i,r,n){var s=this.columnModel.getPrimaryColumn(i);if(!e||!s)return!1;Q(e.data)&&(e.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(Q(l)&&Q(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var c,d={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return d.newValue=r,void 0===(c=x(u)?"function"==typeof u?u(d):this.expressionService.evaluate(u,d):this.setValueUsingField(e.data,l,r,s.isFieldContainsDots()))&&(c=!0),!!c&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(s,e),this.eventService.dispatchEvent({type:g.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:e.data,node:e,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:n}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var i=e.colDef.onCellValueChanged;"function"==typeof i&&i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,i,r,n){if(!i)return!1;var s=!1;if(n)for(var a=i.split("."),l=e;a.length>0&&l;){var u=a.shift();0===a.length?(s=l[u]==r)||(l[u]=r):l=l[u]}else(s=e[i]==r)||(e[i]=r);return!s},t.prototype.executeFilterValueGetter=function(e,i,r,n){var s={data:i,node:n,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,n)};return"function"==typeof e?e(s):this.expressionService.evaluate(e,s)},t.prototype.executeValueGetter=function(e,i,r,n){var s=r.getColId(),a=this.valueCache.getValue(n,s);if(void 0!==a)return a;var u,l={data:i,node:n,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,n)};return u="function"==typeof e?e(l):this.expressionService.evaluate(e,l),this.valueCache.setValue(n,s,u),u},t.prototype.getValueCallback=function(e,i){var r=this.columnModel.getPrimaryColumn(i);return r?this.getValue(r,e):null},t.prototype.getKeyForNode=function(e,i){var r=this.getValue(e,i),n=e.getColDef().keyCreator,s=r;return n&&(s=n({value:r,colDef:e.getColDef(),column:e,node:i,data:i.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof s||null==s||"[object Object]"===(s=String(s))&&te(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),s},yr([h("expressionService")],t.prototype,"expressionService",void 0),yr([h("columnModel")],t.prototype,"columnModel",void 0),yr([h("valueCache")],t.prototype,"valueCache",void 0),yr([G],t.prototype,"init",null),yr([U("valueService")],t)}(I),fg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ml=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},vg=function(o,t){return function(e,i){t(e,i,o)}},gg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return fg(t,o),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,i){if("string"==typeof e)return this.evaluateExpression(e,i);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup)}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",i),console.log("Exception = "+s),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var i=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=r,r},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},Ml([vg(0,Xe("loggerFactory"))],t.prototype,"setBeans",null),Ml([U("expressionService")],t)}(I),yg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return yg(t,o),t.prototype.getTemplate=function(e,i){var r=this.templateCache[e];if(r)return r;var n=this.waitingCallbacks[e],s=this;if(!n){this.waitingCallbacks[e]=n=[];var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,e)},a.open("GET",e),a.send()}return i&&n.push(i),null},t.prototype.handleHttpResult=function(e,i){if(200===e.status&&null!==e.response){this.templateCache[i]=e.response||e.responseText;for(var r=this.waitingCallbacks[i],n=0;n<r.length;n++)(0,r[n])()}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+i)},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("templateService")],t),t}(I),wg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Il=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Sg=function(o,t){return function(e,i){t(e,i,o)}},_g=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return wg(t,o),t.prototype.setBeans=function(e){this.logging=e.is("debug")},t.prototype.create=function(e){return new fs(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Il([Sg(0,Xe("gridOptionsService"))],t.prototype,"setBeans",null),Il([U("loggerFactory")],t)}(I),fs=function(){function o(t,e){this.name=t,this.isLoggingFunc=e}return o.prototype.isLogging=function(){return this.isLoggingFunc()},o.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},o}(),Eg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bi=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Rg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Eg(t,o),t.prototype.setComp=function(e,i,r){var n=this;this.view=e,this.eGridHostDiv=i,this.eGui=r,this.dragAndDropService.addDropTarget({getContainer:function(){return n.eGui},isInterestedIn:function(a){return a===Ze.HeaderCell||a===Ze.ToolPanel},getIconName:function(){return Ve.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new Uo(this.view)),this.addRtlSupport(),this.addManagedListener(this,g.EVENT_KEYBOARD_FOCUS,function(){n.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,g.EVENT_MOUSE_FOCUS,function(){n.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,i=this.focusService.findTabbableParent(this.getGui());return(null===(e=i?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return q.isRegistered(k.RowGroupingModule)},t.prototype.showSideBar=function(){return q.isRegistered(k.SideBarModule)},t.prototype.showStatusBar=function(){return q.isRegistered(k.StatusBarModule)},t.prototype.showWatermark=function(){return q.isRegistered(k.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:g.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var i=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),s=r.findIndex(function(a){return a.contains(i.activeElement)})+(e?-1:1);return!(s<=0||s>=r.length)&&this.focusService.focusInto(r[s])},t.prototype.focusInnerElement=function(e){var i=this.view.getFocusableContainers();if(e){if(i.length>1)return this.focusService.focusInto(fe(i),!0);var r=fe(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(r,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},bi([h("focusService")],t.prototype,"focusService",void 0),bi([h("resizeObserverService")],t.prototype,"resizeObserverService",void 0),bi([h("columnModel")],t.prototype,"columnModel",void 0),bi([h("ctrlsService")],t.prototype,"ctrlsService",void 0),bi([h("mouseEventService")],t.prototype,"mouseEventService",void 0),bi([h("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(I),Og=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cr=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Tg=function(o){function t(e){var i=o.call(this)||this;return i.eGridDiv=e,i}return Og(t,o),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var i={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(n){return e.addCssClass(n)},addOrRemoveKeyboardFocusClass:function(n){return e.addOrRemoveCssClass(hr.AG_KEYBOARD_FOCUS,n)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(n){e.getGui().style.userSelect=n??"",e.getGui().style.webkitUserSelect=n??""},setCursor:function(n){e.getGui().style.cursor=n??""}};this.ctrl=this.createManagedBean(new Rg);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(i,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(n){return e.ctrl.focusInnerElement(n)}})},t.prototype.insertGridIntoDom=function(){var e=this,i=this.getGui();this.eGridDiv.appendChild(i),this.addDestroyFunc(function(){e.eGridDiv.removeChild(i),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,i){var r=this.eRootWrapperBody.classList;r.toggle(Fe.AUTO_HEIGHT,i.autoHeight),r.toggle(Fe.NORMAL,i.normal),r.toggle(Fe.PRINT,i.print),this.addOrRemoveCssClass(Fe.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(Fe.NORMAL,i.normal),this.addOrRemoveCssClass(Fe.PRINT,i.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(i){return Si(i)})},Cr([h("loggerFactory")],t.prototype,"loggerFactory",void 0),Cr([H("gridBody")],t.prototype,"gridBodyComp",void 0),Cr([H("sideBar")],t.prototype,"sideBarComp",void 0),Cr([H("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Cr([G],t.prototype,"postConstruct",null),t}(pn),Dg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},gn=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},mr=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(gn(arguments[t]));return o},Pg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return Dg(t,o),e=t,t.prototype.progressSort=function(i,r,n){var s=this.getNextSortDirection(i);this.setSortForColumn(i,s,r,n)},t.prototype.setSortForColumn=function(i,r,n,s){"asc"!==r&&"desc"!==r&&(r=null);var l=[i];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&i.getColDef().showRowGroup){i.getColDef().field||(l=[]);var u=this.columnModel.getSourceColumnsForGroupColumn(i),d=u?.filter(function(p){return p.getColDef().sortable});d&&(l=mr(l,d))}l.forEach(function(p){return p.setSort(r,s)}),(n||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(l,s),this.updateSortIndex(i),this.dispatchSortChangedEvents(s)},t.prototype.updateSortIndex=function(i){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(i.getId()),s=r&&n||i,a=this.getColumnsWithSortingOrdered(!0);this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(d){return d.setSortIndex(null)});var l=a.filter(function(d){return d!==s});(s.getSort()?mr(l,[s]):l).forEach(function(d,c){return d.setSortIndex(c)})},t.prototype.onSortChanged=function(i){this.dispatchSortChangedEvents(i)},t.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(n){return!!n.getSort()});return r&&r.length>0},t.prototype.dispatchSortChangedEvents=function(i){this.eventService.dispatchEvent({type:g.EVENT_SORT_CHANGED,source:i})},t.prototype.clearSortBarTheseColumns=function(i,r){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(n){i.includes(n)||n.setSort(void 0,r)})},t.prototype.getNextSortDirection=function(i){var r;if(r=i.getColDef().sortingOrder?i.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):e.DEFAULT_SORTING_ORDER,!Array.isArray(r)||r.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+r),null;var n=i.getColDef().field?i.getSort():this.getDisplaySortForColumn(i),s=r[0];if("mixed"!==n){var a=r.indexOf(n);s=a<0||a==r.length-1?r[0]:r[a+1]}return e.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s},t.prototype.getIndexedSortMap=function(i){var r=this;void 0===i&&(i=!1);var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(d){return!!d.getSort()});!i&&this.columnModel.isPivotMode()&&(n=n.filter(function(d){return!!d.getAggFunc()||!d.isPrimary()||r.columnModel.getGroupDisplayColumnForGroup(d.getId())}));var s=this.columnModel.getRowGroupColumns().filter(function(d){return!!d.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(n=mr(new Set(n.map(function(d){var c;return null!==(c=r.columnModel.getGroupDisplayColumnForGroup(d.getId()))&&void 0!==c?c:d}))));var l={};n.forEach(function(d,c){return l[d.getId()]=c}),n.sort(function(d,c){var p=d.getSortIndex(),y=c.getSortIndex();return null!=p&&null!=y?p-y:null==p&&null==y?l[d.getId()]>l[c.getId()]?1:-1:null==y?-1:1});var u=new Map;return n.forEach(function(d,c){return u.set(d,c)}),a&&s.forEach(function(d){var c=r.columnModel.getGroupDisplayColumnForGroup(d.getId());u.set(d,u.get(c))}),u},t.prototype.getColumnsWithSortingOrdered=function(i){return void 0===i&&(i=!1),mr(this.getIndexedSortMap(i).entries()).sort(function(r,n){return gn(r,2)[1]-gn(n,2)[1]}).map(function(r){return gn(r,1)[0]})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered(!0).map(function(i){return{sort:i.getSort(),colId:i.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(i){return{sort:i.getSort(),column:i}})},t.prototype.canColumnDisplayMixedSort=function(i){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!i.getColDef().showRowGroup;return r&&n},t.prototype.getDisplaySortForColumn=function(i){var r=this.columnModel.getSourceColumnsForGroupColumn(i);if(!this.canColumnDisplayMixedSort(i)||!r?.length)return i.getSort();var s=i.getColDef().field?mr([i],r):r,a=s[0].getSort();return s.every(function(u){return u.getSort()==a})?a:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(i){return this.getIndexedSortMap().get(i)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],Nl([h("columnModel")],t.prototype,"columnModel",void 0),e=Nl([U("sortController")],t)}(I),bg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return bg(t,o),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:g.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:g.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("columnHoverService")],t),t}(I),Lg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},xg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return Lg(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){return e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var i=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===i&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var i=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==i.length)&&(window.setTimeout(function(){return e.forEach(function(r){return r()})},0),window.setTimeout(function(){return i.forEach(function(r){return r()})},300))},vs([h("ctrlsService")],t.prototype,"ctrlsService",void 0),vs([G],t.prototype,"postConstruct",null),vs([U("columnAnimationService")],t)}(I),Mg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ig=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Mg(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCon=i.centerRowContainerCtrl,e.addManagedListener(e.eventService,g.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,g.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsService.getRowHeightAsNumber(),i=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(i>0){var r=Math.floor(i/e);this.gridOptionsService.set("paginationPageSize",r)}}},gs([h("ctrlsService")],t.prototype,"ctrlsService",void 0),gs([G],t.prototype,"postConstruct",null),gs([U("paginationAutoPageSizeService")],t)}(I),Ng=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Gg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.cacheVersion=0,e}return Ng(t,o),t.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,i,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=r)},t.prototype.getValue=function(e,i){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[i]},Gl([G],t.prototype,"init",null),Gl([U("valueCache")],t)}(I),Hg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Bg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Hg(t,o),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,g.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,i){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!e.isRowPinned()){var r=this.gridOptionsService.is("aggregateOnlyChangedColumns"),n=new ds(r,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(n)}this.rowRenderer.refreshCells()}},yn([h("rowModel")],t.prototype,"rowModel",void 0),yn([h("rowRenderer")],t.prototype,"rowRenderer",void 0),yn([G],t.prototype,"init",null),yn([U("changeDetectionService")],t)}(I),Wg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},jg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Wg(t,o),t.prototype.adaptFunction=function(e,i){var r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(i):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function r(){}return r.prototype.refresh=function(n){return!1},r.prototype.getGui=function(){return this.eGui},r.prototype.init=function(n){var s=e(n),a=typeof s;this.eGui="string"!==a&&"number"!==a&&"boolean"!==a?null!=s?s:He("<span></span>"):He("<span>"+s+"</span>")},r}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},Hl([h("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Hl([U("agComponentUtils")],t)}(I),kg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ys=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ug=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return kg(t,o),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},ys([h("agComponentUtils")],t.prototype,"agComponentUtils",void 0),ys([G],t.prototype,"postConstruct",null),ys([U("componentMetadataProvider")],t)}(I),zg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Kg=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Xg={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Bl={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Zg=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.calculatedSizes={},e}return zg(t,o),t.prototype.postConstruct=function(){var i,e=this,r=null!==(i=this.getTheme().el)&&void 0!==i?i:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:g.EVENT_GRID_STYLES_CHANGED})},t.prototype.getSassVariable=function(e){var i=this.getTheme(),r=i.themeFamily,n=i.el;if(r&&0===r.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={}),this.calculatedSizes[r][e]??(this.calculatedSizes[r][e]=this.calculateValueForSassProperty(e,r,n),this.calculatedSizes[r][e])},t.prototype.calculateValueForSassProperty=function(e,i,r){var n,s="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),a=Xg[s][e],l=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!Bl[e])return a;var u=Bl[e],d=l.createElement("div"),c=Array.from(r.classList);(n=d.classList).add.apply(n,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Kg(arguments[t]));return o}([i],c)),d.style.position="absolute";var p=u.reduce(function(_,E){var O=l.createElement("div");return O.style.position="static",O.classList.add(E),_.appendChild(O),O},d),y=0;if(l.body){l.body.appendChild(d);var S=-1!==e.toLowerCase().indexOf("height")?"height":"width";y=parseInt(window.getComputedStyle(p)[S],10),l.body.removeChild(d)}return y||a},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,i=this.eGridDiv,r=null,n=[];i;){if(r=e.exec(i.className)){var s=i.className.match(e);s&&(n=s);break}i=i.parentElement||void 0}if(!r)return{allThemes:n};var a=r[0];return{theme:a,el:i,themeFamily:a.replace(/-dark$/,""),allThemes:n}},t.prototype.getFromTheme=function(e,i){var r;return null!==(r=this.getSassVariable(i))&&void 0!==r?r:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.setRowHeightVariable=function(e){var r=e+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=r&&this.eGridDiv.style.setProperty("--ag-line-height",r)},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return x(e)?Math.max(e,10):10},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),o.prototype.destroy.call(this)},Cs([h("eGridDiv")],t.prototype,"eGridDiv",void 0),Cs([G],t.prototype,"postConstruct",null),Cs([U("environment")],t)}(I),Jg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},$g=function(o,t){return function(e,i){t(e,i,o)}},ey=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Jg(t,o),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,g.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=ua(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(i!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=r,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+i+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(i)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:g.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var i="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:g.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var i=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/i)},Cn([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Cn([$g(0,Xe("loggerFactory"))],t.prototype,"agWire",null),Cn([G],t.prototype,"postConstruct",null),Cn([U("rowContainerHeightService")],t)}(I),ty=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Wl=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},iy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ty(t,o),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(r){return r.childrenAfterGroup})},t.prototype.recurseDown=function(e,i){var r=this;e&&e.forEach(function(n){var s;n.group&&(n.hasChildren()&&r.recurseDown(i(n),i),s=r.groupSelectsChildren?x((i(n)||[]).find(function(l){return!0===l.selectable})):!!r.isRowSelectableFunc&&r.isRowSelectableFunc(n),n.setRowSelectable(s))})},Wl([G],t.prototype,"init",null),Wl([U("selectableService")],t)}(I),ry=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ny=function(o){function t(){var e=o.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return ry(t,o),t.prototype.postConstruct=function(){var e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",be(e?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",be(e?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",be(e?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",be(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var i=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,g.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(i){var r=i.el,n=i.fn;e.addManagedListener(r,"click",n),e.addManagedListener(r,"keydown",function(s){(s.key===F.ENTER||s.key===F.SPACE)&&(s.preventDefault(),n())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?i+1:0)},t.prototype.formatNumber=function(e){var i=this.gridOptionsService.getCallback("paginationNumberFormatter");if(i)return i({value:e});var n=this.localeService.getLocaleTextFunc();return so(e,n("thousandSeparator",","),n("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),r=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),a=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),d=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+d+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+d+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+d+'-to">'+r+'</span>\n                    <span id="ag-'+d+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+d+'-of">'+n+'</span>\n                    <span id="ag-'+d+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+d+'-start-page">'+i+'</span>\n                        <span id="ag-'+d+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+d+'-of-page">'+n+'</span>\n                        <span id="ag-'+d+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+l+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+u+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var n=this.isZeroPagesToDisplay();this.nextButtonDisabled=i&&e===r-1||n,this.lastButtonDisabled=!i||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,i){zn(e,i),e.classList.toggle("ag-disabled",i),i?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var s,a,e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?s=a=0:(a=(s=i*e+1)+i-1,r&&a>n&&(a=n)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(a)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return e&&0===i},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(1===r){var n=this.paginationProxy.getRow(0);if(n&&n.group&&!n.groupData&&!n.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(i),this.lbRecordCount.innerHTML=this.formatNumber(r);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},yt([h("paginationProxy")],t.prototype,"paginationProxy",void 0),yt([h("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),yt([H("btFirst")],t.prototype,"btFirst",void 0),yt([H("btPrevious")],t.prototype,"btPrevious",void 0),yt([H("btNext")],t.prototype,"btNext",void 0),yt([H("btLast")],t.prototype,"btLast",void 0),yt([H("lbRecordCount")],t.prototype,"lbRecordCount",void 0),yt([H("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),yt([H("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),yt([H("lbCurrent")],t.prototype,"lbCurrent",void 0),yt([H("lbTotal")],t.prototype,"lbTotal",void 0),yt([G],t.prototype,"postConstruct",null),t}(oe),oy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ai=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},wr=function(o){return o[o.Loading=0]="Loading",o[o.NoRows=1]="NoRows",o}(wr||{}),sy=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return oy(t,o),t.prototype.updateLayoutClasses=function(e,i){var r=this.eOverlayWrapper.classList;r.toggle(Fe.AUTO_HEIGHT,i.autoHeight),r.toggle(Fe.NORMAL,i.normal),r.toggle(Fe.PRINT,i.print)},t.prototype.postConstruct=function(){this.createManagedBean(new Uo(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,g.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,g.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",e===wr.Loading),i.toggle("ag-overlay-no-rows-wrapper",e===wr.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var r=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(r,wr.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var r=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(r,wr.NoRows)}},t.prototype.showOverlay=function(e,i){var r=this;this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(n){r.inProgress=!1,r.eOverlayWrapper.appendChild(n.getGui()),r.activeOverlay=n,r.destroyRequested&&(r.destroyRequested=!1,r.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),rt(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),o.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),i=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!i?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ai([h("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ai([h("paginationProxy")],t.prototype,"paginationProxy",void 0),Ai([h("gridApi")],t.prototype,"gridApi",void 0),Ai([h("columnModel")],t.prototype,"columnModel",void 0),Ai([H("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Ai([G],t.prototype,"postConstruct",null),t}(oe),ay=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},ly=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ay(t,o),t.prototype.getFirstRow=function(){var i,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),void 0===i?null:{rowIndex:e,rowPinned:i}},t.prototype.getLastRow=function(){var e,i=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(i="bottom",e=r-1):this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageLastRow()):n&&(i="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:i}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,i){return!e&&!i||!(e&&!i||!e&&i)&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned},t.prototype.before=function(e,i){switch(e.rowPinned){case"top":if("top"!==i.rowPinned)return!0;break;case"bottom":if("bottom"!==i.rowPinned)return!1;break;default:if(x(i.rowPinned))return"top"!==i.rowPinned}return e.rowIndex<i.rowIndex},t.prototype.rowMax=function(e){var r,i=this;return e.forEach(function(n){(void 0===r||i.before(r,n))&&(r=n)}),r},t.prototype.rowMin=function(e){var r,i=this;return e.forEach(function(n){(void 0===r||i.before(n,r))&&(r=n)}),r},mn([h("rowModel")],t.prototype,"rowModel",void 0),mn([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),mn([h("paginationProxy")],t.prototype,"paginationProxy",void 0),mn([U("rowPositionUtils")],t)}(I),uy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return uy(t,o),t.prototype.createId=function(e){return this.createIdFromValues({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned})},t.prototype.createIdFromValues=function(e){return e.rowIndex+"."+(e.rowPinned??"null")+"."+e.column.getId()},t.prototype.equals=function(e,i){return e.column===i.column&&e.rowPinned===i.rowPinned&&e.rowIndex===i.rowIndex},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("cellPositionUtils")],t),t}(I),py=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sr=function(){return function o(t){this.cellValueChanges=t}}(),_s=function(o){function t(e,i,r,n){var s=o.call(this,e)||this;return s.initialRange=i,s.finalRange=r,s.ranges=n,s}return py(t,o),t}(Sr),jl=function(){function o(t){this.actionStack=[],this.maxStackSize=t||o.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return o.prototype.pop=function(){return this.actionStack.pop()},o.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},o.prototype.clear=function(){this.actionStack=[]},o.prototype.getCurrentStackSize=function(){return this.actionStack.length},o.DEFAULT_STACK_SIZE=10,o}(),hy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wn=function(){return wn=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},wn.apply(this,arguments)},Pt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},fy=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},gy=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(i){var r={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned},n=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,r),s=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,r);if(n||s||e.isPasting||e.isRangeInAction){var c=i.oldValue,p=i.value,y={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:i.column.getColId(),newValue:p,oldValue:c};e.cellValueChanges.push(y)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return hy(t,o),t.prototype.init=function(){var e=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var i=this.gridOptionsService.getNum("undoRedoCellEditingLimit");i<=0||(this.undoStack=new jl(i),this.redoStack=new jl(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,g.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,g.EVENT_MODEL_UPDATED,function(r){r.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,g.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){this.eventService.dispatchEvent({type:g.EVENT_UNDO_STARTED,source:e});var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:g.EVENT_UNDO_ENDED,source:e,operationPerformed:r})},t.prototype.redo=function(e){this.eventService.dispatchEvent({type:g.EVENT_REDO_STARTED,source:e});var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:g.EVENT_REDO_ENDED,source:e,operationPerformed:r})},t.prototype.undoRedo=function(e,i,r,n,s){if(!e)return!1;var a=e.pop();return!(!a||!a.cellValueChanges||(this.processAction(a,function(l){return l[n]},s),a instanceof _s?this.processRange(a.ranges||[a[r]]):this.processCell(a.cellValueChanges),i.push(a),0))},t.prototype.processAction=function(e,i,r){var n=this;e.cellValueChanges.forEach(function(s){var u=s.columnId,c=n.getRowNode({rowIndex:s.rowIndex,rowPinned:s.rowPinned});c.displayed&&c.setDataValue(u,i(s),r)})},t.prototype.processRange=function(e){var r,i=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(n,s){if(n){var a=n.startRow,l=n.endRow;s===e.length-1&&(r={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:n.startColumn.getColId()},i.setLastFocusedCell(r)),i.rangeService.addCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:n.startColumn,columns:n.columns})}})},t.prototype.processCell=function(e){var i=e[0],a=this.getRowNode({rowIndex:i.rowIndex,rowPinned:i.rowPinned});this.setLastFocusedCell({rowPinned:i.rowPinned,rowIndex:a.rowIndex,columnId:i.columnId},!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,i){var r=e.rowIndex,n=e.columnId,s=e.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(n);if(l){a.ensureIndexVisible(r),a.ensureColumnVisible(l);var u={rowIndex:r,column:l,rowPinned:s};this.focusService.setFocusedCell(wn(wn({},u),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(u)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_ROW_EDITING_STARTED,function(i){e.activeRowEdit={rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,g.EVENT_ROW_EDITING_STOPPED,function(){var i=new Sr(e.cellValueChanges);e.pushActionsToUndoStack(i),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_CELL_EDITING_STARTED,function(i){e.activeCellEdit={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,g.EVENT_CELL_EDITING_STOPPED,function(i){if(e.activeCellEdit=null,i.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var n=new Sr(e.cellValueChanges);e.pushActionsToUndoStack(n)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,g.EVENT_PASTE_END,function(){var i=new Sr(e.cellValueChanges);e.pushActionsToUndoStack(i),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,g.EVENT_FILL_END,function(i){var r=new _s(e.cellValueChanges,i.initialRange,i.finalRange);e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,g.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var i;i=e.rangeService&&e.gridOptionsService.isEnableRangeSelection()?new _s(e.cellValueChanges,void 0,void 0,function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(fy(arguments[t]));return o}(e.rangeService.getCellRanges())):new Sr(e.cellValueChanges),e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Pt([h("focusService")],t.prototype,"focusService",void 0),Pt([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Pt([h("rowModel")],t.prototype,"rowModel",void 0),Pt([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Pt([h("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Pt([h("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Pt([h("columnModel")],t.prototype,"columnModel",void 0),Pt([ve("rangeService")],t.prototype,"rangeService",void 0),Pt([G],t.prototype,"init",null),Pt([U("undoRedoService")],t)}(I),yy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Es=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Cy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return yy(t,o),t.prototype.findHeader=function(e,i){var r;if(r=e.column instanceof it?this.columnModel["getDisplayedGroup"+i](e.column):this.columnModel["getDisplayedCol"+i](e.column)){var a=e.headerRowIndex;if(this.getHeaderRowType(a)===je.COLUMN_GROUP){var u=r;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var d=this.getColumnVisibleChild(u,a,i),c=d.nextFocusColumn;c&&(r=c,a=d.nextRow)}}return{column:r,headerRowIndex:a}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some(function(i){return i.isSpanHeaderHeight()})},t.prototype.getColumnVisibleParent=function(e,i){var r=this.getHeaderRowType(i),s=r===je.COLUMN,a=r===je.FLOATING_FILTER?e:e.getParent(),l=i-1;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=e,l=i)}return{nextFocusColumn:a,nextRow:l}},t.prototype.getColumnVisibleChild=function(e,i,r){void 0===r&&(r="After");var s=e,a=i+1;if(this.getHeaderRowType(i)===je.COLUMN_GROUP){var l=e.getLeafColumns(),u="After"===r?l[0]:fe(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var d=u.getParent();d&&d!==e;)d=d.getParent(),a++}else s=e.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},t.prototype.getHeaderRowType=function(e){var i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,i){var r=this.columnModel.getAllDisplayedColumns(),n=r["start"===i?0:r.length-1];if(n){var a=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);return a==je.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(n,e)}:{headerRowIndex:null==a?-1:e,column:n}}},Es([h("columnModel")],t.prototype,"columnModel",void 0),Es([h("ctrlsService")],t.prototype,"ctrlsService",void 0),Es([U("headerPositionUtils")],t)}(I),wy=function(){function o(){}return o.prototype.buildColumnDefs=function(t,e,i){var r=this,n=[],s={};return t.forEach(function(a){for(var u=!0,d=r.createDefFromColumn(a,e,i),c=a.getOriginalParent();c;){var p=null;if(c.isPadding())c=c.getOriginalParent();else{var y=s[c.getGroupId()];if(y){y.children.push(d),u=!1;break}(p=r.createDefFromGroup(c))&&(p.children=[d],s[p.groupId]=p,d=p,c=c.getOriginalParent())}}u&&n.push(d)}),n},o.prototype.createDefFromGroup=function(t){var e=P(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},o.prototype.createDefFromColumn=function(t,e,i){var r=P(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?i.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=!t.isVisible()||void 0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,r},o=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("columnDefFactory")],o),o}(),Rs=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Sy=function(){function o(){}return o.prototype.getInitialRowClasses=function(t){var e=[];return x(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Mn(e,this.processClassesFromGridOptions(t.rowNode)),Mn(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},o.prototype.processClassesFromGridOptions=function(t){var e=[],i=function(l){"string"==typeof l?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},r=this.gridOptionsService.get("rowClass");if(r){if("function"==typeof r)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(r)}var n=this.gridOptionsService.getCallback("getRowClass");return n&&i(n({data:t.data,node:t,rowIndex:t.rowIndex})),e},o.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(i){e.push(i)},function(i){}),e},o.prototype.processRowClassRules=function(t,e,i){var r={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),r,e,i)},o.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},Rs([h("stylingService")],o.prototype,"stylingService",void 0),Rs([h("gridOptionsService")],o.prototype,"gridOptionsService",void 0),Rs([U("rowCssClassCalculator")],o)}(),_y=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sn=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ey=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return _y(t,o),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(i){return e.isAccentedSort=i.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,i){var n=e.map(function(s,a){return{currentPos:a,rowNode:s}});return n.sort(this.compareRowNodes.bind(this,i)),n.map(function(s){return s.rowNode})},t.prototype.compareRowNodes=function(e,i,r){for(var n=i.rowNode,s=r.rowNode,a=0,l=e.length;a<l;a++){var y,u=e[a],d="desc"===u.sort,c=this.getValue(n,u.column),p=this.getValue(s,u.column),S=this.getComparator(u,n);if(y=S?S(c,p,n,s,d):Nt.defaultComparator(c,p,this.isAccentedSort),!isNaN(y)&&0!==y)return"asc"===u.sort?y:-1*y}return i.currentPos-r.currentPos},t.prototype.getComparator=function(e,i){var r=e.column,n=r.getColDef().comparator;if(null!=n)return n;if(r.getColDef().showRowGroup){var s=!i.group&&r.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},t.prototype.getValue=function(e,i){var r,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(i.getColDef().keyCreator)return e.key;var u=null===(r=e.allLeafChildren)||void 0===r?void 0:r[0];return u?this.valueService.getValue(i,u,!1,!1):void 0}var d=this.columnModel.getGroupDisplayColumnForGroup(i.getId());return d?null===(n=e.groupData)||void 0===n?void 0:n[d.getId()]:void 0}return e.group&&i.getColDef().showRowGroup?void 0:this.valueService.getValue(i,e,!1,!1)},Sn([h("valueService")],t.prototype,"valueService",void 0),Sn([h("columnModel")],t.prototype,"columnModel",void 0),Sn([G],t.prototype,"init",null),Sn([U("rowNodeSorter")],t)}(I),Ry=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ty=function(o){function t(){var i=null!==o&&o.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}var e;return Ry(t,o),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(r){return r(i)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(i){this.fakeHScrollComp=i,this.checkReady()},t.prototype.registerFakeVScrollComp=function(i){this.fakeVScrollComp=i,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(i){this.stickyTopCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(i){this.stickyTopLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(i){this.stickyTopRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerHeaderContainer=function(i,r){switch(r){case"left":this.leftHeaderRowContainerCtrl=i;break;case"right":this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i}this.checkReady()},t.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},t.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U(e.NAME)],t),t}(I),Dy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),by=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.registry={},e}return Dy(t,o),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var i=this.registry[e];if(null!=i)return new i},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("ctrlsFactory")],t),t}(I),Ay=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_n=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},kl=function(o){function t(e,i){var r=o.call(this,e)||this;return r.direction=i,r.hideTimeout=null,r}return Ay(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,g.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",oo()||Kt())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Gi(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,n=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(s){return e.addManagedListener(n,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(s){return e.addManagedListener(n,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,g.EVENT_BODY_SCROLL,function(i){i.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,g.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},_n([H("eViewport")],t.prototype,"eViewport",void 0),_n([H("eContainer")],t.prototype,"eContainer",void 0),_n([h("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),_n([h("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(oe),Fy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_r=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ly=function(o){function t(){return o.call(this,t.TEMPLATE,"horizontal")||this}return Fy(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this);var i=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,g.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",i),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new qo(function(r){return e.eContainer.style.width=r+"px"}))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),o.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=e+"px"}},t.prototype.onScrollVisibilityChanged=function(){o.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&e,n=this.gridOptionsService.getScrollbarWidth();r&&(i+=n),ht(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=n);var s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=n),ht(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.is("suppressHorizontalScroll"),n=e&&this.gridOptionsService.getScrollbarWidth()||0,a=r?0:0===n&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),oi(this.getGui(),a),oi(this.eViewport,a),oi(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',_r([H("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),_r([H("eRightSpacer")],t.prototype,"eRightSpacer",void 0),_r([h("columnModel")],t.prototype,"columnModel",void 0),_r([h("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),_r([G],t.prototype,"postConstruct",null),t}(kl),xy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Os=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},My=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return xy(t,o),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,g.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),i=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:g.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:g.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Os([h("columnModel")],t.prototype,"columnModel",void 0),Os([G],t.prototype,"postConstruct",null),Os([U("pinnedWidthService")],t)}(I),Iy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),En=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ny=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.events=[],e}return Iy(t,o),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var i=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){i.clientSideRowModel&&i.clientSideRowModel.onRowGroupOpened(),i.events.forEach(function(n){return i.eventService.dispatchEvent(n)}),i.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},En([h("animationFrameService")],t.prototype,"animationFrameService",void 0),En([h("rowModel")],t.prototype,"rowModel",void 0),En([G],t.prototype,"postConstruct",null),En([U("rowNodeEventThrottle")],t)}(I),Ts=function(){return Ts=Object.assign||function(o){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o},Ts.apply(this,arguments)},Zt=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},Ul=function(o,t){return function(e,i){t(e,i,o)}},Gy=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n};function zl(o){return!0===o||"true"===o}var By=function(){function o(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Ut}return Object.defineProperty(o.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),o.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.api=t,this.columnApi=e},o.prototype.init=function(){this.gridOptionLookup=new Set(function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Gy(arguments[t]));return o}(Mi.ALL_PROPERTIES,Mi.EVENT_CALLBACKS));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.getScrollbarWidth()},o.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},o.prototype.is=function(t){return zl(this.gridOptions[t])},o.prototype.get=function(t){return this.gridOptions[t]},o.prototype.getNum=function(t){return function Vy(o){return"number"==typeof o?o:"string"==typeof o?parseInt(o,10):void 0}(this.gridOptions[t])},o.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},o.prototype.exists=function(t){return x(this.gridOptions[t])},o.prototype.mergeGridCommonParams=function(t){var e=this;return t?function(r){var n=r;return n.api=e.api,n.columnApi=e.columnApi,n.context=e.context,t(n)}:t},o.prototype.set=function(t,e,i,r){if(void 0===i&&(i=!1),void 0===r&&(r={}),this.gridOptionLookup.has(t)){var n=this.gridOptions[t];if(i||n!==e){this.gridOptions[t]=e;var s=Ts({type:t,currentValue:e,previousValue:n},r);this.propertyEventService.dispatchEvent(s)}}},o.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},o.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var i=Mi.getCallbackForEvent(t);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](e)}},o.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:pa();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:g.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},o.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&Q(this.gridOptions.rowModelType)},o.prototype.isDomLayout=function(t){var e;return(null!==(e=this.gridOptions.domLayout)&&void 0!==e?e:"normal")===t},o.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},o.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},o.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},o.prototype.getRowHeightForNode=function(t,e,i){if(void 0===e&&(e=!1),null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:i,estimated:!0};var r={node:t,data:t.data},n=this.getCallback("getRowHeight")(r);if(this.isNumeric(n))return 0===n&&te(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,n),estimated:!1}}return t.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}},o.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},o.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Q(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.environment.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},o.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},o.prototype.getDomDataKey=function(){return this.domDataKey},o.prototype.getDomData=function(t,e){var i=t[this.getDomDataKey()];return i?i[e]:void 0},o.prototype.setDomData=function(t,e,i){var r=this.getDomDataKey(),n=t[r];Q(n)&&(t[r]=n={}),n[e]=i},o.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&x(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&x(t)?t:document},o.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},o.prototype.getRowIdFunc=function(){var t=this.getCallback("getRowId");if(t)return t;var e=this.gridOptions.getRowNodeId;return e?function(i){return e(i.data)}:void 0},o.prototype.getAsyncTransactionWaitMillis=function(){return x(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},o.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},o.prototype.isTreeData=function(){return this.is("treeData")&&q.assertRegistered(k.RowGroupingModule,"Tree Data")},o.prototype.isMasterDetail=function(){return this.is("masterDetail")&&q.assertRegistered(k.MasterDetailModule,"masterDetail")},o.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&q.isRegistered(k.RangeSelectionModule)},o.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!t?.comparator},o.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):zl(t)?function(){return!0}:void 0},o.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Wn("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},o.prototype.isGroupUseEntireRow=function(t){return!t&&!!this.gridOptions.groupDisplayType&&Wn("groupRows",this.gridOptions.groupDisplayType)},Zt([h("gridOptions")],o.prototype,"gridOptions",void 0),Zt([h("eventService")],o.prototype,"eventService",void 0),Zt([h("environment")],o.prototype,"environment",void 0),Zt([h("eGridDiv")],o.prototype,"eGridDiv",void 0),Zt([Ul(0,Xe("gridApi")),Ul(1,Xe("columnApi"))],o.prototype,"agWire",null),Zt([G],o.prototype,"init",null),Zt([qe],o.prototype,"destroy",null),Zt([U("gridOptionsService")],o)}(),Wy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ky=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Wy(t,o),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(n,s,a){return e({key:n,defaultValue:s,variableValues:a})};var i=this.gridOptionsService.get("localeTextFunc");if(i)return i;var r=this.gridOptionsService.get("localeText");return function(n,s,a){var l=r&&r[n];if(l&&a&&a.length)for(var u=0;!(u>=a.length)&&-1!==l.indexOf("${variable}");)l=l.replace("${variable}",a[u++]);return l??s}},t=function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n}([U("localeService")],t),t}(I),Uy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ky=function(o){function t(){return o.call(this,t.TEMPLATE,"vertical")||this}return Uy(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.createManagedBean(new gl(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,n=0===r&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),ht(this.getGui(),n),ht(this.eViewport,n),ht(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(o,t,e,i){var s,r=arguments.length,n=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,t,e,i);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(n=(r<3?s(n):r>3?s(t,e,n):s(t,e))||n);r>3&&n&&Object.defineProperty(t,e,n)}([G],t.prototype,"postConstruct",null),t}(kl),Yy=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var r,s,i=e.call(o),n=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)n.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return n},Kl=function(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Yy(arguments[t]));return o},Qy=function(){function o(t,e,i){e?(this.gridOptions=e,(new qy).create(t,e,function(r){var n=new Tg(t);r.createBean(n)},void 0,i)):console.error("AG Grid: no gridOptions provided to the grid")}return o.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},o}(),qy=function(){function o(){}return o.prototype.create=function(t,e,i,r,n){var s=this,a=!!e.debug,l=this.getRegisteredModules(n),u=this.createBeansList(e.rowModelType,l),d=this.createProvidedBeans(t,e,n);if(u){var c={providedBeanInstances:d,beanClasses:u,debug:a},p=new fs("AG Grid",function(){return e.debug}),y=new fs("Context",function(){return c.debug}),S=new Zl(c,y),_=S.getBean("beans");this.registerModuleUserComponents(_,l),this.registerStackComponents(_,l),this.registerControllers(_,l),i(S),_.ctrlsService.whenReady(function(){s.setColumnsAndData(_),s.dispatchGridReadyEvent(_);var E=q.isRegistered(k.EnterpriseCoreModule);p.log("initialised successfully, enterprise = "+E)}),r&&r(S)}},o.prototype.registerControllers=function(t,e){e.forEach(function(i){i.controllers&&i.controllers.forEach(function(r){return t.ctrlsFactory.register(r)})})},o.prototype.registerStackComponents=function(t,e){var i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)},o.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,i=q.getRegisteredModules(),r=[],n={};function s(a,l){(function u(d){n[d.moduleName]||(n[d.moduleName]=!0,r.push(d),q.register(d,a))})(l),l.dependantModules&&l.dependantModules.forEach(s.bind(null,a))}return e&&e.forEach(s.bind(null,!0)),i&&i.forEach(s.bind(null,!q.isPackageBased())),r},o.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(r){return r.userComponents?r.userComponents:[]}).forEach(function(r){t.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})},o.prototype.createProvidedBeans=function(t,e,i){var r=i?i.frameworkOverrides:null;Q(r)&&(r=new xl);var n={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:r};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n},o.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Yi},{componentName:"AgRadioButton",componentClass:Ha},{componentName:"AgToggleButton",componentClass:mv},{componentName:"AgInputTextField",componentClass:Ei},{componentName:"AgInputTextArea",componentClass:Sv},{componentName:"AgInputNumberField",componentClass:Mo},{componentName:"AgInputRange",componentClass:Ev},{componentName:"AgSelect",componentClass:Wr},{componentName:"AgSlider",componentClass:Ov},{componentName:"AgGridBody",componentClass:Oh},{componentName:"AgHeaderRoot",componentClass:If},{componentName:"AgSortIndicator",componentClass:Go},{componentName:"AgPagination",componentClass:ny},{componentName:"AgOverlayWrapper",componentClass:sy},{componentName:"AgGroupComponent",componentClass:Dv},{componentName:"AgPanel",componentClass:Ll},{componentName:"AgDialog",componentClass:jv},{componentName:"AgRowContainer",componentClass:Wh},{componentName:"AgFakeHorizontalScroll",componentClass:Ly},{componentName:"AgFakeVerticalScroll",componentClass:Ky}],i=this.extractModuleEntity(t,function(r){return r.agStackComponents?r.agStackComponents:[]});return e.concat(i)},o.prototype.createBeansList=function(t,e){void 0===t&&(t="clientSide");var i=e.filter(function(l){return!l.rowModel||l.rowModel===t}),r={clientSide:k.ClientSideRowModelModule,infinite:k.InfiniteRowModelModule,serverSide:k.ServerSideRowModelModule,viewport:k.ViewportRowModelModule};if(r[t]){if(q.assertRegistered(r[t],"rowModelType = '"+t+"'")){var n=[pl,ly,cy,Cy,Ig,ip,Nc,jg,Ug,kf,$c,ey,Gf,ky,gu,lv,tp,Gu,Ut,By,Xv,dg,np,Fu,Af,vv,rv,gg,cu,mg,sg,Fh,Gg,hg,_g,Mu,Yf,Vf,Ve,cg,hr,bh,Zg,rg,sv,yv,Dh,Pg,Fg,xg,iy,Su,Bg,zf,gy,Bu,wy,Sy,hv,Ey,Ty,My,Ny,by],s=this.extractModuleEntity(i,function(l){return l.beans?l.beans:[]});n.push.apply(n,Kl(s));var a=[];return n.forEach(function(l){a.indexOf(l)<0&&a.push(l)}),a}}else console.error("AG Grid: could not find row model for rowModelType = "+t)},o.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],Kl(t.map(e)))},o.prototype.setColumnsAndData=function(t){var e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},o.prototype.dispatchGridReadyEvent=function(t){t.eventService.dispatchEvent({type:g.EVENT_GRID_READY})},o}(),Xy=function(){function o(){}return o.prototype.wrap=function(t,e,i,r){var n=this;void 0===i&&(i=[]);var s=this.createWrapper(t,r);return e.forEach(function(a){n.createMethod(s,a,!0)}),i.forEach(function(a){n.createMethod(s,a,!1)}),s},o.prototype.unwrap=function(t){return t},o.prototype.createMethod=function(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))},o.prototype.createMethodProxy=function(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},o}(),Fi=typeof global>"u"?{}:global;Fi.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Fi.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Fi.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Fi.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Fi.Node=typeof Node>"u"?{}:Node,Fi.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.04.00/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_services_content-types_service_ts-projects-9c4dae.b4dfb2f36972782d.js.map