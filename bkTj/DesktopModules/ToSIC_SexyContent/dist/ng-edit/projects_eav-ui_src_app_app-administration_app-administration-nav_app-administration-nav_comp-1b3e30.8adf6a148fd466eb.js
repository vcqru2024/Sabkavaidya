"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-administration-nav_app-administration-nav_comp-1b3e30"],{5022:(F,g,o)=>{o.r(g),o.d(g,{AppAdministrationNavComponent:()=>J});var l=o(5204),h=o(4844),v=o(5876),u=o(6560),c=o(604),f=o(1792),A=o(2816),y=o(9412),b=o(6916),x=o(533);const I=[{name:"Info",path:"home",icon:"info",tippy:"App Info"},{name:"Data",path:`data/${o(9224)._K.scopes.default.value}`,icon:"menu",tippy:"Data / Content",child:[{name:"Copilot (beta)",path:"copilot",icon:"support_agent",tippy:"Autogenerate content types "}]},{name:"Queries",path:"queries",icon:"filter_list",tippy:"Queries / Visual Query Designer"},{name:"Views",path:"views",icon:"layers",tippy:"Views / Templates"},{name:"Web API",path:"web-api",icon:"offline_bolt",tippy:"WebApi"},{name:"App",path:"app",icon:"settings_applications",tippy:"App Settings"},{name:"Sync",path:"sync",icon:"sync",tippy:"App Export / Import"}];var t=o(4896),S=o(600),_=o(812),G=o(8200),C=o(6192),$=o(3700),P=o(4672),N=o(2328),M=o(4872),m=o(5820),Y=o(5056);const T=["sidenav"],E=(i,a)=>a.path;function R(i,a){if(1&i){const n=t.KQA();t.I0R(0,"img",10),t.qCj("click",function(){t.usT(n),t.GaO();const s=t.Gew(19);return t.CGJ(s.opened=!s.opened)}),t.C$Y()}if(2&i){const n=t.GaO();t.E7m("src",(null==n.dialogSettings?null:n.dialogSettings.Context.App.Icon)+"?w=40&h=40&mode=crop",t.K6U)}}function D(i,a){if(1&i){const n=t.KQA();t.I0R(0,"mat-icon",11),t.qCj("click",function(){t.usT(n),t.GaO();const s=t.Gew(19);return t.CGJ(s.opened=!s.opened)}),t.OEk(1,"menu"),t.C$Y()}}function Q(i,a){1&i&&t.OEk(0," Global ")}function k(i,a){if(1&i&&t.OEk(0),2&i){const n=t.GaO();t.oRS(" ",null==n.dialogSettings?null:n.dialogSettings.Context.App.Name," ")}}function w(i,a){if(1&i&&(t.I0R(0,"mat-icon",12),t.OEk(1,"chevron_right"),t.C$Y(),t.OEk(2)),2&i){const n=t.GaO().$implicit;t.yG2(2),t.oRS(" ",n," ")}}function K(i,a){if(1&i&&(t.SAx(0),t.yuY(1,w,3,1),t.k70()),2&i){const n=a.last;t.yG2(1),t.C0Y(1,n?1:-1)}}function W(i,a){}function j(i,a){1&i&&t.wR5(0,"app-nav-item-list",13),2&i&&t.E7m("navItem",a.$implicit)}function V(i,a){if(1&i){const n=t.KQA();t.I0R(0,"mat-toolbar")(1,"div",0),t.yuY(2,R,1,1,"img",1)(3,D,2,0),t.I0R(4,"div"),t.yuY(5,Q,1,0)(6,k,1,1),t.I0R(7,"span"),t.OEk(8," Admin "),t.C$Y()(),t.I0R(9,"xng-breadcrumb",2),t.yuY(10,K,2,1,"ng-container",3),t.C$Y(),t.yuY(11,W,0,0,"ng-template",null,4,t.gJz),t.C$Y(),t.wR5(13,"span",5),t.I0R(14,"button",6),t.qCj("click",function(){t.usT(n);const s=t.GaO();return t.CGJ(s.closeDialog())}),t.I0R(15,"mat-icon"),t.OEk(16,"close"),t.C$Y()()(),t.I0R(17,"mat-sidenav-container")(18,"mat-sidenav",7,8),t.c53(20,j,1,1,"app-nav-item-list",13,E),t.I0R(22,"div",9)(23,"p"),t.OEk(24,"use App logo to show/hide menu"),t.C$Y()()(),t.I0R(25,"mat-sidenav-content"),t.wR5(26,"router-outlet"),t.C$Y()()}if(2&i){const n=t.Gew(12),e=t.GaO();t.yG2(2),t.C0Y(2,null!=a.dialogSettings&&a.dialogSettings.Context.App.Icon?2:3),t.yG2(3),t.C0Y(5,(null==a.dialogSettings?null:a.dialogSettings.Context.App.SettingsScope)===e.AppScopes.Global?5:-1),t.yG2(1),t.C0Y(6,(null==a.dialogSettings?null:a.dialogSettings.Context.App.SettingsScope)!==e.AppScopes.Global?6:-1),t.yG2(3),t.E7m("separator",n),t.yG2(9),t.E7m("mode",e.smallScreen.matches?"over":"side")("opened",e.sideNavOpened),t.yG2(2),t.oho(e.navItems)}}let J=(()=>{class i extends A.K{constructor(n,e,s,p,z){super(n,e),this.router=n,this.route=e,this.dialogRef=s,this.appDialogConfigService=p,this.media=z,this.AppScopes=b.o,this.dialogSettings$=new h.g(void 0),this.pathsArray$=new h.g(void 0),this.currentPath$=(0,v.E)([this.pathsArray$,this.router.events.pipe((0,u.I)(r=>r instanceof l.cf),(0,c.k)(()=>this.route.snapshot.firstChild.url[0].path),(0,f.W)(this.route.snapshot.firstChild.url[0].path))]).pipe((0,c.k)(([r,d])=>{if(null!=r)return d})),this.viewModel$=(0,v.E)([this.dialogSettings$,this.currentPath$]).pipe((0,c.k)(([r,d])=>({dialogSettings:r,currentPath:d}))),this.smallScreen=this.media.matchMedia("(max-width: 1000px)"),this.sideNavOpened=!this.smallScreen.matches,this.navItems=I}ngOnInit(){this.fetchDialogSettings(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchDialogSettings()})),this.smallScreen.addEventListener("change",n=>(this.sidenav.opened=!n.matches,this.sidenav.mode=n.matches?"over":"side"))}ngOnDestroy(){this.dialogSettings$.complete(),this.pathsArray$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}fetchDialogSettings(){this.appDialogConfigService.getShared$().subscribe(n=>{(0,y.s)(n.Context.App),this.dialogSettings$.next(n),n.Context.Enable.Query||(this.navItems=this.navItems.filter(e=>"Queries"!==e.name&&"Web API"!==e.name)),this.pathsArray$.next(this.navItems.map(e=>e.path))})}static#t=this.\u0275fac=function(e){return new(e||i)(t.GI1(l.E5),t.GI1(l.gV),t.GI1(S.yI),t.GI1(x.m),t.GI1(_.iG))};static#n=this.\u0275cmp=t.In1({type:i,selectors:[["app-app-administration-nav"]],viewQuery:function(e,s){if(1&e&&t.CC$(T,5),2&e){let p;t.wto(p=t.Gqi())&&(s.sidenav=p.first)}},features:[t.eg9],decls:2,vars:3,consts:[[1,"toolbar-container"],[3,"src"],[3,"separator"],[4,"xngBreadcrumbItem"],["emptyTemplate",""],[1,"toolbar-spacer"],["mat-icon-button","","tippy","Close dialog",3,"click"],[3,"mode","opened"],["sidenav",""],[1,"sideNav-bottom-info"],[3,"src","click"],[1,"menu-container",3,"click"],[1,"breadcrumb-icon"],[3,"navItem"]],template:function(e,s){if(1&e&&(t.yuY(0,V,27,6),t.wVc(1,"async")),2&e){let p;t.C0Y(0,(p=t.kDX(1,1,s.viewModel$))?0:-1,p)}},dependencies:[l.cP,G.Y,C.ay,C.g3,$.q,P.um,N.qL,M.EZ,m.Ar,m.WS,m.Uq,Y.a],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid rgba(0,0,0,.1);position:sticky;top:0;z-index:10;flex:1 0 74px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{margin-right:16px;cursor:pointer}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid rgba(0,0,0,.2);border-radius:16px 0;margin-right:16px;-webkit-user-select:none;user-select:none;text-shadow:none;cursor:pointer;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-sidenav-container[_ngcontent-%COMP%]{height:100vh}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:295px;border-right:1px solid rgba(0,0,0,.1)}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNav-bottom-info[_ngcontent-%COMP%]{position:absolute;bottom:0;text-align:center;width:100%;font-size:12px}.container-content[_ngcontent-%COMP%]{height:100%}.active[_ngcontent-%COMP%]{background-color:#8080801a}  .xng-breadcrumb-separator{margin-left:0!important;margin-right:0!important}  .mat-drawer-container{background-color:transparent!important}"]})}return i})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.04.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-administration-nav_app-administration-nav_comp-1b3e30.8adf6a148fd466eb.js.map