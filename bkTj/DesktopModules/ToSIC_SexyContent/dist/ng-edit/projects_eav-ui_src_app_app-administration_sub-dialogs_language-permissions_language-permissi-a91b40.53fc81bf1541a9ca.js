"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40"],{9992:(B,l,s)=>{s.r(l),s.d(l,{LanguagePermissionsComponent:()=>D});var c=s(5128),u=s(4844),p=s(5876),h=s(604),v=s(3728),C=s(2876),f=s(2816),P=s(5760),I=s(1743),e=s(4896),g=s(8200),d=s(2328),O=s(6176),y=s(32);let L=(()=>{class i{agInit(n){this.params=n,this.language=this.params.data}refresh(n){return!0}openPermissions(){this.params.onOpenPermissions(this.language)}static#e=this.\u0275fac=function(a){return new(a||i)};static#s=this.\u0275cmp=e.In1({type:i,selectors:[["app-languages-permissions-actions"]],decls:4,vars:2,consts:[[1,"actions-component"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(a,t){1&a&&(e.I0R(0,"div",0)(1,"div",1),e.qCj("click",function(){return t.openPermissions()}),e.I0R(2,"mat-icon",2),e.OEk(3," person "),e.C$Y()()()),2&a&&(e.yG2(2),e.E7m("matBadge",t.language.Permissions.Count)("matBadgeHidden",!t.language.Permissions.Count))},dependencies:[g.Y,d.qL,O.UZ,y.S]})}return i})();var r=s(5204),m=s(600),R=s(4672),G=s(4072),$=s(5056);function Y(i,T){if(1&i){const n=e.KQA();e.I0R(0,"div",1)(1,"div",2)(2,"div",3),e.OEk(3,"Language permissions"),e.C$Y(),e.I0R(4,"button",4),e.qCj("click",function(){e.usT(n);const t=e.GaO();return e.CGJ(t.closeDialog())}),e.I0R(5,"mat-icon"),e.OEk(6,"close"),e.C$Y()()(),e.I0R(7,"div",5)(8,"p"),e.OEk(9," If no language permissions are defined, all editors can edit all languages. As soon as you set any language permission, only the specified users (or users in the specified groups) can edit these permissions. "),e.C$Y(),e.wR5(10,"router-outlet"),e.I0R(11,"div",6),e.wR5(12,"ag-grid-angular",7),e.C$Y(),e.wR5(13,"mat-dialog-actions",8),e.C$Y()()}if(2&i){const n=e.GaO();e.yG2(12),e.E7m("rowData",T.languages)("gridOptions",n.gridOptions)}}let D=(()=>{class i extends f.K{constructor(n,a,t,o){super(n,a),this.router=n,this.route=a,this.dialogRef=t,this.zoneService=o,this.subscription=new c.wH,this.languages$=new u.g(void 0),this.gridOptions=this.buildGridOptions()}ngOnInit(){this.getLanguages(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.getLanguages()})),this.viewModel$=(0,p.E)([this.languages$]).pipe((0,h.k)(([n])=>({languages:n})))}ngOnDestroy(){this.languages$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}openPermissions(n){this.router.navigate([C.NL.getUrlLanguage(n.NameId)],{relativeTo:this.route})}getLanguages(){this.zoneService.getLanguagesPermissions().subscribe({error:()=>{this.languages$.next(void 0)},next:n=>{this.languages$.next(n)}})}buildGridOptions(){return{...I.A,columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter",valueGetter:a=>a.data.Code,cellRenderer:P.q,cellRendererParams:{tooltipGetter:t=>`ID: ${t.Code}`}},{field:"Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,sort:"asc",filter:"agTextColumnFilter",valueGetter:a=>a.data.Culture},{width:42,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:L,cellRendererParams:{onOpenPermissions:t=>this.openPermissions(t)}}]}}static#e=this.\u0275fac=function(a){return new(a||i)(e.GI1(r.E5),e.GI1(r.gV),e.GI1(m.yI),e.GI1(v.S))};static#s=this.\u0275cmp=e.In1({type:i,selectors:[["app-language-permissions"]],features:[e.eg9],decls:2,vars:3,consts:[["class","eav-dialog nav-component-wrapper"],[1,"eav-dialog","nav-component-wrapper"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content","nav-component-wrapper"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],["align","end"]],template:function(a,t){if(1&a&&(e.yuY(0,Y,14,2,"div",0),e.wVc(1,"async")),2&a){let o;e.C0Y(0,(o=e.kDX(1,1,t.viewModel$))?0:-1,o)}},dependencies:[r.cP,g.Y,m.Yp,R.um,d.qL,G.U5,$.a]})}return i})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.04.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40.53fc81bf1541a9ca.js.map