"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_import-app_services_import-app_service_ts-projects_eav-ui_src_app_sha-1ab7ba","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts"],{5343:(v,h,o)=>{o.d(h,{i:()=>E,t:()=>t});var c=o(9432),g=o(8916),e=o(8288),d=o(6028),i=o(4896),u=o(1332),l=o(3392);const E="admin/app/";let t=(()=>{class a{constructor(s,n,_){this.http=s,this.context=n,this.dnnContext=_}importApp(s,n,_=!1){const p=new FormData;return p.append("File",s),p.append("Name",n??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(E+"Import"),p,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,c.G)(D=>{if(_&&D.Messages[0]?.MessageType===e.cB.Warning){const f=prompt(D.Messages[0].Text+" Would you like to install it using another folder name?");if(f)return this.importApp(s,f,!0)}return(0,g.of)(D)}))}static#t=this.\u0275fac=function(n){return new(n||a)(i.CoB(u.KK),i.CoB(d.e),i.CoB(l.es))};static#o=this.\u0275prov=i.wxM({token:a,factory:a.\u0275fac})}return a})()},6232:(v,h,o)=>{o.d(h,{Y:()=>u});var c=o(624),g=o(6028),e=o(4896),d=o(600),i=o(5204);let u=(()=>{class l{constructor(t,a,r,s,n,_){this.dialog=t,this.viewContainerRef=a,this.router=r,this.route=s,this.context=n,this.changeDetectorRef=_;const p=this.router.getCurrentNavigation();this.dialogData=p?.extras?.state||{}}ngOnInit(){const t=this.route.snapshot.data.dialog;if(null==t)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,c.y)("Open dialog:",t.name,"Context id:",this.context.id,"Context:",this.context),t.getComponent().then(a=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(t,a)}):this.openDialogComponent(t,a)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(t,a){t.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(a,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${t.panelSize}`,t.showScrollbar?"show-scrollbar":"no-scrollbar",...t.panelClass?t.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(r=>{(0,c.y)("Dialog was closed:",t.name,"Data:",r);const s=r;if(null==s?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:r}:{relativeTo:this.route.parent.parent,state:r});else this.router.navigate([s.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(a){return new(a||l)(e.GI1(d.qW),e.GI1(e.y8U),e.GI1(i.E5),e.GI1(i.gV),e.GI1(g.e),e.GI1(e.kD9))};static#o=this.\u0275cmp=e.In1({type:l,selectors:[["app-dialog-entry"]],decls:0,vars:0,template:function(a,r){}})}return l})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.04.00/dist/ng-edit/projects_eav-ui_src_app_import-app_services_import-app_service_ts-projects_eav-ui_src_app_sha-1ab7ba.f7503ec87e54bc04.js.map